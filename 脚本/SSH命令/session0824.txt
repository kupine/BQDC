Last login: Fri Aug 24 11:34:43 2018 from 192.168.0.112
======================================================
      IBM Installation Toolkit for Linux on Power

   IBM value-added software for Linux on Power servers
   is available to be installed.
   You can install it at any time by running:

   $ /opt/ibm/ibmit-preload/install

======================================================

[root@power9-1 ~]# ls
original-ks.cfg  preload
[root@power9-1 ~]# cd /
[root@power9-1 /]# ls
bin  boot  dev  dli_shared_fs  etc  home  installfile  iris_test.csv  iris_training.csv  lib  lib64  lost+found  media  MNIST-data  mnt  opt  proc  root  run  sbin  srv  sys  tmp  usr  var
[root@power9-1 /]# clear
[root@power9-1 /]# pwd
/
[root@power9-1 /]# ps -ef|grep lim
root      51197      1  0 Aug23 ?        00:03:25 /opt/cws221/3.6/linux3.10-glibc2.17-ppc64le/etc/lim
root      51221  51197  0 Aug23 ?        00:00:02 /opt/cws221/3.6/linux3.10-glibc2.17-ppc64le/etc/melim
root      51230  51221  0 Aug23 ?        00:00:11 /bin/sh /opt/cws221/3.6/linux3.10-glibc2.17-ppc64le/etc/elim.disk_net_metric
root      51231  51221  0 Aug23 ?        00:00:36 /bin/sh /opt/cws221/3.6/linux3.10-glibc2.17-ppc64le/etc/elim.host_info
root      51232  51221  0 Aug23 ?        00:00:02 /bin/sh /opt/cws221/3.6/linux3.10-glibc2.17-ppc64le/etc/elim.conductorspark
root      51233  51221  0 Aug23 ?        00:00:10 /bin/sh /opt/cws221/3.6/linux3.10-glibc2.17-ppc64le/etc/elim.disk
root      51234  51221  0 Aug23 ?        00:01:40 /opt/cws221/3.6/linux3.10-glibc2.17-ppc64le/etc/elim.nvidia
root      51235  51221  0 Aug23 ?        00:00:09 /bin/bash /opt/cws221/3.6/linux3.10-glibc2.17-ppc64le/etc/elim.docker
root      51236  51221  0 Aug23 ?        00:00:00 /opt/cws221/3.6/linux3.10-glibc2.17-ppc64le/etc/elim.sa
root     100357  71047  0 13:41 pts/0    00:00:00 grep --color=auto lim
[root@power9-1 /]# cd /opt/cws221/
[root@power9-1 cws221]# source profile.platform 
[root@power9-1 cws221]# egosh user logon -u Admin -x Admin
Logged on successfully
[root@power9-1 cws221]# egosh service list
SERVICE  STATE    ALLOC CONSUMER RGROUP RESOURCE SLOTS SEQ_NO INST_STATE ACTI  
purger   STARTED  129   /Manage* Manag* power9-* 1     1      RUN        160   
elk-ind* STARTED  148   /Manage* Manag* power9-* 1     1      RUN        179   
WEBGUI   STARTED  141   /Manage* Manag* power9-* 1     1      RUN        172   
elk-ela* STARTED  145   /Manage* Manag* power9-* 1     1      RUN        176   
elk-man* STARTED  142   /Manage* Manag* power9-* 1     1      RUN        173   
elk-shi* STARTED  158   /Cluste* Inter* power9-* 1     1      RUN        191   
elk-ela* STARTED  146   /Manage* Manag* power9-* 1     1      RUN        177   
plc      STARTED  130   /Manage* Manag* power9-* 1     1      RUN        161   
GPFSmon* DEFINED        /GPFSmo* Manag*                                        
derbydb  STARTED  131   /Manage* Manag* power9-* 1     1      RUN        162   
elk-ela* STARTED  147   /Manage* Manag* power9-* 1     1      RUN        178   
RS       STARTED  132   /Manage* Manag* power9-* 1     1      RUN        163   
ascd     STARTED  133   /Manage* Manag* power9-* 1     1      RUN        164   
dlpd     STARTED  134   /Manage* Manag* power9-* 1     1      RUN        165   
SparkCl* STARTED  143   /Cluste* Inter* power9-* 1     1      RUN        174   
redis    STARTED  135   /Manage* Manag* power9-* 1     1      RUN        166   
Service* STARTED  136   /Manage* Manag* power9-* 1     1      RUN        167   
SIG161-* STARTED  151   /sig/SI* Compu* power9-* 3     1      RUN        182   
                                                       2      RUN        183   
                                                       3      RUN        184   
dlmao-m* STARTED  149   /Manage* Manag* power9-* 1     1      RUN        180   
ExecPro* STARTED  137   /Cluste* Inter* power9-* 1     1      RUN        168   
REST     STARTED  138   /Manage* Manag* power9-* 1     1      RUN        169   
dlmao-o* STARTED  139   /Manage* Manag* power9-* 1     1      RUN        171   
HostFac* DEFINED        /Manage* Manag*                                        
WebServ* STARTED  144   /Manage* Manag* power9-* 1     1      RUN        175   
mongod   STARTED  140   /Manage* Manag* power9-* 1     1      RUN        170   
SIG161-* STARTED  152   /sig/SI* Compu* power9-* 1     1      RUN        185   
[root@power9-1 cws221]# cd integration/elk/log/
[root@power9-1 log]# ll
total 84
drwxr-xr-x. 2 egoadmin egoadmin  4096 Aug 23 15:40 elasticsearch
-rw-r--r--. 1 egoadmin egoadmin     0 Aug 22 18:26 es-err.log.client.power9-1.bqdc.nanjing
-rw-r--r--. 1 egoadmin egoadmin     0 Aug 22 18:26 es-err.log.data.power9-1.bqdc.nanjing
-rw-r--r--. 1 egoadmin egoadmin     0 Aug 22 18:26 es-err.log.master.power9-1.bqdc.nanjing
-rw-r--r--. 1 egoadmin egoadmin 11016 Aug 23 17:52 es-out.log.client.power9-1.bqdc.nanjing
-rw-r--r--. 1 egoadmin egoadmin 11136 Aug 23 17:52 es-out.log.data.power9-1.bqdc.nanjing
-rw-r--r--. 1 egoadmin egoadmin 20610 Aug 23 17:52 es-out.log.master.power9-1.bqdc.nanjing
drwxr-x---. 2 root     root      4096 Aug 24 08:10 filebeat
-rw-r--r--. 1 egoadmin egoadmin   120 Aug 22 18:26 indexer-err.log.power9-1.bqdc.nanjing
-rw-r--r--. 1 egoadmin egoadmin  3512 Aug 23 17:52 indexer-out.log.power9-1.bqdc.nanjing
drwxr-----. 2 egoadmin egoadmin  4096 Aug 23 16:01 logstash
-rw-r--r--. 1 egoadmin egoadmin     0 Aug 22 18:25 manager-err.log.power9-1.bqdc.nanjing
-rw-r--r--. 1 egoadmin egoadmin  7987 Aug 24 08:00 manager-out.log.power9-1.bqdc.nanjing
-rw-r--r--. 1 root     root         0 Aug 22 18:26 shipper-err.log.power9-1.bqdc.nanjing
-rw-r--r--. 1 root     root       689 Aug 24 08:10 shipper-out.log.power9-1.bqdc.nanjing
[root@power9-1 log]# curl -u Admin:Admin -k https://`hostname`:9200/_cluster/health?
curl: (7) Failed connect to power9-1.bqdc.nanjing:9200; Connection refused
[root@power9-1 log]# 
[root@power9-1 log]# 
[root@power9-1 log]# 
[root@power9-1 log]# cat ../conf/elk.conf 
elasticsearch/                           es-err.log.master.power9-1.bqdc.nanjing  es-out.log.master.power9-1.bqdc.nanjing  indexer-out.log.power9-1.bqdc.nanjing    manager-out.log.power9-1.bqdc.nanjing
es-err.log.client.power9-1.bqdc.nanjing  es-out.log.client.power9-1.bqdc.nanjing  filebeat/                                logstash/                                shipper-err.log.power9-1.bqdc.nanjing
es-err.log.data.power9-1.bqdc.nanjing    es-out.log.data.power9-1.bqdc.nanjing    indexer-err.log.power9-1.bqdc.nanjing    manager-err.log.power9-1.bqdc.nanjing    shipper-out.log.power9-1.bqdc.nanjing
[root@power9-1 log]# cat ../conf/elk.conf 
# ELK service port number
ELK_ESHTTP_PORT=28210
ELK_ESSYSCOMM_PORT=9300
ELK_ESHTTP_MASTER_PORT=9201
ELK_ESSYSCOMM_MASTER_PORT=9301
ELK_ESHTTP_DATA_PORT=9202
ELK_ESSYSCOMM_DATA_PORT=9302
ES_CLIENT_HEAP_SIZE=4g
ES_DATA_HEAP_SIZE=4g
ES_MASTER_HEAP_SIZE=2g
LS_HEAP_SIZE=4g
ES_BOOTSTRAP_SYSTEM_CALL_FILTER=false
ES_THREAD_POOL_BULK_QUEUE_SIZE=5000
LS_BATCH_SIZE=1000
CA_CERT_PATH=${EGO_TOP}/wlp/usr/shared/resources/security/cacert.pem[root@power9-1 log]# cat ../conf/elk.conf 
# ELK service port number
ELK_ESHTTP_PORT=28210
ELK_ESSYSCOMM_PORT=9300
ELK_ESHTTP_MASTER_PORT=9201
ELK_ESSYSCOMM_MASTER_PORT=9301
ELK_ESHTTP_DATA_PORT=9202
ELK_ESSYSCOMM_DATA_PORT=9302
ES_CLIENT_HEAP_SIZE=4g
ES_DATA_HEAP_SIZE=4g
ES_MASTER_HEAP_SIZE=2g
LS_HEAP_SIZE=4g
ES_BOOTSTRAP_SYSTEM_CALL_FILTER=false
ES_THREAD_POOL_BULK_QUEUE_SIZE=5000
LS_BATCH_SIZE=1000
CA_CERT_PATH=${EGO_TOP}/wlp/usr/shared/resources/security/cacert.pem[root@power9-1 log]# 
[root@power9-1 log]# 
[root@power9-1 log]# 
[root@power9-1 log]# 
[root@power9-1 log]# 
[root@power9-1 log]# 
[root@power9-1 log]# 
[root@power9-1 log]# 
[root@power9-1 log]# 
[root@power9-1 log]# 
[root@power9-1 log]# 
[root@power9-1 log]# 
[root@power9-1 log]# 
[root@power9-1 log]# 
[root@power9-1 log]# 
[root@power9-1 log]# 
[root@power9-1 log]# 
[root@power9-1 log]# 
[root@power9-1 log]# 
[root@power9-1 log]# 
[root@power9-1 log]# 
[root@power9-1 log]# 
[root@power9-1 log]# 
[root@power9-1 log]# 
[root@power9-1 log]# 
[root@power9-1 log]# 
[root@power9-1 log]# 
[root@power9-1 log]# 
[root@power9-1 log]# 
[root@power9-1 log]# 
[root@power9-1 log]# 
[root@power9-1 log]# 
[root@power9-1 log]# curl -k -u Admin:Admin  https://`hostname`:28210/_cat/indices?v
health status index                                                                uuid                   pri rep docs.count docs.deleted store.size pri.store.size
yellow open   ibm-cws-spark-metric-c6e868cd-b26f-49e7-91bf-14ac30afb2c8-2018.08.23 zfXlDQh7S0WodeWsE3fr-Q   3   1        284            0    100.8kb        100.8kb
yellow open   ibm-cws-ego-activity-c6e868cd-b26f-49e7-91bf-14ac30afb2c8-2018.08.22 PYlewsM4T5WjUZzib7cDsQ   3   1          4            0       49kb           49kb
yellow open   ibm-cws-ego-activity-c6e868cd-b26f-49e7-91bf-14ac30afb2c8-2018.08.23 MDOUNQLOQQO1bzlol8TsNw   3   1         20            0    195.7kb        195.7kb
[root@power9-1 log]# curl -k -u Admin:Admin  https://`hostname`:28210/_cluster/health?v
{"error":{"root_cause":[{"type":"illegal_argument_exception","reason":"request [/_cluster/health] contains unrecognized parameter: [v]"}],"type":"illegal_argument_exception","reason":"request [/_cluster/health] contains unrecognized parameter: [v]"},"status":400}[root@power9-1 log]# 
[root@power9-1 log]# curl -k -u Admin:Admin  https://`hostname`:28210/_cluster/health?pretty
{
  "cluster_name" : "elk-CWS221DLI110P9",
  "status" : "yellow",
  "timed_out" : false,
  "number_of_nodes" : 3,
  "number_of_data_nodes" : 1,
  "active_primary_shards" : 9,
  "active_shards" : 9,
  "relocating_shards" : 0,
  "initializing_shards" : 0,
  "unassigned_shards" : 9,
  "delayed_unassigned_shards" : 0,
  "number_of_pending_tasks" : 0,
  "number_of_in_flight_fetch" : 0,
  "task_max_waiting_in_queue_millis" : 0,
  "active_shards_percent_as_number" : 50.0
}
[root@power9-1 log]# curl -k -u Admin:Admin  https://`hostname`:28210/_cluster/settings
{"persistent":{},"transient":{"cluster":{"routing":{"allocation":{"disk":{"watermark":{"low":"99%"}}}}}}}[root@power9-1 log]# 
[root@power9-1 log]# ll
total 84
drwxr-xr-x. 2 egoadmin egoadmin  4096 Aug 23 15:40 elasticsearch
-rw-r--r--. 1 egoadmin egoadmin     0 Aug 22 18:26 es-err.log.client.power9-1.bqdc.nanjing
-rw-r--r--. 1 egoadmin egoadmin     0 Aug 22 18:26 es-err.log.data.power9-1.bqdc.nanjing
-rw-r--r--. 1 egoadmin egoadmin     0 Aug 22 18:26 es-err.log.master.power9-1.bqdc.nanjing
-rw-r--r--. 1 egoadmin egoadmin 11016 Aug 23 17:52 es-out.log.client.power9-1.bqdc.nanjing
-rw-r--r--. 1 egoadmin egoadmin 11136 Aug 23 17:52 es-out.log.data.power9-1.bqdc.nanjing
-rw-r--r--. 1 egoadmin egoadmin 20610 Aug 23 17:52 es-out.log.master.power9-1.bqdc.nanjing
drwxr-x---. 2 root     root      4096 Aug 24 08:10 filebeat
-rw-r--r--. 1 egoadmin egoadmin   120 Aug 22 18:26 indexer-err.log.power9-1.bqdc.nanjing
-rw-r--r--. 1 egoadmin egoadmin  3512 Aug 23 17:52 indexer-out.log.power9-1.bqdc.nanjing
drwxr-----. 2 egoadmin egoadmin  4096 Aug 23 16:01 logstash
-rw-r--r--. 1 egoadmin egoadmin     0 Aug 22 18:25 manager-err.log.power9-1.bqdc.nanjing
-rw-r--r--. 1 egoadmin egoadmin  7987 Aug 24 08:00 manager-out.log.power9-1.bqdc.nanjing
-rw-r--r--. 1 root     root         0 Aug 22 18:26 shipper-err.log.power9-1.bqdc.nanjing
-rw-r--r--. 1 root     root       689 Aug 24 08:10 shipper-out.log.power9-1.bqdc.nanjing
[root@power9-1 log]# vi shipper-out.log.power9-1.bqdc.nanjing 
[Wed Aug 22 18:26:55 CST 2018][INFO] Shipper started
[Wed Aug 22 18:26:55 CST 2018][INFO] Shipper stopped
[Wed Aug 22 18:27:06 CST 2018][INFO] Shipper started
[Wed Aug 22 18:41:48 CST 2018][INFO] Shipper stopped
[Wed Aug 22 18:46:41 CST 2018][INFO] Shipper started
[Wed Aug 22 18:48:43 CST 2018][INFO] Shipper stopped
[Wed Aug 22 18:50:07 CST 2018][INFO] Shipper started
[Thu Aug 23 10:53:38 CST 2018][INFO] Shipper stopped
[Thu Aug 23 11:13:29 CST 2018][INFO] Shipper started
[Thu Aug 23 17:46:25 CST 2018][INFO] Shipper stopped
[Thu Aug 23 17:53:09 CST 2018][INFO] Shipper started
[Fri Aug 24 08:09:44 CST 2018][INFO] Shipper stopped
[Fri Aug 24 08:10:15 CST 2018][INFO] Shipper started
~
~
~
~
~
~
~
~
~
~
~
~
~
~
~
~
~
~
~
~
~
~
~
~
~
~
~
~
~
~
~
~
~
~
~
~
~
~
~
~
~
~
~
~
~
~
~
~
~
~
~
~
~
~
~
[root@power9-1 log]# ll
total 84
drwxr-xr-x. 2 egoadmin egoadmin  4096 Aug 23 15:40 elasticsearch
-rw-r--r--. 1 egoadmin egoadmin     0 Aug 22 18:26 es-err.log.client.power9-1.bqdc.nanjing
-rw-r--r--. 1 egoadmin egoadmin     0 Aug 22 18:26 es-err.log.data.power9-1.bqdc.nanjing
-rw-r--r--. 1 egoadmin egoadmin     0 Aug 22 18:26 es-err.log.master.power9-1.bqdc.nanjing
-rw-r--r--. 1 egoadmin egoadmin 11016 Aug 23 17:52 es-out.log.client.power9-1.bqdc.nanjing
-rw-r--r--. 1 egoadmin egoadmin 11136 Aug 23 17:52 es-out.log.data.power9-1.bqdc.nanjing
-rw-r--r--. 1 egoadmin egoadmin 20610 Aug 23 17:52 es-out.log.master.power9-1.bqdc.nanjing
drwxr-x---. 2 root     root      4096 Aug 24 08:10 filebeat
-rw-r--r--. 1 egoadmin egoadmin   120 Aug 22 18:26 indexer-err.log.power9-1.bqdc.nanjing
-rw-r--r--. 1 egoadmin egoadmin  3512 Aug 23 17:52 indexer-out.log.power9-1.bqdc.nanjing
drwxr-----. 2 egoadmin egoadmin  4096 Aug 23 16:01 logstash
-rw-r--r--. 1 egoadmin egoadmin     0 Aug 22 18:25 manager-err.log.power9-1.bqdc.nanjing
-rw-r--r--. 1 egoadmin egoadmin  7987 Aug 24 08:00 manager-out.log.power9-1.bqdc.nanjing
-rw-r--r--. 1 root     root         0 Aug 22 18:26 shipper-err.log.power9-1.bqdc.nanjing
-rw-r--r--. 1 root     root       689 Aug 24 08:10 shipper-out.log.power9-1.bqdc.nanjing
[root@power9-1 log]# vi shipper-err.log.power9-1.bqdc.nanjing 

~
~
~
~
~
~
~
~
~
~
~
~
~
~
~
~
~
~
~
~
~
~
~
~
~
~
~
~
~
~
~
~
~
~
~
~
~
~
~
~
~
~
~
~
~
~
~
~
~
~
~
~
~
~
~
~
~
~
~
~
~
~
~
~
~
~
~
[root@power9-1 log]# ll
total 84
drwxr-xr-x. 2 egoadmin egoadmin  4096 Aug 23 15:40 elasticsearch
-rw-r--r--. 1 egoadmin egoadmin     0 Aug 22 18:26 es-err.log.client.power9-1.bqdc.nanjing
-rw-r--r--. 1 egoadmin egoadmin     0 Aug 22 18:26 es-err.log.data.power9-1.bqdc.nanjing
-rw-r--r--. 1 egoadmin egoadmin     0 Aug 22 18:26 es-err.log.master.power9-1.bqdc.nanjing
-rw-r--r--. 1 egoadmin egoadmin 11016 Aug 23 17:52 es-out.log.client.power9-1.bqdc.nanjing
-rw-r--r--. 1 egoadmin egoadmin 11136 Aug 23 17:52 es-out.log.data.power9-1.bqdc.nanjing
-rw-r--r--. 1 egoadmin egoadmin 20610 Aug 23 17:52 es-out.log.master.power9-1.bqdc.nanjing
drwxr-x---. 2 root     root      4096 Aug 24 08:10 filebeat
-rw-r--r--. 1 egoadmin egoadmin   120 Aug 22 18:26 indexer-err.log.power9-1.bqdc.nanjing
-rw-r--r--. 1 egoadmin egoadmin  3512 Aug 23 17:52 indexer-out.log.power9-1.bqdc.nanjing
drwxr-----. 2 egoadmin egoadmin  4096 Aug 23 16:01 logstash
-rw-r--r--. 1 egoadmin egoadmin     0 Aug 22 18:25 manager-err.log.power9-1.bqdc.nanjing
-rw-r--r--. 1 egoadmin egoadmin  7987 Aug 24 08:00 manager-out.log.power9-1.bqdc.nanjing
-rw-r--r--. 1 root     root         0 Aug 22 18:26 shipper-err.log.power9-1.bqdc.nanjing
-rw-r--r--. 1 root     root       689 Aug 24 08:10 shipper-out.log.power9-1.bqdc.nanjing
[root@power9-1 log]# vi indexer-out.log.power9-1.bqdc.nanjing 
[Wed Aug 22 18:26:27 CST 2018][INFO] Starting indexer [-b=1000, LS_JAVA_OPTS=-XX:doNotProcessJitEnvVars -Xms4g -Xmx4g -Dls.log.node_name=power9-1.bqdc.nanjing  ...
/opt/cws221/integration/elk/1.4/logstash-5.4.2/bin/logstash -b 1000 -f /opt/cws221/integration/elk/hosts/power9-1.bqdc.nanjing/indexer/conf  -r --config.reload.interval 5 --path.data /opt/cws221/integration/elk/hosts/power9-1.bqdc.nanjing/indexer/data/ --path.logs /opt/cws221/integration/elk/log/logstash --path.settings /opt/cws221/kernel/conf/../../integration/elk/conf/logstash
Sending Logstash's logs to /opt/cws221/integration/elk/log/logstash which is now configured via log4j2.properties
[Wed Aug 22 18:41:58 CST 2018][INFO] Indexer stopped
[Wed Aug 22 18:46:11 CST 2018][INFO] Starting indexer [-b=1000, LS_JAVA_OPTS=-XX:doNotProcessJitEnvVars -Xms4g -Xmx4g -Dls.log.node_name=power9-1.bqdc.nanjing  ...
/opt/cws221/integration/elk/1.4/logstash-5.4.2/bin/logstash -b 1000 -f /opt/cws221/integration/elk/hosts/power9-1.bqdc.nanjing/indexer/conf  -r --config.reload.interval 5 --path.data /opt/cws221/integration/elk/hosts/power9-1.bqdc.nanjing/indexer/data/ --path.logs /opt/cws221/integration/elk/log/logstash --path.settings /opt/cws221/kernel/conf/../../integration/elk/conf/logstash
Sending Logstash's logs to /opt/cws221/integration/elk/log/logstash which is now configured via log4j2.properties
[Wed Aug 22 18:48:52 CST 2018][INFO] Indexer stopped
[Wed Aug 22 18:49:40 CST 2018][INFO] Starting indexer [-b=1000, LS_JAVA_OPTS=-XX:doNotProcessJitEnvVars -Xms4g -Xmx4g -Dls.log.node_name=power9-1.bqdc.nanjing  ...
/opt/cws221/integration/elk/1.4/logstash-5.4.2/bin/logstash -b 1000 -f /opt/cws221/integration/elk/hosts/power9-1.bqdc.nanjing/indexer/conf  -r --config.reload.interval 5 --path.data /opt/cws221/integration/elk/hosts/power9-1.bqdc.nanjing/indexer/data/ --path.logs /opt/cws221/integration/elk/log/logstash --path.settings /opt/cws221/kernel/conf/../../integration/elk/conf/logstash
Sending Logstash's logs to /opt/cws221/integration/elk/log/logstash which is now configured via log4j2.properties
[Thu Aug 23 10:53:43 CST 2018][INFO] Indexer stopped
[Thu Aug 23 11:13:02 CST 2018][INFO] Starting indexer [-b=1000, LS_JAVA_OPTS=-XX:doNotProcessJitEnvVars -Xms4g -Xmx4g -Dls.log.node_name=power9-1.bqdc.nanjing  ...
/opt/cws221/integration/elk/1.4/logstash-5.4.2/bin/logstash -b 1000 -f /opt/cws221/integration/elk/hosts/power9-1.bqdc.nanjing/indexer/conf  -r --config.reload.interval 5 --path.data /opt/cws221/integration/elk/hosts/power9-1.bqdc.nanjing/indexer/data/ --path.logs /opt/cws221/integration/elk/log/logstash --path.settings /opt/cws221/kernel/conf/../../integration/elk/conf/logstash
Sending Logstash's logs to /opt/cws221/integration/elk/log/logstash which is now configured via log4j2.properties
[Thu Aug 23 17:46:30 CST 2018][INFO] Indexer stopped
[Thu Aug 23 17:52:42 CST 2018][INFO] Starting indexer [-b=1000, LS_JAVA_OPTS=-XX:doNotProcessJitEnvVars -Xms4g -Xmx4g -Dls.log.node_name=power9-1.bqdc.nanjing  ...
/opt/cws221/integration/elk/1.4/logstash-5.4.2/bin/logstash -b 1000 -f /opt/cws221/integration/elk/hosts/power9-1.bqdc.nanjing/indexer/conf  -r --config.reload.interval 5 --path.data /opt/cws221/integration/elk/hosts/power9-1.bqdc.nanjing/indexer/data/ --path.logs /opt/cws221/integration/elk/log/logstash --path.settings /opt/cws221/kernel/conf/../../integration/elk/conf/logstash
Sending Logstash's logs to /opt/cws221/integration/elk/log/logstash which is now configured via log4j2.properties
~
~
~
~
~
~
~
~
~
~
~
~
~
~
~
~
~
~
~
~
~
~
~
~
~
~
~
~
~
~
~
~
~
~
~
~
~
~
~
~
~
~
~
~
[root@power9-1 log]# ll
total 84
drwxr-xr-x. 2 egoadmin egoadmin  4096 Aug 23 15:40 elasticsearch
-rw-r--r--. 1 egoadmin egoadmin     0 Aug 22 18:26 es-err.log.client.power9-1.bqdc.nanjing
-rw-r--r--. 1 egoadmin egoadmin     0 Aug 22 18:26 es-err.log.data.power9-1.bqdc.nanjing
-rw-r--r--. 1 egoadmin egoadmin     0 Aug 22 18:26 es-err.log.master.power9-1.bqdc.nanjing
-rw-r--r--. 1 egoadmin egoadmin 11016 Aug 23 17:52 es-out.log.client.power9-1.bqdc.nanjing
-rw-r--r--. 1 egoadmin egoadmin 11136 Aug 23 17:52 es-out.log.data.power9-1.bqdc.nanjing
-rw-r--r--. 1 egoadmin egoadmin 20610 Aug 23 17:52 es-out.log.master.power9-1.bqdc.nanjing
drwxr-x---. 2 root     root      4096 Aug 24 08:10 filebeat
-rw-r--r--. 1 egoadmin egoadmin   120 Aug 22 18:26 indexer-err.log.power9-1.bqdc.nanjing
-rw-r--r--. 1 egoadmin egoadmin  3512 Aug 23 17:52 indexer-out.log.power9-1.bqdc.nanjing
drwxr-----. 2 egoadmin egoadmin  4096 Aug 23 16:01 logstash
-rw-r--r--. 1 egoadmin egoadmin     0 Aug 22 18:25 manager-err.log.power9-1.bqdc.nanjing
-rw-r--r--. 1 egoadmin egoadmin  7987 Aug 24 08:00 manager-out.log.power9-1.bqdc.nanjing
-rw-r--r--. 1 root     root         0 Aug 22 18:26 shipper-err.log.power9-1.bqdc.nanjing
-rw-r--r--. 1 root     root       689 Aug 24 08:10 shipper-out.log.power9-1.bqdc.nanjing
[root@power9-1 log]# cd filebeat/
[root@power9-1 filebeat]# ll
total 3092
-rw-------. 1 root root 1108263 Aug 24 13:46 filebeat.log.power9-1.bqdc.nanjing
-rw-------. 1 root root 1473873 Aug 24 08:09 filebeat.log.power9-1.bqdc.nanjing.1
-rw-------. 1 root root  172379 Aug 23 17:46 filebeat.log.power9-1.bqdc.nanjing.2
-rw-------. 1 root root      57 Aug 23 11:13 filebeat.log.power9-1.bqdc.nanjing.3
-rw-------. 1 root root  381831 Aug 23 10:53 filebeat.log.power9-1.bqdc.nanjing.4
[root@power9-1 filebeat]# vi filebeat.log.power9-1.bqdc.nanjing
2018-08-24T08:10:15+08:00 INFO Home path: [/opt/cws221/integration/elk/1.4/filebeat-5.4.2-linux-ppc64le] Config path: [/opt/cws221/integration/elk/hosts/power9-1.bqdc.nanjing/shipper] Data path: [/opt/cws221/integration/elk/hosts/power9-1.bqdc.nanjing/shipper/data] Logs path: [/opt/cws221/integration/elk/log/filebeat]
2018-08-24T08:10:15+08:00 INFO Setup Beat: filebeat; Version: 5.4.2
2018-08-24T08:10:15+08:00 INFO Max Retries set to: 3
2018-08-24T08:10:15+08:00 INFO Activated logstash as output plugin.
2018-08-24T08:10:15+08:00 INFO Publisher name: power9-1.bqdc.nanjing
2018-08-24T08:10:15+08:00 INFO Flush Interval set to: 1s
2018-08-24T08:10:15+08:00 INFO Max Bulk Size set to: 2048
2018-08-24T08:10:15+08:00 INFO Additional config files are fetched from: /opt/cws221/integration/elk/hosts/power9-1.bqdc.nanjing/shipper/conf
2018-08-24T08:10:15+08:00 INFO Additional configs loaded from: /opt/cws221/integration/elk/hosts/power9-1.bqdc.nanjing/shipper/conf/conductor.yml
2018-08-24T08:10:15+08:00 INFO Additional configs loaded from: /opt/cws221/integration/elk/hosts/power9-1.bqdc.nanjing/shipper/conf/dlmao_shipper.yml
2018-08-24T08:10:15+08:00 INFO filebeat start running.
2018-08-24T08:10:15+08:00 INFO Registry file set to: /opt/cws221/integration/elk/hosts/power9-1.bqdc.nanjing/shipper/data/registry
2018-08-24T08:10:15+08:00 INFO Loading registrar data from /opt/cws221/integration/elk/hosts/power9-1.bqdc.nanjing/shipper/data/registry
2018-08-24T08:10:15+08:00 INFO States Loaded from registrar: 3
2018-08-24T08:10:15+08:00 INFO Loading Prospectors: 5
2018-08-24T08:10:15+08:00 INFO Starting Registrar
2018-08-24T08:10:15+08:00 INFO Start sending events to output
2018-08-24T08:10:15+08:00 INFO Prospector with previous states loaded: 3
2018-08-24T08:10:15+08:00 INFO Starting spooler: spool_size: 2048; idle_timeout: 5s
2018-08-24T08:10:15+08:00 INFO Starting prospector of type: log; id: 8551539828974396051
2018-08-24T08:10:15+08:00 INFO Prospector with previous states loaded: 0
2018-08-24T08:10:15+08:00 INFO Starting prospector of type: log; id: 3543989642930169500
2018-08-24T08:10:15+08:00 INFO Prospector with previous states loaded: 0
2018-08-24T08:10:15+08:00 INFO Starting prospector of type: log; id: 14500080766053636596
2018-08-24T08:10:15+08:00 INFO Prospector with previous states loaded: 0
2018-08-24T08:10:15+08:00 INFO Starting prospector of type: log; id: 964379629371281147
2018-08-24T08:10:15+08:00 INFO Prospector with previous states loaded: 0
2018-08-24T08:10:15+08:00 INFO Harvester started for file: /opt/cws221/elastic_logs/c6e868cd-b26f-49e7-91bf-14ac30afb2c8.SIG161/cws_ego.SIG161-sparkms-batch.1.power9-1.bqdc.nanjing.20180823
2018-08-24T08:10:15+08:00 INFO Harvester started for file: /opt/cws221/elastic_logs/c6e868cd-b26f-49e7-91bf-14ac30afb2c8.SIG161/cws_ego.SIG161-sparkms-batch.3.power9-1.bqdc.nanjing.20180823
2018-08-24T08:10:15+08:00 INFO Harvester started for file: /opt/cws221/elastic_logs/c6e868cd-b26f-49e7-91bf-14ac30afb2c8.SIG161/cws_ego.SIG161-sparkms-batch.2.power9-1.bqdc.nanjing.20180823
2018-08-24T08:10:15+08:00 INFO Starting prospector of type: log; id: 10089714921555208633
2018-08-24T08:10:15+08:00 INFO Loading and starting Prospectors completed. Enabled prospectors: 5
2018-08-24T08:10:15+08:00 INFO Harvester started for file: /opt/cws221/elastic_logs/c6e868cd-b26f-49e7-91bf-14ac30afb2c8.SIG161/app-20180823182138-0000-56f0b09a-c06e-4c92-aa9c-d8b146009ff1/0-0f8d8829-9131-4552-9ebf-8a8112727c97.power9-1.bqdc.nanjing/stderr
2018-08-24T08:10:15+08:00 INFO Harvester started for file: /opt/cws221/elastic_logs/c6e868cd-b26f-49e7-91bf-14ac30afb2c8.SIG161/driver-20180823135524-0007-c78a594d-c8c8-4fbd-a698-9d13d720d642.power9-1.bqdc.nanjing/stderr
2018-08-24T08:10:15+08:00 INFO Harvester started for file: /opt/cws221/elastic_logs/c6e868cd-b26f-49e7-91bf-14ac30afb2c8.SIG161/app-20180823182138-0000-56f0b09a-c06e-4c92-aa9c-d8b146009ff1/0-0f8d8829-9131-4552-9ebf-8a8112727c97.power9-1.bqdc.nanjing/stderr
2018-08-24T08:10:15+08:00 INFO Harvester started for file: /opt/cws221/elastic_logs/c6e868cd-b26f-49e7-91bf-14ac30afb2c8.SIG161/app-20180823120104-0000-53b59bf0-b459-4052-809d-c470b0619f5d/0-1e1181f7-9a25-4cd8-afda-b2cfb3389b9f.power9-1.bqdc.nanjing/stderr
2018-08-24T08:10:15+08:00 INFO Harvester started for file: /opt/cws221/elastic_logs/c6e868cd-b26f-49e7-91bf-14ac30afb2c8.SIG161/driver-20180823141918-0009-88237738-b8be-40e9-9bab-62b2f4f1d967.power9-1.bqdc.nanjing/stderr
2018-08-24T08:10:15+08:00 INFO Harvester started for file: /opt/cws221/elastic_logs/c6e868cd-b26f-49e7-91bf-14ac30afb2c8.SIG161/app-20180823180618-0000-469e9a39-dbc4-4025-a8eb-9d45d36c4332/0-a4db3fb2-a8b4-4170-83e0-8b1de999a09a.power9-1.bqdc.nanjing/stderr
2018-08-24T08:10:15+08:00 INFO Harvester started for file: /opt/cws221/elastic_logs/c6e868cd-b26f-49e7-91bf-14ac30afb2c8.SIG161/app-20180822201654-0001-5d30008e-a357-4986-9b0f-8b1238e1bf41/0-882e91e5-da73-49a9-8f32-cb41a6035ff1.power9-1.bqdc.nanjing/stderr
2018-08-24T08:10:15+08:00 INFO Harvester started for file: /opt/cws221/elastic_logs/c6e868cd-b26f-49e7-91bf-14ac30afb2c8.SIG161/app-20180823120624-0001-076ef82e-bfed-48f3-a949-e1d51ad1c2f5/0-7ba0c877-0612-40ea-a941-267026d14a94.power9-1.bqdc.nanjing/stderr
2018-08-24T08:10:15+08:00 INFO Harvester started for file: /opt/cws221/elastic_logs/c6e868cd-b26f-49e7-91bf-14ac30afb2c8.SIG161/driver-20180823142023-0010-461cff42-2848-4571-a20f-a868456cda15.power9-1.bqdc.nanjing/stderr
2018-08-24T08:10:15+08:00 INFO Harvester started for file: /opt/cws221/elastic_logs/c6e868cd-b26f-49e7-91bf-14ac30afb2c8.SIG161/app-20180823135534-0007-3b48b91f-86d1-4217-9f1b-a955c9c16033/0-6ddfda91-bdb9-4ad9-bf95-e5ecd11d39b2.power9-1.bqdc.nanjing/stderr
2018-08-24T08:10:15+08:00 INFO Harvester started for file: /opt/cws221/elastic_logs/c6e868cd-b26f-49e7-91bf-14ac30afb2c8.SIG161/app-20180823142033-0010-a0a354d9-ab60-41fe-9bd4-6564bd563624/0-965f6756-d1d4-4c7a-94c9-02a16812b41c.power9-1.bqdc.nanjing/stderr
2018-08-24T08:10:15+08:00 INFO Harvester started for file: /opt/cws221/elastic_logs/c6e868cd-b26f-49e7-91bf-14ac30afb2c8.SIG161/app-20180823135534-0007-3b48b91f-86d1-4217-9f1b-a955c9c16033/0-6ddfda91-bdb9-4ad9-bf95-e5ecd11d39b2.power9-1.bqdc.nanjing/stderr
2018-08-24T08:10:15+08:00 INFO Harvester started for file: /opt/cws221/elastic_logs/c6e868cd-b26f-49e7-91bf-14ac30afb2c8.SIG161/driver-20180823135337-0005-28bad204-7d40-4dd6-bf1c-f276aff5dcf2.power9-1.bqdc.nanjing/stderr
2018-08-24T08:10:15+08:00 INFO Harvester started for file: /opt/cws221/elastic_logs/c6e868cd-b26f-49e7-91bf-14ac30afb2c8.SIG161/driver-20180823120053-0000-ea96a70b-2a29-4a39-9002-5b95e6dd139a.power9-1.bqdc.nanjing/stderr
2018-08-24T08:10:15+08:00 INFO Harvester started for file: /opt/cws221/elastic_logs/c6e868cd-b26f-49e7-91bf-14ac30afb2c8.SIG161/driver-20180823135353-0006-c1b2390d-673c-45a4-9c5d-bb608ec8e412.power9-1.bqdc.nanjing/stderr
2018-08-24T08:10:15+08:00 INFO Harvester started for file: /opt/cws221/elastic_logs/c6e868cd-b26f-49e7-91bf-14ac30afb2c8.SIG161/app-20180823180618-0000-469e9a39-dbc4-4025-a8eb-9d45d36c4332/0-a4db3fb2-a8b4-4170-83e0-8b1de999a09a.power9-1.bqdc.nanjing/stderr
2018-08-24T08:10:15+08:00 INFO Harvester started for file: /opt/cws221/elastic_logs/c6e868cd-b26f-49e7-91bf-14ac30afb2c8.SIG161/app-20180823142033-0010-a0a354d9-ab60-41fe-9bd4-6564bd563624/0-965f6756-d1d4-4c7a-94c9-02a16812b41c.power9-1.bqdc.nanjing/stderr
@
:$
2018-08-24T13:44:08+08:00 INFO File is falling under ignore_older before harvesting is finished. Adjust your close_* settings: /opt/cws221/elastic_logs/c6e868cd-b26f-49e7-91bf-14ac30afb2c8.SIG161/driver-20180823133721-0003-aedb9667-c801-4940-b9d0-37f1e511dabe.power9-1.bqdc.nanjing/stderr
2018-08-24T13:44:08+08:00 INFO File is falling under ignore_older before harvesting is finished. Adjust your close_* settings: /opt/cws221/elastic_logs/c6e868cd-b26f-49e7-91bf-14ac30afb2c8.SIG161/driver-20180823120053-0000-ea96a70b-2a29-4a39-9002-5b95e6dd139a.power9-1.bqdc.nanjing/stderr
2018-08-24T13:44:08+08:00 INFO File is falling under ignore_older before harvesting is finished. Adjust your close_* settings: /opt/cws221/elastic_logs/c6e868cd-b26f-49e7-91bf-14ac30afb2c8.SIG161/driver-20180823133721-0002-dd310733-6058-45a0-a77f-c7e2732714d5.power9-1.bqdc.nanjing/stderr
2018-08-24T13:44:15+08:00 INFO No non-zero metrics in the last 30s
2018-08-24T13:44:16+08:00 INFO File is falling under ignore_older before harvesting is finished. Adjust your close_* settings: /opt/cws221/elastic_logs/c6e868cd-b26f-49e7-91bf-14ac30afb2c8.SIG161/cws_ego.SIG161-sparkms-batch.2.power9-1.bqdc.nanjing.20180823
2018-08-24T13:44:18+08:00 INFO File is falling under ignore_older before harvesting is finished. Adjust your close_* settings: /opt/cws221/elastic_logs/c6e868cd-b26f-49e7-91bf-14ac30afb2c8.SIG161/app-20180823120624-0001-076ef82e-bfed-48f3-a949-e1d51ad1c2f5/0-7ba0c877-0612-40ea-a941-267026d14a94.power9-1.bqdc.nanjing/stderr
2018-08-24T13:44:18+08:00 INFO File is falling under ignore_older before harvesting is finished. Adjust your close_* settings: /opt/cws221/elastic_logs/c6e868cd-b26f-49e7-91bf-14ac30afb2c8.SIG161/app-20180823120104-0000-53b59bf0-b459-4052-809d-c470b0619f5d/0-1e1181f7-9a25-4cd8-afda-b2cfb3389b9f.power9-1.bqdc.nanjing/stderr
2018-08-24T13:44:18+08:00 INFO File is falling under ignore_older before harvesting is finished. Adjust your close_* settings: /opt/cws221/elastic_logs/c6e868cd-b26f-49e7-91bf-14ac30afb2c8.SIG161/driver-20180823133721-0002-dd310733-6058-45a0-a77f-c7e2732714d5.power9-1.bqdc.nanjing/stderr
2018-08-24T13:44:18+08:00 INFO File is falling under ignore_older before harvesting is finished. Adjust your close_* settings: /opt/cws221/elastic_logs/c6e868cd-b26f-49e7-91bf-14ac30afb2c8.SIG161/driver-20180823133721-0003-aedb9667-c801-4940-b9d0-37f1e511dabe.power9-1.bqdc.nanjing/stderr
2018-08-24T13:44:18+08:00 INFO File is falling under ignore_older before harvesting is finished. Adjust your close_* settings: /opt/cws221/elastic_logs/c6e868cd-b26f-49e7-91bf-14ac30afb2c8.SIG161/driver-20180823120053-0000-ea96a70b-2a29-4a39-9002-5b95e6dd139a.power9-1.bqdc.nanjing/stderr
2018-08-24T13:44:18+08:00 INFO File is falling under ignore_older before harvesting is finished. Adjust your close_* settings: /opt/cws221/elastic_logs/c6e868cd-b26f-49e7-91bf-14ac30afb2c8.SIG161/driver-20180823120613-0001-5aa2cd3f-2d85-4767-8761-19812d587bd5.power9-1.bqdc.nanjing/stderr
2018-08-24T13:44:24+08:00 WARN DNS lookup failure "power9-1.bqdc.nanjing": lookup power9-1.bqdc.nanjing on 192.168.0.1:53: no such host
2018-08-24T13:44:24+08:00 ERR Connecting error publishing events (retrying): lookup power9-1.bqdc.nanjing on 192.168.0.1:53: no such host
2018-08-24T13:44:26+08:00 INFO File is falling under ignore_older before harvesting is finished. Adjust your close_* settings: /opt/cws221/elastic_logs/c6e868cd-b26f-49e7-91bf-14ac30afb2c8.SIG161/cws_ego.SIG161-sparkms-batch.2.power9-1.bqdc.nanjing.20180823
2018-08-24T13:44:28+08:00 INFO File is falling under ignore_older before harvesting is finished. Adjust your close_* settings: /opt/cws221/elastic_logs/c6e868cd-b26f-49e7-91bf-14ac30afb2c8.SIG161/app-20180823120624-0001-076ef82e-bfed-48f3-a949-e1d51ad1c2f5/0-7ba0c877-0612-40ea-a941-267026d14a94.power9-1.bqdc.nanjing/stderr
2018-08-24T13:44:28+08:00 INFO File is falling under ignore_older before harvesting is finished. Adjust your close_* settings: /opt/cws221/elastic_logs/c6e868cd-b26f-49e7-91bf-14ac30afb2c8.SIG161/app-20180823120104-0000-53b59bf0-b459-4052-809d-c470b0619f5d/0-1e1181f7-9a25-4cd8-afda-b2cfb3389b9f.power9-1.bqdc.nanjing/stderr
2018-08-24T13:44:28+08:00 INFO File is falling under ignore_older before harvesting is finished. Adjust your close_* settings: /opt/cws221/elastic_logs/c6e868cd-b26f-49e7-91bf-14ac30afb2c8.SIG161/driver-20180823120613-0001-5aa2cd3f-2d85-4767-8761-19812d587bd5.power9-1.bqdc.nanjing/stderr
2018-08-24T13:44:28+08:00 INFO File is falling under ignore_older before harvesting is finished. Adjust your close_* settings: /opt/cws221/elastic_logs/c6e868cd-b26f-49e7-91bf-14ac30afb2c8.SIG161/driver-20180823133721-0003-aedb9667-c801-4940-b9d0-37f1e511dabe.power9-1.bqdc.nanjing/stderr
2018-08-24T13:44:28+08:00 INFO File is falling under ignore_older before harvesting is finished. Adjust your close_* settings: /opt/cws221/elastic_logs/c6e868cd-b26f-49e7-91bf-14ac30afb2c8.SIG161/driver-20180823120053-0000-ea96a70b-2a29-4a39-9002-5b95e6dd139a.power9-1.bqdc.nanjing/stderr
2018-08-24T13:44:28+08:00 INFO File is falling under ignore_older before harvesting is finished. Adjust your close_* settings: /opt/cws221/elastic_logs/c6e868cd-b26f-49e7-91bf-14ac30afb2c8.SIG161/driver-20180823133721-0002-dd310733-6058-45a0-a77f-c7e2732714d5.power9-1.bqdc.nanjing/stderr
2018-08-24T13:44:36+08:00 INFO File is falling under ignore_older before harvesting is finished. Adjust your close_* settings: /opt/cws221/elastic_logs/c6e868cd-b26f-49e7-91bf-14ac30afb2c8.SIG161/cws_ego.SIG161-sparkms-batch.2.power9-1.bqdc.nanjing.20180823
2018-08-24T13:44:38+08:00 INFO File is falling under ignore_older before harvesting is finished. Adjust your close_* settings: /opt/cws221/elastic_logs/c6e868cd-b26f-49e7-91bf-14ac30afb2c8.SIG161/app-20180823120104-0000-53b59bf0-b459-4052-809d-c470b0619f5d/0-1e1181f7-9a25-4cd8-afda-b2cfb3389b9f.power9-1.bqdc.nanjing/stderr
2018-08-24T13:44:38+08:00 INFO File is falling under ignore_older before harvesting is finished. Adjust your close_* settings: /opt/cws221/elastic_logs/c6e868cd-b26f-49e7-91bf-14ac30afb2c8.SIG161/app-20180823120624-0001-076ef82e-bfed-48f3-a949-e1d51ad1c2f5/0-7ba0c877-0612-40ea-a941-267026d14a94.power9-1.bqdc.nanjing/stderr
2018-08-24T13:44:38+08:00 INFO File is falling under ignore_older before harvesting is finished. Adjust your close_* settings: /opt/cws221/elastic_logs/c6e868cd-b26f-49e7-91bf-14ac30afb2c8.SIG161/driver-20180823120053-0000-ea96a70b-2a29-4a39-9002-5b95e6dd139a.power9-1.bqdc.nanjing/stderr
2018-08-24T13:44:38+08:00 INFO File is falling under ignore_older before harvesting is finished. Adjust your close_* settings: /opt/cws221/elastic_logs/c6e868cd-b26f-49e7-91bf-14ac30afb2c8.SIG161/driver-20180823120613-0001-5aa2cd3f-2d85-4767-8761-19812d587bd5.power9-1.bqdc.nanjing/stderr
2018-08-24T13:44:38+08:00 INFO File is falling under ignore_older before harvesting is finished. Adjust your close_* settings: /opt/cws221/elastic_logs/c6e868cd-b26f-49e7-91bf-14ac30afb2c8.SIG161/driver-20180823133721-0002-dd310733-6058-45a0-a77f-c7e2732714d5.power9-1.bqdc.nanjing/stderr
2018-08-24T13:44:38+08:00 INFO File is falling under ignore_older before harvesting is finished. Adjust your close_* settings: /opt/cws221/elastic_logs/c6e868cd-b26f-49e7-91bf-14ac30afb2c8.SIG161/driver-20180823133721-0003-aedb9667-c801-4940-b9d0-37f1e511dabe.power9-1.bqdc.nanjing/stderr
2018-08-24T13:44:45+08:00 INFO No non-zero metrics in the last 30s
2018-08-24T13:44:46+08:00 INFO File is falling under ignore_older before harvesting is finished. Adjust your close_* settings: /opt/cws221/elastic_logs/c6e868cd-b26f-49e7-91bf-14ac30afb2c8.SIG161/cws_ego.SIG161-sparkms-batch.2.power9-1.bqdc.nanjing.20180823
2018-08-24T13:44:48+08:00 INFO File is falling under ignore_older before harvesting is finished. Adjust your close_* settings: /opt/cws221/elastic_logs/c6e868cd-b26f-49e7-91bf-14ac30afb2c8.SIG161/app-20180823120104-0000-53b59bf0-b459-4052-809d-c470b0619f5d/0-1e1181f7-9a25-4cd8-afda-b2cfb3389b9f.power9-1.bqdc.nanjing/stderr
2018-08-24T13:44:48+08:00 INFO File is falling under ignore_older before harvesting is finished. Adjust your close_* settings: /opt/cws221/elastic_logs/c6e868cd-b26f-49e7-91bf-14ac30afb2c8.SIG161/app-20180823120624-0001-076ef82e-bfed-48f3-a949-e1d51ad1c2f5/0-7ba0c877-0612-40ea-a941-267026d14a94.power9-1.bqdc.nanjing/stderr
2018-08-24T13:44:48+08:00 INFO File is falling under ignore_older before harvesting is finished. Adjust your close_* settings: /opt/cws221/elastic_logs/c6e868cd-b26f-49e7-91bf-14ac30afb2c8.SIG161/driver-20180823120613-0001-5aa2cd3f-2d85-4767-8761-19812d587bd5.power9-1.bqdc.nanjing/stderr
2018-08-24T13:44:48+08:00 INFO File is falling under ignore_older before harvesting is finished. Adjust your close_* settings: /opt/cws221/elastic_logs/c6e868cd-b26f-49e7-91bf-14ac30afb2c8.SIG161/driver-20180823120053-0000-ea96a70b-2a29-4a39-9002-5b95e6dd139a.power9-1.bqdc.nanjing/stderr
2018-08-24T13:44:48+08:00 INFO File is falling under ignore_older before harvesting is finished. Adjust your close_* settings: /opt/cws221/elastic_logs/c6e868cd-b26f-49e7-91bf-14ac30afb2c8.SIG161/driver-20180823133721-0002-dd310733-6058-45a0-a77f-c7e2732714d5.power9-1.bqdc.nanjing/stderr
2018-08-24T13:44:48+08:00 INFO File is falling under ignore_older before harvesting is finished. Adjust your close_* settings: /opt/cws221/elastic_logs/c6e868cd-b26f-49e7-91bf-14ac30afb2c8.SIG161/driver-20180823133721-0003-aedb9667-c801-4940-b9d0-37f1e511dabe.power9-1.bqdc.nanjing/stderr
2018-08-24T13:44:56+08:00 INFO File is falling under ignore_older before harvesting is finished. Adjust your close_* settings: /opt/cws221/elastic_logs/c6e868cd-b26f-49e7-91bf-14ac30afb2c8.SIG161/cws_ego.SIG161-sparkms-batch.2.power9-1.bqdc.nanjing.20180823
[root@power9-1 filebeat]# ll
total 3112
-rw-------. 1 root root 1127314 Aug 24 13:48 filebeat.log.power9-1.bqdc.nanjing
-rw-------. 1 root root 1473873 Aug 24 08:09 filebeat.log.power9-1.bqdc.nanjing.1
-rw-------. 1 root root  172379 Aug 23 17:46 filebeat.log.power9-1.bqdc.nanjing.2
-rw-------. 1 root root      57 Aug 23 11:13 filebeat.log.power9-1.bqdc.nanjing.3
-rw-------. 1 root root  381831 Aug 23 10:53 filebeat.log.power9-1.bqdc.nanjing.4
[root@power9-1 filebeat]# cd ..
[root@power9-1 log]# ll
total 84
drwxr-xr-x. 2 egoadmin egoadmin  4096 Aug 23 15:40 elasticsearch
-rw-r--r--. 1 egoadmin egoadmin     0 Aug 22 18:26 es-err.log.client.power9-1.bqdc.nanjing
-rw-r--r--. 1 egoadmin egoadmin     0 Aug 22 18:26 es-err.log.data.power9-1.bqdc.nanjing
-rw-r--r--. 1 egoadmin egoadmin     0 Aug 22 18:26 es-err.log.master.power9-1.bqdc.nanjing
-rw-r--r--. 1 egoadmin egoadmin 11016 Aug 23 17:52 es-out.log.client.power9-1.bqdc.nanjing
-rw-r--r--. 1 egoadmin egoadmin 11136 Aug 23 17:52 es-out.log.data.power9-1.bqdc.nanjing
-rw-r--r--. 1 egoadmin egoadmin 20610 Aug 23 17:52 es-out.log.master.power9-1.bqdc.nanjing
drwxr-x---. 2 root     root      4096 Aug 24 13:48 filebeat
-rw-r--r--. 1 egoadmin egoadmin   120 Aug 22 18:26 indexer-err.log.power9-1.bqdc.nanjing
-rw-r--r--. 1 egoadmin egoadmin  3512 Aug 23 17:52 indexer-out.log.power9-1.bqdc.nanjing
drwxr-----. 2 egoadmin egoadmin  4096 Aug 23 16:01 logstash
-rw-r--r--. 1 egoadmin egoadmin     0 Aug 22 18:25 manager-err.log.power9-1.bqdc.nanjing
-rw-r--r--. 1 egoadmin egoadmin  7987 Aug 24 08:00 manager-out.log.power9-1.bqdc.nanjing
-rw-r--r--. 1 root     root         0 Aug 22 18:26 shipper-err.log.power9-1.bqdc.nanjing
-rw-r--r--. 1 root     root       689 Aug 24 08:10 shipper-out.log.power9-1.bqdc.nanjing
[root@power9-1 log]# cd logstash/
[root@power9-1 logstash]# ll
total 1484
-rwxr-----. 1 egoadmin egoadmin 1512485 Aug 24 07:52 logstash-plain.log.power9-1.bqdc.nanjing
-rwxr-----. 1 egoadmin egoadmin       0 Aug 22 18:26 logstash-slowlog-plain.log.power9-1.bqdc.nanjing
[root@power9-1 logstash]# vi logstash-plain.log.power9-1.bqdc.nanjing 
[2018-08-22T18:26:40,547][INFO ][logstash.setting.writabledirectory] Creating directory {:setting=>"path.queue", :path=>"/opt/cws221/integration/elk/hosts/power9-1.bqdc.nanjing/indexer/data/queue"}
[2018-08-22T18:26:40,648][INFO ][logstash.agent           ] No persistent UUID file found. Generating new UUID {:uuid=>"bee77bb9-b4ac-4307-aa74-ee4c4383a14f", :path=>"/opt/cws221/integration/elk/hosts/power9-1.bqdc.nanjing/indexer/data/uuid"}
[2018-08-22T18:26:48,901][WARN ][logstash.inputs.beats    ] You are using a deprecated config setting "congestion_threshold" set in beats. Deprecated settings will continue to work, but are scheduled for removal from logstash in the future. This option is now deprecated since congestion control is done automatically If you have any questions about this, please visit the #logstash channel on freenode irc. {:name=>"congestion_threshold", :plugin=><LogStash::Inputs::Beats port=>"28310", congestion_threshold=>60, ssl=>"true", ssl_certificate=>"../../scripts/lumberjack.crt", ssl_key=>"../../scripts/lumberjack.key", cipher_suites=>["TLS_ECDHE_RSA_WITH_AES_128_GCM_SHA256"], tls_min_version=>"1.2", id=>"9b1a65cc58c26ec0cfc756931904461a653526da-74">}
[2018-08-22T18:26:49,752][INFO ][logstash.outputs.elasticsearch] Elasticsearch pool URLs updated {:changes=>{:removed=>[], :added=>[https://power9-1.bqdc.nanjing:28210/?egoToken=Admin%222018-08-22T18%3A26%3A02Z%22zmJMesE8oWruKvwqkdG0SwoYhez9KHdh%2F%2Beeh4C3U8jv3RtrBgsYaURrIVx%2BMqx1Q7AEKBDFonGDKyx5dRZy3Q%3D%3D%228as1esPn%2FUuUqNlaGdSLWg%3D%3D]}}
[2018-08-22T18:26:49,752][INFO ][logstash.outputs.elasticsearch] Running health check to see if an Elasticsearch connection is working {:healthcheck_url=>https://power9-1.bqdc.nanjing:28210/?egoToken=Admin%222018-08-22T18%3A26%3A02Z%22zmJMesE8oWruKvwqkdG0SwoYhez9KHdh%2F%2Beeh4C3U8jv3RtrBgsYaURrIVx%2BMqx1Q7AEKBDFonGDKyx5dRZy3Q%3D%3D%228as1esPn%2FUuUqNlaGdSLWg%3D%3D, :path=>"/"}
[2018-08-22T18:26:50,130][WARN ][logstash.outputs.elasticsearch] Restored connection to ES instance {:url=>#<URI::HTTPS:0xdf9b24f3 URL:https://power9-1.bqdc.nanjing:28210/?egoToken=Admin%222018-08-22T18%3A26%3A02Z%22zmJMesE8oWruKvwqkdG0SwoYhez9KHdh%2F%2Beeh4C3U8jv3RtrBgsYaURrIVx%2BMqx1Q7AEKBDFonGDKyx5dRZy3Q%3D%3D%228as1esPn%2FUuUqNlaGdSLWg%3D%3D>}
[2018-08-22T18:26:50,131][INFO ][logstash.outputs.elasticsearch] Using mapping template from {:path=>nil}
[2018-08-22T18:26:50,181][INFO ][logstash.outputs.elasticsearch] Attempting to install template {:manage_template=>{"template"=>"logstash-*", "version"=>50001, "settings"=>{"index.refresh_interval"=>"5s"}, "mappings"=>{"_default_"=>{"_all"=>{"enabled"=>true, "norms"=>false}, "dynamic_templates"=>[{"message_field"=>{"path_match"=>"message", "match_mapping_type"=>"string", "mapping"=>{"type"=>"text", "norms"=>false}}}, {"string_fields"=>{"match"=>"*", "match_mapping_type"=>"string", "mapping"=>{"type"=>"text", "norms"=>false, "fields"=>{"keyword"=>{"type"=>"keyword"}}}}}], "properties"=>{"@timestamp"=>{"type"=>"date", "include_in_all"=>false}, "@version"=>{"type"=>"keyword", "include_in_all"=>false}, "geoip"=>{"dynamic"=>true, "properties"=>{"ip"=>{"type"=>"ip"}, "location"=>{"type"=>"geo_point"}, "latitude"=>{"type"=>"half_float"}, "longitude"=>{"type"=>"half_float"}}}}}}}}
[2018-08-22T18:26:50,198][INFO ][logstash.outputs.elasticsearch] Installing elasticsearch template to _template/logstash
[2018-08-22T18:26:50,451][INFO ][logstash.outputs.elasticsearch] New Elasticsearch output {:class=>"LogStash::Outputs::ElasticSearch", :hosts=>[#<URI::Generic:0x88abf7a3 URL://power9-1.bqdc.nanjing:28210>]}
[2018-08-22T18:26:50,461][INFO ][logstash.outputs.elasticsearch] Elasticsearch pool URLs updated {:changes=>{:removed=>[], :added=>[https://power9-1.bqdc.nanjing:28210/?egoToken=Admin%222018-08-22T18%3A26%3A02Z%22zmJMesE8oWruKvwqkdG0SwoYhez9KHdh%2F%2Beeh4C3U8jv3RtrBgsYaURrIVx%2BMqx1Q7AEKBDFonGDKyx5dRZy3Q%3D%3D%228as1esPn%2FUuUqNlaGdSLWg%3D%3D]}}
[2018-08-22T18:26:50,462][INFO ][logstash.outputs.elasticsearch] Running health check to see if an Elasticsearch connection is working {:healthcheck_url=>https://power9-1.bqdc.nanjing:28210/?egoToken=Admin%222018-08-22T18%3A26%3A02Z%22zmJMesE8oWruKvwqkdG0SwoYhez9KHdh%2F%2Beeh4C3U8jv3RtrBgsYaURrIVx%2BMqx1Q7AEKBDFonGDKyx5dRZy3Q%3D%3D%228as1esPn%2FUuUqNlaGdSLWg%3D%3D, :path=>"/"}
[2018-08-22T18:26:50,534][WARN ][logstash.outputs.elasticsearch] Restored connection to ES instance {:url=>#<URI::HTTPS:0xf367474e URL:https://power9-1.bqdc.nanjing:28210/?egoToken=Admin%222018-08-22T18%3A26%3A02Z%22zmJMesE8oWruKvwqkdG0SwoYhez9KHdh%2F%2Beeh4C3U8jv3RtrBgsYaURrIVx%2BMqx1Q7AEKBDFonGDKyx5dRZy3Q%3D%3D%228as1esPn%2FUuUqNlaGdSLWg%3D%3D>}
[2018-08-22T18:26:50,535][INFO ][logstash.outputs.elasticsearch] Using mapping template from {:path=>nil}
[2018-08-22T18:26:50,552][INFO ][logstash.outputs.elasticsearch] Attempting to install template {:manage_template=>{"template"=>"logstash-*", "version"=>50001, "settings"=>{"index.refresh_interval"=>"5s"}, "mappings"=>{"_default_"=>{"_all"=>{"enabled"=>true, "norms"=>false}, "dynamic_templates"=>[{"message_field"=>{"path_match"=>"message", "match_mapping_type"=>"string", "mapping"=>{"type"=>"text", "norms"=>false}}}, {"string_fields"=>{"match"=>"*", "match_mapping_type"=>"string", "mapping"=>{"type"=>"text", "norms"=>false, "fields"=>{"keyword"=>{"type"=>"keyword"}}}}}], "properties"=>{"@timestamp"=>{"type"=>"date", "include_in_all"=>false}, "@version"=>{"type"=>"keyword", "include_in_all"=>false}, "geoip"=>{"dynamic"=>true, "properties"=>{"ip"=>{"type"=>"ip"}, "location"=>{"type"=>"geo_point"}, "latitude"=>{"type"=>"half_float"}, "longitude"=>{"type"=>"half_float"}}}}}}}}
[2018-08-22T18:26:50,569][INFO ][logstash.outputs.elasticsearch] New Elasticsearch output {:class=>"LogStash::Outputs::ElasticSearch", :hosts=>[#<URI::Generic:0x88208954 URL://power9-1.bqdc.nanjing:28210>]}
[2018-08-22T18:26:50,579][INFO ][logstash.outputs.elasticsearch] Elasticsearch pool URLs updated {:changes=>{:removed=>[], :added=>[https://power9-1.bqdc.nanjing:28210/?egoToken=Admin%222018-08-22T18%3A26%3A02Z%22zmJMesE8oWruKvwqkdG0SwoYhez9KHdh%2F%2Beeh4C3U8jv3RtrBgsYaURrIVx%2BMqx1Q7AEKBDFonGDKyx5dRZy3Q%3D%3D%228as1esPn%2FUuUqNlaGdSLWg%3D%3D]}}
[2018-08-22T18:26:50,579][INFO ][logstash.outputs.elasticsearch] Running health check to see if an Elasticsearch connection is working {:healthcheck_url=>https://power9-1.bqdc.nanjing:28210/?egoToken=Admin%222018-08-22T18%3A26%3A02Z%22zmJMesE8oWruKvwqkdG0SwoYhez9KHdh%2F%2Beeh4C3U8jv3RtrBgsYaURrIVx%2BMqx1Q7AEKBDFonGDKyx5dRZy3Q%3D%3D%228as1esPn%2FUuUqNlaGdSLWg%3D%3D, :path=>"/"}
[2018-08-22T18:26:50,643][WARN ][logstash.outputs.elasticsearch] Restored connection to ES instance {:url=>#<URI::HTTPS:0x5ad3a4b8 URL:https://power9-1.bqdc.nanjing:28210/?egoToken=Admin%222018-08-22T18%3A26%3A02Z%22zmJMesE8oWruKvwqkdG0SwoYhez9KHdh%2F%2Beeh4C3U8jv3RtrBgsYaURrIVx%2BMqx1Q7AEKBDFonGDKyx5dRZy3Q%3D%3D%228as1esPn%2FUuUqNlaGdSLWg%3D%3D>}
[2018-08-22T18:26:50,644][INFO ][logstash.outputs.elasticsearch] Using mapping template from {:path=>nil}
[2018-08-22T18:26:50,660][INFO ][logstash.outputs.elasticsearch] Attempting to install template {:manage_template=>{"template"=>"logstash-*", "version"=>50001, "settings"=>{"index.refresh_interval"=>"5s"}, "mappings"=>{"_default_"=>{"_all"=>{"enabled"=>true, "norms"=>false}, "dynamic_templates"=>[{"message_field"=>{"path_match"=>"message", "match_mapping_type"=>"string", "mapping"=>{"type"=>"text", "norms"=>false}}}, {"string_fields"=>{"match"=>"*", "match_mapping_type"=>"string", "mapping"=>{"type"=>"text", "norms"=>false, "fields"=>{"keyword"=>{"type"=>"keyword"}}}}}], "properties"=>{"@timestamp"=>{"type"=>"date", "include_in_all"=>false}, "@version"=>{"type"=>"keyword", "include_in_all"=>false}, "geoip"=>{"dynamic"=>true, "properties"=>{"ip"=>{"type"=>"ip"}, "location"=>{"type"=>"geo_point"}, "latitude"=>{"type"=>"half_float"}, "longitude"=>{"type"=>"half_float"}}}}}}}}
[2018-08-22T18:26:50,678][INFO ][logstash.outputs.elasticsearch] New Elasticsearch output {:class=>"LogStash::Outputs::ElasticSearch", :hosts=>[#<URI::Generic:0x595de06d URL://power9-1.bqdc.nanjing:28210>]}
[2018-08-22T18:26:50,689][INFO ][logstash.outputs.elasticsearch] Elasticsearch pool URLs updated {:changes=>{:removed=>[], :added=>[https://power9-1.bqdc.nanjing:28210/?egoToken=Admin%222018-08-22T18%3A26%3A02Z%22zmJMesE8oWruKvwqkdG0SwoYhez9KHdh%2F%2Beeh4C3U8jv3RtrBgsYaURrIVx%2BMqx1Q7AEKBDFonGDKyx5dRZy3Q%3D%3D%228as1esPn%2FUuUqNlaGdSLWg%3D%3D]}}
[2018-08-22T18:26:50,689][INFO ][logstash.outputs.elasticsearch] Running health check to see if an Elasticsearch connection is working {:healthcheck_url=>https://power9-1.bqdc.nanjing:28210/?egoToken=Admin%222018-08-22T18%3A26%3A02Z%22zmJMesE8oWruKvwqkdG0SwoYhez9KHdh%2F%2Beeh4C3U8jv3RtrBgsYaURrIVx%2BMqx1Q7AEKBDFonGDKyx5dRZy3Q%3D%3D%228as1esPn%2FUuUqNlaGdSLWg%3D%3D, :path=>"/"}
[2018-08-22T18:26:50,749][WARN ][logstash.outputs.elasticsearch] Restored connection to ES instance {:url=>#<URI::HTTPS:0x538f8a61 URL:https://power9-1.bqdc.nanjing:28210/?egoToken=Admin%222018-08-22T18%3A26%3A02Z%22zmJMesE8oWruKvwqkdG0SwoYhez9KHdh%2F%2Beeh4C3U8jv3RtrBgsYaURrIVx%2BMqx1Q7AEKBDFonGDKyx5dRZy3Q%3D%3D%228as1esPn%2FUuUqNlaGdSLWg%3D%3D>}
[2018-08-22T18:26:50,750][INFO ][logstash.outputs.elasticsearch] Using mapping template from {:path=>nil}
[2018-08-22T18:26:50,765][INFO ][logstash.outputs.elasticsearch] Attempting to install template {:manage_template=>{"template"=>"logstash-*", "version"=>50001, "settings"=>{"index.refresh_interval"=>"5s"}, "mappings"=>{"_default_"=>{"_all"=>{"enabled"=>true, "norms"=>false}, "dynamic_templates"=>[{"message_field"=>{"path_match"=>"message", "match_mapping_type"=>"string", "mapping"=>{"type"=>"text", "norms"=>false}}}, {"string_fields"=>{"match"=>"*", "match_mapping_type"=>"string", "mapping"=>{"type"=>"text", "norms"=>false, "fields"=>{"keyword"=>{"type"=>"keyword"}}}}}], "properties"=>{"@timestamp"=>{"type"=>"date", "include_in_all"=>false}, "@version"=>{"type"=>"keyword", "include_in_all"=>false}, "geoip"=>{"dynamic"=>true, "properties"=>{"ip"=>{"type"=>"ip"}, "location"=>{"type"=>"geo_point"}, "latitude"=>{"type"=>"half_float"}, "longitude"=>{"type"=>"half_float"}}}}}}}}
[2018-08-22T18:26:50,780][INFO ][logstash.outputs.elasticsearch] New Elasticsearch output {:class=>"LogStash::Outputs::ElasticSearch", :hosts=>[#<URI::Generic:0x50cc1320 URL://power9-1.bqdc.nanjing:28210>]}
[2018-08-22T18:26:50,790][INFO ][logstash.outputs.elasticsearch] Elasticsearch pool URLs updated {:changes=>{:removed=>[], :added=>[https://power9-1.bqdc.nanjing:28210/?egoToken=Admin%222018-08-22T18%3A26%3A02Z%22zmJMesE8oWruKvwqkdG0SwoYhez9KHdh%2F%2Beeh4C3U8jv3RtrBgsYaURrIVx%2BMqx1Q7AEKBDFonGDKyx5dRZy3Q%3D%3D%228as1esPn%2FUuUqNlaGdSLWg%3D%3D]}}
[2018-08-22T18:26:50,790][INFO ][logstash.outputs.elasticsearch] Running health check to see if an Elasticsearch connection is working {:healthcheck_url=>https://power9-1.bqdc.nanjing:28210/?egoToken=Admin%222018-08-22T18%3A26%3A02Z%22zmJMesE8oWruKvwqkdG0SwoYhez9KHdh%2F%2Beeh4C3U8jv3RtrBgsYaURrIVx%2BMqx1Q7AEKBDFonGDKyx5dRZy3Q%3D%3D%228as1esPn%2FUuUqNlaGdSLWg%3D%3D, :path=>"/"}
[2018-08-22T18:26:50,847][WARN ][logstash.outputs.elasticsearch] Restored connection to ES instance {:url=>#<URI::HTTPS:0x2a55c953 URL:https://power9-1.bqdc.nanjing:28210/?egoToken=Admin%222018-08-22T18%3A26%3A02Z%22zmJMesE8oWruKvwqkdG0SwoYhez9KHdh%2F%2Beeh4C3U8jv3RtrBgsYaURrIVx%2BMqx1Q7AEKBDFonGDKyx5dRZy3Q%3D%3D%228as1esPn%2FUuUqNlaGdSLWg%3D%3D>}
[2018-08-22T18:26:50,847][INFO ][logstash.outputs.elasticsearch] Using mapping template from {:path=>nil}
[2018-08-22T18:26:50,866][INFO ][logstash.outputs.elasticsearch] Attempting to install template {:manage_template=>{"template"=>"logstash-*", "version"=>50001, "settings"=>{"index.refresh_interval"=>"5s"}, "mappings"=>{"_default_"=>{"_all"=>{"enabled"=>true, "norms"=>false}, "dynamic_templates"=>[{"message_field"=>{"path_match"=>"message", "match_mapping_type"=>"string", "mapping"=>{"type"=>"text", "norms"=>false}}}, {"string_fields"=>{"match"=>"*", "match_mapping_type"=>"string", "mapping"=>{"type"=>"text", "norms"=>false, "fields"=>{"keyword"=>{"type"=>"keyword"}}}}}], "properties"=>{"@timestamp"=>{"type"=>"date", "include_in_all"=>false}, "@version"=>{"type"=>"keyword", "include_in_all"=>false}, "geoip"=>{"dynamic"=>true, "properties"=>{"ip"=>{"type"=>"ip"}, "location"=>{"type"=>"geo_point"}, "latitude"=>{"type"=>"half_float"}, "longitude"=>{"type"=>"half_float"}}}}}}}}
[2018-08-22T18:26:50,881][INFO ][logstash.outputs.elasticsearch] New Elasticsearch output {:class=>"LogStash::Outputs::ElasticSearch", :hosts=>[#<URI::Generic:0x4047fc9a URL://power9-1.bqdc.nanjing:28210>]}
[2018-08-22T18:26:50,893][INFO ][logstash.outputs.elasticsearch] Elasticsearch pool URLs updated {:changes=>{:removed=>[], :added=>[https://power9-1.bqdc.nanjing:28210/?egoToken=Admin%222018-08-22T18%3A26%3A02Z%22zmJMesE8oWruKvwqkdG0SwoYhez9KHdh%2F%2Beeh4C3U8jv3RtrBgsYaURrIVx%2BMqx1Q7AEKBDFonGDKyx5dRZy3Q%3D%3D%228as1esPn%2FUuUqNlaGdSLWg%3D%3D]}}
[2018-08-22T18:26:50,893][INFO ][logstash.outputs.elasticsearch] Running health check to see if an Elasticsearch connection is working {:healthcheck_url=>https://power9-1.bqdc.nanjing:28210/?egoToken=Admin%222018-08-22T18%3A26%3A02Z%22zmJMesE8oWruKvwqkdG0SwoYhez9KHdh%2F%2Beeh4C3U8jv3RtrBgsYaURrIVx%2BMqx1Q7AEKBDFonGDKyx5dRZy3Q%3D%3D%228as1esPn%2FUuUqNlaGdSLWg%3D%3D, :path=>"/"}
[2018-08-22T18:26:50,950][WARN ][logstash.outputs.elasticsearch] Restored connection to ES instance {:url=>#<URI::HTTPS:0xe9ce9cd8 URL:https://power9-1.bqdc.nanjing:28210/?egoToken=Admin%222018-08-22T18%3A26%3A02Z%22zmJMesE8oWruKvwqkdG0SwoYhez9KHdh%2F%2Beeh4C3U8jv3RtrBgsYaURrIVx%2BMqx1Q7AEKBDFonGDKyx5dRZy3Q%3D%3D%228as1esPn%2FUuUqNlaGdSLWg%3D%3D>}
[2018-08-22T18:26:50,951][INFO ][logstash.outputs.elasticsearch] Using mapping template from {:path=>nil}
[2018-08-22T18:26:50,966][INFO ][logstash.outputs.elasticsearch] Attempting to install template {:manage_template=>{"template"=>"logstash-*", "version"=>50001, "settings"=>{"index.refresh_interval"=>"5s"}, "mappings"=>{"_default_"=>{"_all"=>{"enabled"=>true, "norms"=>false}, "dynamic_templates"=>[{"message_field"=>{"path_match"=>"message", "match_mapping_type"=>"string", "mapping"=>{"type"=>"text", "norms"=>false}}}, {"string_fields"=>{"match"=>"*", "match_mapping_type"=>"string", "mapping"=>{"type"=>"text", "norms"=>false, "fields"=>{"keyword"=>{"type"=>"keyword"}}}}}], "properties"=>{"@timestamp"=>{"type"=>"date", "include_in_all"=>false}, "@version"=>{"type"=>"keyword", "include_in_all"=>false}, "geoip"=>{"dynamic"=>true, "properties"=>{"ip"=>{"type"=>"ip"}, "location"=>{"type"=>"geo_point"}, "latitude"=>{"type"=>"half_float"}, "longitude"=>{"type"=>"half_float"}}}}}}}}
[2018-08-22T18:26:50,983][INFO ][logstash.outputs.elasticsearch] New Elasticsearch output {:class=>"LogStash::Outputs::ElasticSearch", :hosts=>[#<URI::Generic:0x1be103c0 URL://power9-1.bqdc.nanjing:28210>]}
[2018-08-22T18:26:50,993][INFO ][logstash.outputs.elasticsearch] Elasticsearch pool URLs updated {:changes=>{:removed=>[], :added=>[https://power9-1.bqdc.nanjing:28210/?egoToken=Admin%222018-08-22T18%3A26%3A02Z%22zmJMesE8oWruKvwqkdG0SwoYhez9KHdh%2F%2Beeh4C3U8jv3RtrBgsYaURrIVx%2BMqx1Q7AEKBDFonGDKyx5dRZy3Q%3D%3D%228as1esPn%2FUuUqNlaGdSLWg%3D%3D]}}
[2018-08-22T18:26:50,993][INFO ][logstash.outputs.elasticsearch] Running health check to see if an Elasticsearch connection is working {:healthcheck_url=>https://power9-1.bqdc.nanjing:28210/?egoToken=Admin%222018-08-22T18%3A26%3A02Z%22zmJMesE8oWruKvwqkdG0SwoYhez9KHdh%2F%2Beeh4C3U8jv3RtrBgsYaURrIVx%2BMqx1Q7AEKBDFonGDKyx5dRZy3Q%3D%3D%228as1esPn%2FUuUqNlaGdSLWg%3D%3D, :path=>"/"}
[2018-08-22T18:26:51,103][WARN ][logstash.outputs.elasticsearch] Restored connection to ES instance {:url=>#<URI::HTTPS:0x3f184880 URL:https://power9-1.bqdc.nanjing:28210/?egoToken=Admin%222018-08-22T18%3A26%3A02Z%22zmJMesE8oWruKvwqkdG0SwoYhez9KHdh%2F%2Beeh4C3U8jv3RtrBgsYaURrIVx%2BMqx1Q7AEKBDFonGDKyx5dRZy3Q%3D%3D%228as1esPn%2FUuUqNlaGdSLWg%3D%3D>}
[2018-08-22T18:26:51,104][INFO ][logstash.outputs.elasticsearch] Using mapping template from {:path=>nil}
[2018-08-22T18:26:51,120][INFO ][logstash.outputs.elasticsearch] Attempting to install template {:manage_template=>{"template"=>"logstash-*", "version"=>50001, "settings"=>{"index.refresh_interval"=>"5s"}, "mappings"=>{"_default_"=>{"_all"=>{"enabled"=>true, "norms"=>false}, "dynamic_templates"=>[{"message_field"=>{"path_match"=>"message", "match_mapping_type"=>"string", "mapping"=>{"type"=>"text", "norms"=>false}}}, {"string_fields"=>{"match"=>"*", "match_mapping_type"=>"string", "mapping"=>{"type"=>"text", "norms"=>false, "fields"=>{"keyword"=>{"type"=>"keyword"}}}}}], "properties"=>{"@timestamp"=>{"type"=>"date", "include_in_all"=>false}, "@version"=>{"type"=>"keyword", "include_in_all"=>false}, "geoip"=>{"dynamic"=>true, "properties"=>{"ip"=>{"type"=>"ip"}, "location"=>{"type"=>"geo_point"}, "latitude"=>{"type"=>"half_float"}, "longitude"=>{"type"=>"half_float"}}}}}}}}
[2018-08-22T18:26:51,137][INFO ][logstash.outputs.elasticsearch] New Elasticsearch output {:class=>"LogStash::Outputs::ElasticSearch", :hosts=>[#<URI::Generic:0x83d51598 URL://power9-1.bqdc.nanjing:28210>]}
[2018-08-22T18:26:51,159][INFO ][logstash.outputs.elasticsearch] Elasticsearch pool URLs updated {:changes=>{:removed=>[], :added=>[https://power9-1.bqdc.nanjing:28210/?egoToken=Admin%222018-08-22T18%3A26%3A02Z%22zmJMesE8oWruKvwqkdG0SwoYhez9KHdh%2F%2Beeh4C3U8jv3RtrBgsYaURrIVx%2BMqx1Q7AEKBDFonGDKyx5dRZy3Q%3D%3D%228as1esPn%2FUuUqNlaGdSLWg%3D%3D]}}
[2018-08-22T18:26:51,159][INFO ][logstash.outputs.elasticsearch] Running health check to see if an Elasticsearch connection is working {:healthcheck_url=>https://power9-1.bqdc.nanjing:28210/?egoToken=Admin%222018-08-22T18%3A26%3A02Z%22zmJMesE8oWruKvwqkdG0SwoYhez9KHdh%2F%2Beeh4C3U8jv3RtrBgsYaURrIVx%2BMqx1Q7AEKBDFonGDKyx5dRZy3Q%3D%3D%228as1esPn%2FUuUqNlaGdSLWg%3D%3D, :path=>"/"}
[2018-08-22T18:26:51,220][WARN ][logstash.outputs.elasticsearch] Restored connection to ES instance {:url=>#<URI::HTTPS:0x662e7208 URL:https://power9-1.bqdc.nanjing:28210/?egoToken=Admin%222018-08-22T18%3A26%3A02Z%22zmJMesE8oWruKvwqkdG0SwoYhez9KHdh%2F%2Beeh4C3U8jv3RtrBgsYaURrIVx%2BMqx1Q7AEKBDFonGDKyx5dRZy3Q%3D%3D%228as1esPn%2FUuUqNlaGdSLWg%3D%3D>}
[2018-08-22T18:26:51,220][INFO ][logstash.outputs.elasticsearch] Using mapping template from {:path=>nil}
[2018-08-22T18:26:51,235][INFO ][logstash.outputs.elasticsearch] Attempting to install template {:manage_template=>{"template"=>"logstash-*", "version"=>50001, "settings"=>{"index.refresh_interval"=>"5s"}, "mappings"=>{"_default_"=>{"_all"=>{"enabled"=>true, "norms"=>false}, "dynamic_templates"=>[{"message_field"=>{"path_match"=>"message", "match_mapping_type"=>"string", "mapping"=>{"type"=>"text", "norms"=>false}}}, {"string_fields"=>{"match"=>"*", "match_mapping_type"=>"string", "mapping"=>{"type"=>"text", "norms"=>false, "fields"=>{"keyword"=>{"type"=>"keyword"}}}}}], "properties"=>{"@timestamp"=>{"type"=>"date", "include_in_all"=>false}, "@version"=>{"type"=>"keyword", "include_in_all"=>false}, "geoip"=>{"dynamic"=>true, "properties"=>{"ip"=>{"type"=>"ip"}, "location"=>{"type"=>"geo_point"}, "latitude"=>{"type"=>"half_float"}, "longitude"=>{"type"=>"half_float"}}}}}}}}
[2018-08-22T18:26:51,250][INFO ][logstash.outputs.elasticsearch] New Elasticsearch output {:class=>"LogStash::Outputs::ElasticSearch", :hosts=>[#<URI::Generic:0x6fd7c821 URL://power9-1.bqdc.nanjing:28210>]}
[2018-08-22T18:26:51,904][INFO ][logstash.pipeline        ] Starting pipeline {"id"=>"main", "pipeline.workers"=>128, "pipeline.batch.size"=>1000, "pipeline.batch.delay"=>5, "pipeline.max_inflight"=>128000}
[2018-08-22T18:26:51,904][WARN ][logstash.pipeline        ] CAUTION: Recommended inflight events max exceeded! Logstash will run with up to 128000 events in memory in your current configuration. If your message sizes are large this may cause instability with the default heap size. Please consider setting a non-standard heap size, changing the batch size (currently 1000), or changing the number of pipeline workers (currently 128)
[2018-08-22T18:26:51,945][INFO ][logstash.inputs.beats    ] Beats inputs: Starting input listener {:address=>"0.0.0.0:28310"}
[2018-08-22T18:26:52,323][INFO ][logstash.pipeline        ] Pipeline main started
[2018-08-22T18:26:52,395][INFO ][logstash.agent           ] Successfully started Logstash API endpoint {:port=>9600}
[2018-08-22T18:27:04,208][WARN ][logstash.inputs.beats    ] You are using a deprecated config setting "congestion_threshold" set in beats. Deprecated settings will continue to work, but are scheduled for removal from logstash in the future. This option is now deprecated since congestion control is done automatically If you have any questions about this, please visit the #logstash channel on freenode irc. {:name=>"congestion_threshold", :plugin=><LogStash::Inputs::Beats port=>"28310", congestion_threshold=>60, ssl=>"true", ssl_certificate=>"../../scripts/lumberjack.crt", ssl_key=>"../../scripts/lumberjack.key", cipher_suites=>["TLS_ECDHE_RSA_WITH_AES_128_GCM_SHA256"], tls_min_version=>"1.2", id=>"b413c2d88d18245cde784a204506fbaa5cf3980b-74">}
[2018-08-22T18:27:04,214][WARN ][logstash.agent           ] [@metadata][executorhost]}/%{DATA:[@metadata][log_file]}\" }\n        }\n    \n        #multiline {\n        #    pattern => \"(.*Train net output.*)|(.*Test net output.*)\"\n        #    what => \"previous\"\n        #}\n        if [message] =~ \"(?m).*Iteration.*Train net output.*\" {\n            grok {\n                match => { \"message\" =>  \"(?m)\\s+Iteration\\s*(?<iteration>\\d+.*),(\\s*loss\\s*=\\s*(?<loss>\\d+(?:\\.\\d+\\w*\\-*\\d*)?))?(.*accuracy\\s*=\\s*(?<accuracy>\\d+(?:\\.\\d+\\w*\\-*\\d*)?))?\" }\n                add_field => { \"iter_type\" => \"train\" }\n            }\n        }\n        else if [message] =~ \"(?m).*Iteration.*Test net output.*\" {\n            grok {\n                match => { \"message\" =>  \"(?m)\\s+Iteration\\s*(?<iteration>\\d+),(.*accuracy\\s*=\\s*(?<accuracy>\\d+(?:\\.\\d+\\w*\\-*\\d*)?))?(.*loss\\s*=\\s*(?<loss>\\d+(?:\\.\\d+\\w*\\-*\\d*)?))?\" }\n                add_field => { \"iter_type\" => \"test\" }\n            }\n\n        }\n        else if [message] =~ \"(?m).*iter.*Test net output.*\" {\n            grok {\n                match => { \"message\" =>  \"(?m)\\s+iter:\\s*(?<iteration>\\d+),(.*accuracy\\s*=\\s*(?<accuracy>\\d+(?:\\.\\d+\\w*\\-*\\d*)?))?(.*loss\\s*=\\s*(?<loss>\\d+(?:\\.\\d+\\w*\\-*\\d*)?))?\" }\n                add_field => { \"iter_type\" => \"test\" }\n            }\n\n        }\n        else if [message] =~ \".*LSY.*iter.*T3.*\" {\n            grok {\n                match => { \"message\" =>  \"\\s*iter\\s*(?<iteration>\\d+)\\s*,\\s*.*T3\\s*is\\s*(?<value>\\d+(?:\\.\\d+\\w*\\-*\\d*)?)\" }\n                add_field => { \"iter_type\" => \"OT3\" }\n            }\n\n        }\n        else if [message] =~ \".*LSY.*iteration.*T2(?!-T1).*\" {\n            grok {\n                match => { \"message\" =>  \"LSY:\\s*iteration\\s*(?<iteration>\\d+)\\s*,\\s*.*T2\\s*is\\s*(?<value>\\d+(?:\\.\\d+\\w*\\-*\\d*)?)\" }\n                add_field => { \"iter_type\" => \"OT2\" }\n            }\n\n        }\n        else if [message] =~ \".*LSY.*iteration.*T2-T1.*\" {\n            mutate{\n                split => [\"message\", \" \"]\n                add_field => [\"iteration\",\"%{[message][2]}\"]\n                add_field => [\"value\",\"%{[message][10]}\"]\n                add_field => [ \"iter_type\", \"OTT\" ]\n                gsub => [ \"@iteration\", \",\", \"\" ]\n            }\n        }\n        else if [message] =~ \".*Forward].*\" {\n            mutate{\n                split => [\"message\", \"]\"]\n                add_field => [\"direction\",\"%{[message][1]}\"]\n            }\n            mutate{\n                split => [\"message[2]\", \",\"]\n                add_field => [\"iter_process_type\",\"%{[message][2][0]}\"]\n                add_field => [\"iteration\",\"%{[message][2][1]}\"]\n                add_field => [\"layer\",\"%{[message][2][2]}\"]\n                add_field => [\"data_type\",\"%{[message][2][3]}\"]\n                add_field => [\"data\",\"%{[message][2][4]}\"]\n            }\n            if [message][2][5]{\n                mutate{\n                     add_field => [\"hist\",\"%{[message][2][5]}\"]\n                    }\n             }\n             mutate {\n                strip => [\"direction\", \"iter_process_type\", \"data_type\"]\n                gsub => [\"direction\", \"\\s*\\[\\s*\", \"\" ]\n                gsub => [ \"iteration\", \"\\s*iter:\\s*\", \"\" ]\n                gsub => [ \"layer\", \"\\s*Layer\\s*\", \"\" ]\n                gsub => [ \"data\", \"\\s*data:\\s*\", \"\" ]\n                gsub => [ \"hist\", \"\\s*hist:\\s*\", \"\" ]\n             }\n\n        }\n        else if [message] =~ \".*Backward].*hist.*\" {\n            mutate{\n                split => [\"message\", \"]\"]\n                add_field => [\"direction\",\"%{[message][1]}\"]\n            }\n            mutate{\n                split => [\"message[2]\", \",\"]\n                add_field => [\"iter_process_type\",\"train\"]\n                add_field => [\"iteration\",\"%{[message][2][0]}\"]\n                add_field => [\"layer\",\"%{[message][2][1]}\"]\n                add_field => [\"data_type\",\"%{[message][2][2]}\"]\n                add_field => [\"data\",\"%{[message][2][3]}\"]\n            }\n            if [message][2][4]{\n                mutate{\n                     add_field => [\"hist\",\"%{[message][2][4]}\"]\n                    }\n             }\n             mutate {\n                strip => [\"direction\", \"data_type\"]\n                gsub => [\"direction\", \"\\s*\\[\\s*\", \"\" ]\n                gsub => [ \"iteration\", \"\\s*iter:\\s*\", \"\" ]\n                gsub => [ \"layer\", \"\\s*Layer\\s*\", \"\" ]\n                gsub => [ \"data\", \"\\s*diff:\\s*\", \"\" ]\n                gsub => [ \"hist\", \"\\s*hist:\\s*\", \"\" ]\n             }\n\n        }\n        else if [message] =~ \".*Top\\s*\\d+.*\" {\n            mutate{\n                split => [\"message\", \",\"]\n                add_field => [\"d3\",\"%{[message][3]}\"]\n                add_field => [\"d4\",\"%{[message][4]}\"]\n            }\n            mutate{\n                split => [\"message[0]\", \"]\"]\n                add_field => [\"data_type\",\"%{[message][0][1]}\"]\n            }\n            mutate {\n                strip => [\"data_type\"]\n                gsub => [ \"@d4\", \"\\)\", \"\" ]\n                convert => {\"d3\" => \"integer\" }\n                convert => {\"d4\" => \"integer\" }\n            }\n        }\n        else if [message] =~ \"Iteration.*train_loss.*simple_value.*\" {\n            grok {\n                match => { \"message\" => \"Iteration\\s*(?<iteration>\\d+):\\s*tag\\s*%{WORD:layer},\\s*simple_value\\s*%{NUMBER:data}\"}\n                add_field => { \"data_type\" => \"loss\" }\n                add_field => { \"iter_type\" => \"train\" }\n            }\n        }\n        else if [message] =~ \"Iteration.*test_loss.*simple_value.*\" {\n            grok {\n                match => { \"message\" => \"Iteration\\s*(?<iteration>\\d+):\\s*tag\\s*%{WORD:layer},\\s*simple_value\\s*%{NUMBER:data}\"}\n                add_field => { \"data_type\" => \"loss\" }\n                add_field => { \"iter_type\" => \"test\" }\n            }\n        }\n        else if [message] =~ \"Iteration.*train_accuracy.*simple_value.*\" {\n            grok {\n                match => { \"message\" => \"Iteration\\s*(?<iteration>\\d+):\\s*tag\\s*%{WORD:layer},\\s*simple_value\\s*%{NUMBER:data}\"}\n                add_field => { \"data_type\" => \"accuracy\" }\n                add_field => { \"iter_type\" => \"train\" }\n            }\n        }\n        else if [message] =~ \"Iteration.*test_accuracy.*simple_value.*\" {\n            grok {\n                match => { \"message\" => \"Iteration\\s*(?<iteration>\\d+):\\s*tag\\s*%{WORD:layer},\\s*simple_value\\s*%{NUMBER:data}\"}\n                add_field => { \"data_type\" => \"accuracy\" }\n                add_field => { \"iter_type\" => \"test\" }\n            }\n        }\n        else if [message] =~ \"Iteration.*norm2.*\" {\n            grok {\n                match => { \"message\" => \"Iteration\\s*(?<iteration>\\d+):\\s*tag\\s*norm2\\/%{WORD:layer}\\/%{WORD:data_type},\\s*simple_value\\s*%{NUMBER:data}\"}\n                add_field => { \"iter_type\" => \"train\" }\n            }\n        }\n        else if [message] =~ \"Iteration.*bucket_limit.*\" {\n            grok {\n                match => { \"message\" => \"Iteration\\s*(?<iteration>\\d+):\\s*tag\\s+%{WORD:layer}\\/%{WORD:data_type},\\s*bucket_limit\\s*(?<hist_limit>[%{NUMBER}]+[\\s%{NUMBER}e%{NUMBER}]+),\\s*bucket\\s*(?<hist>[%{NUMBER}]+[\\s%{NUMBER}e%{NUMBER}]+)\"}\n                add_field => { \"iter_process_type\" => \"train\" }\n            }\n        }\n        else if [message] =~ \"Iteration.*ratio.*\" {\n            grok {\n                match => { \"message\" => \"Iteration\\s*(?<iteration>\\d+):\\s*tag\\s+%{WORD:data_type}\\/%{WORD:layer},\\s*simple_value\\s*%{NUMBER:data}\"}\n                add_field => { \"iter_process_type\" => \"train\" }\n            }\n        }\n        else {\n             drop{}\n        }\n    mutate {\n            convert => {\"iteration\" => \"integer\" }\n        }\n    }\n}\noutput{\n    if [type] == \"spark_executor_work\" {\n        elasticsearch {\n            ssl => true\n            ssl_certificate_verification => true\n            keystore => \"/opt/cws221/wlp/usr/shared/resources/security/serverKeyStore.jks\"\n            keystore_password => \"{aes}ABE7CTHBolSmXwkUH9+xyxpYVO8H4lyllJKito98fpC5\"\n            truststore => \"/opt/cws221/wlp/usr/shared/resources/security/serverTrustStore.jks\"\n            truststore_password => \"{aes}ABE7CTHBolSmXwkUH9+xyxpYVO8H4lyllJKito98fpC5\"  \n    #        network_host => \"@ELK_NETWORK_HOST@\"\n    #        cluster => \"@ELK_CLUSTER_NAME@\"\n            hosts => [\"power9-1.bqdc.nanjing:28210\"]\n            index => \"ibm-dlmao-spark-executor-work-%{[@metadata][InstanceGroupUUID]}-%{[SparkApplicationID]}\"\n    #        manage_template => true\n    #        template_overwrite => true\n    #        template_name => \"custom\"\n    #        template => \"/opt/ibm/spectrumcomputing/integration/elk/conf/index_mapping_mao.json\"\n            parameters=> {\n                \"egoToken\" => \"Admin%222018-08-22T18%3A26%3A02Z%22zmJMesE8oWruKvwqkdG0SwoYhez9KHdh%2F%2Beeh4C3U8jv3RtrBgsYaURrIVx%2BMqx1Q7AEKBDFonGDKyx5dRZy3Q%3D%3D%228as1esPn%2FUuUqNlaGdSLWg%3D%3D\"\n            }         \n        }\n    #    stdout{\n    #        codec => rubydebug\n    #    }\n    }\n}\n\ninput {\n  beats {\n    port => \"28310\"\n    congestion_threshold => 60\n    ssl => true\n    ssl_certificate => \"../../scripts/lumberjack.crt\"\n    ssl_key => \"../../scripts/lumberjack.key\"\n    cipher_suites => [\"TLS_ECDHE_RSA_WITH_AES_128_GCM_SHA256\"]\n    tls_min_version => \"1.2\"\n  }\n}\n\nfilter {\n}\n\noutput {\n  \n}\n\n"}
[2018-08-22T18:27:04,215][WARN ][logstash.agent           ] stopping pipeline {:id=>"main"}
@
[2018-08-22T18:27:04,215][WARN ][logstash.agent           ] stopping pipeline {:id=>"main"}
[2018-08-22T18:27:09,682][WARN ][logstash.shutdownwatcher ] sh/util/wrapped_acked_queue.rb:176:in `synchronize'"}, {"thread_id"=>193, "name"=>"[main]>worker61", "current_call"=>"[...]/logstash-core/lib/logstash/util/wrapped_acked_queue.rb:176:in `synchronize'"}, {"thread_id"=>194, "name"=>"[main]>worker62", "current_call"=>"[...]/logstash-core/lib/logstash/util/wrapped_acked_queue.rb:194:in `synchronize'"}, {"thread_id"=>195, "name"=>"[main]>worker63", "current_call"=>"[...]/logstash-core/lib/logstash/util/wrapped_acked_queue.rb:194:in `synchronize'"}, {"thread_id"=>196, "name"=>"[main]>worker64", "current_call"=>"[...]/logstash-core/lib/logstash/util/wrapped_acked_queue.rb:194:in `synchronize'"}, {"thread_id"=>197, "name"=>"[main]>worker65", "current_call"=>"[...]/logstash-core/lib/logstash/util/wrapped_acked_queue.rb:194:in `synchronize'"}, {"thread_id"=>198, "name"=>"[main]>worker66", "current_call"=>"[...]/logstash-core/lib/logstash/util/wrapped_acked_queue.rb:194:in `synchronize'"}, {"thread_id"=>199, "name"=>"[main]>worker67", "current_call"=>"[...]/logstash-core/lib/logstash/util/wrapped_acked_queue.rb:194:in `synchronize'"}, {"thread_id"=>200, "name"=>"[main]>worker68", "current_call"=>"[...]/logstash-core/lib/logstash/util/wrapped_acked_queue.rb:194:in `synchronize'"}, {"thread_id"=>201, "name"=>"[main]>worker69", "current_call"=>"[...]/logstash-core/lib/logstash/util/wrapped_acked_queue.rb:194:in `synchronize'"}, {"thread_id"=>202, "name"=>"[main]>worker70", "current_call"=>"[...]/logstash-core/lib/logstash/util/wrapped_acked_queue.rb:176:in `synchronize'"}, {"thread_id"=>203, "name"=>"[main]>worker71", "current_call"=>"[...]/logstash-core/lib/logstash/util/wrapped_acked_queue.rb:194:in `synchronize'"}, {"thread_id"=>204, "name"=>"[main]>worker72", "current_call"=>"[...]/logstash-core/lib/logstash/util/wrapped_acked_queue.rb:194:in `synchronize'"}, {"thread_id"=>205, "name"=>"[main]>worker73", "current_call"=>"[...]/logstash-core/lib/logstash/util/wrapped_acked_queue.rb:176:in `synchronize'"}, {"thread_id"=>206, "name"=>"[main]>worker74", "current_call"=>"[...]/logstash-core/lib/logstash/util/wrapped_acked_queue.rb:194:in `synchronize'"}, {"thread_id"=>207, "name"=>"[main]>worker75", "current_call"=>"[...]/logstash-core/lib/logstash/util/wrapped_acked_queue.rb:176:in `synchronize'"}, {"thread_id"=>208, "name"=>"[main]>worker76", "current_call"=>"[...]/logstash-core/lib/logstash/util/wrapped_acked_queue.rb:194:in `synchronize'"}, {"thread_id"=>209, "name"=>"[main]>worker77", "current_call"=>"[...]/logstash-core/lib/logstash/util/wrapped_acked_queue.rb:176:in `synchronize'"}, {"thread_id"=>210, "name"=>"[main]>worker78", "current_call"=>"[...]/logstash-core/lib/logstash/util/wrapped_acked_queue.rb:194:in `synchronize'"}, {"thread_id"=>211, "name"=>"[main]>worker79", "current_call"=>"[...]/logstash-core/lib/logstash/util/wrapped_acked_queue.rb:194:in `synchronize'"}, {"thread_id"=>212, "name"=>"[main]>worker80", "current_call"=>"[...]/logstash-core/lib/logstash/util/wrapped_acked_queue.rb:176:in `synchronize'"}, {"thread_id"=>213, "name"=>"[main]>worker81", "current_call"=>"[...]/logstash-core/lib/logstash/util/wrapped_acked_queue.rb:176:in `synchronize'"}, {"thread_id"=>214, "name"=>"[main]>worker82", "current_call"=>"[...]/logstash-core/lib/logstash/util/wrapped_acked_queue.rb:176:in `synchronize'"}, {"thread_id"=>215, "name"=>"[main]>worker83", "current_call"=>"[...]/logstash-core/lib/logstash/util/wrapped_acked_queue.rb:194:in `synchronize'"}, {"thread_id"=>216, "name"=>"[main]>worker84", "current_call"=>"[...]/logstash-core/lib/logstash/util/wrapped_acked_queue.rb:194:in `synchronize'"}, {"thread_id"=>217, "name"=>"[main]>worker85", "current_call"=>"[...]/logstash-core/lib/logstash/util/wrapped_acked_queue.rb:176:in `synchronize'"}, {"thread_id"=>218, "name"=>"[main]>worker86", "current_call"=>"[...]/logstash-core/lib/logstash/util/wrapped_acked_queue.rb:194:in `synchronize'"}, {"thread_id"=>219, "name"=>"[main]>worker87", "current_call"=>"[...]/logstash-core/lib/logstash/util/wrapped_acked_queue.rb:194:in `synchronize'"}, {"thread_id"=>220, "name"=>"[main]>worker88", "current_call"=>"[...]/logstash-core/lib/logstash/util/wrapped_acked_queue.rb:176:in `synchronize'"}, {"thread_id"=>221, "name"=>"[main]>worker89", "current_call"=>"[...]/logstash-core/lib/logstash/util/wrapped_acked_queue.rb:194:in `synchronize'"}, {"thread_id"=>222, "name"=>"[main]>worker90", "current_call"=>"[...]/logstash-core/lib/logstash/util/wrapped_acked_queue.rb:176:in `synchronize'"}, {"thread_id"=>223, "name"=>"[main]>worker91", "current_call"=>"[...]/logstash-core/lib/logstash/util/wrapped_acked_queue.rb:194:in `synchronize'"}, {"thread_id"=>224, "name"=>"[main]>worker92", "current_call"=>"[...]/logstash-core/lib/logstash/util/wrapped_acked_queue.rb:194:in `synchronize'"}, {"thread_id"=>225, "name"=>"[main]>worker93", "current_call"=>"[...]/logstash-core/lib/logstash/util/wrapped_acked_queue.rb:194:in `synchronize'"}, {"thread_id"=>226, "name"=>"[main]>worker94", "current_call"=>"[...]/logstash-core/lib/logstash/util/wrapped_acked_queue.rb:194:in `synchronize'"}, {"thread_id"=>227, "name"=>"[main]>worker95", "current_call"=>"[...]/logstash-core/lib/logstash/util/wrapped_acked_queue.rb:176:in `synchronize'"}, {"thread_id"=>228, "name"=>"[main]>worker96", "current_call"=>"[...]/logstash-core/lib/logstash/util/wrapped_acked_queue.rb:176:in `synchronize'"}, {"thread_id"=>229, "name"=>"[main]>worker97", "current_call"=>"[...]/logstash-core/lib/logstash/util/wrapped_acked_queue.rb:194:in `synchronize'"}, {"thread_id"=>230, "name"=>"[main]>worker98", "current_call"=>"[...]/logstash-core/lib/logstash/util/wrapped_acked_queue.rb:176:in `synchronize'"}, {"thread_id"=>231, "name"=>"[main]>worker99", "current_call"=>"[...]/logstash-core/lib/logstash/util/wrapped_acked_queue.rb:194:in `synchronize'"}, {"thread_id"=>232, "name"=>"[main]>worker100", "current_call"=>"[...]/logstash-core/lib/logstash/util/wrapped_acked_queue.rb:176:in `synchronize'"}, {"thread_id"=>233, "name"=>"[main]>worker101", "current_call"=>"[...]/logstash-core/lib/logstash/util/wrapped_acked_queue.rb:194:in `synchronize'"}, {"thread_id"=>234, "name"=>"[main]>worker102", "current_call"=>"[...]/logstash-core/lib/logstash/util/wrapped_acked_queue.rb:194:in `synchronize'"}, {"thread_id"=>235, "name"=>"[main]>worker103", "current_call"=>"[...]/logstash-core/lib/logstash/util/wrapped_acked_queue.rb:194:in `synchronize'"}, {"thread_id"=>236, "name"=>"[main]>worker104", "current_call"=>"[...]/logstash-core/lib/logstash/util/wrapped_acked_queue.rb:176:in `synchronize'"}, {"thread_id"=>237, "name"=>"[main]>worker105", "current_call"=>"[...]/logstash-core/lib/logstash/util/wrapped_acked_queue.rb:194:in `synchronize'"}, {"thread_id"=>238, "name"=>"[main]>worker106", "current_call"=>"[...]/logstash-core/lib/logstash/util/wrapped_acked_queue.rb:194:in `synchronize'"}, {"thread_id"=>239, "name"=>"[main]>worker107", "current_call"=>"[...]/logstash-core/lib/logstash/util/wrapped_acked_queue.rb:176:in `synchronize'"}, {"thread_id"=>240, "name"=>"[main]>worker108", "current_call"=>"[...]/logstash-core/lib/logstash/util/wrapped_acked_queue.rb:176:in `synchronize'"}, {"thread_id"=>241, "name"=>"[main]>worker109", "current_call"=>"[...]/logstash-core/lib/logstash/util/wrapped_acked_queue.rb:194:in `synchronize'"}, {"thread_id"=>242, "name"=>"[main]>worker110", "current_call"=>"[...]/logstash-core/lib/logstash/util/wrapped_acked_queue.rb:194:in `synchronize'"}, {"thread_id"=>243, "name"=>"[main]>worker111", "current_call"=>"[...]/logstash-core/lib/logstash/util/wrapped_acked_queue.rb:176:in `synchronize'"}, {"thread_id"=>244, "name"=>"[main]>worker112", "current_call"=>"[...]/logstash-core/lib/logstash/util/wrapped_acked_queue.rb:194:in `synchronize'"}, {"thread_id"=>245, "name"=>"[main]>worker113", "current_call"=>"[...]/logstash-core/lib/logstash/util/wrapped_acked_queue.rb:194:in `synchronize'"}, {"thread_id"=>246, "name"=>"[main]>worker114", "current_call"=>"[...]/logstash-core/lib/logstash/util/wrapped_acked_queue.rb:176:in `synchronize'"}, {"thread_id"=>247, "name"=>"[main]>worker115", "current_call"=>"[...]/logstash-core/lib/logstash/util/wrapped_acked_queue.rb:194:in `synchronize'"}, {"thread_id"=>248, "name"=>"[main]>worker116", "current_call"=>"[...]/logstash-core/lib/logstash/util/wrapped_acked_queue.rb:194:in `synchronize'"}, {"thread_id"=>249, "name"=>"[main]>worker117", "current_call"=>"[...]/logstash-core/lib/logstash/util/wrapped_acked_queue.rb:176:in `synchronize'"}, {"thread_id"=>250, "name"=>"[main]>worker118", "current_call"=>"[...]/logstash-core/lib/logstash/util/wrapped_acked_queue.rb:176:in `synchronize'"}, {"thread_id"=>251, "name"=>"[main]>worker119", "current_call"=>"[...]/logstash-core/lib/logstash/util/wrapped_acked_queue.rb:194:in `synchronize'"}, {"thread_id"=>252, "name"=>"[main]>worker120", "current_call"=>"[...]/logstash-core/lib/logstash/util/wrapped_acked_queue.rb:176:in `synchronize'"}, {"thread_id"=>253, "name"=>"[main]>worker121", "current_call"=>"[...]/logstash-core/lib/logstash/util/wrapped_acked_queue.rb:194:in `synchronize'"}, {"thread_id"=>254, "name"=>"[main]>worker122", "current_call"=>"[...]/logstash-core/lib/logstash/util/wrapped_acked_queue.rb:194:in `synchronize'"}, {"thread_id"=>255, "name"=>"[main]>worker123", "current_call"=>"[...]/logstash-core/lib/logstash/util/wrapped_acked_queue.rb:176:in `synchronize'"}, {"thread_id"=>256, "name"=>"[main]>worker124", "current_call"=>"[...]/logstash-core/lib/logstash/util/wrapped_acked_queue.rb:194:in `synchronize'"}, {"thread_id"=>257, "name"=>"[main]>worker125", "current_call"=>"[...]/logstash-core/lib/logstash/util/wrapped_acked_queue.rb:194:in `synchronize'"}, {"thread_id"=>258, "name"=>"[main]>worker126", "current_call"=>"[...]/logstash-core/lib/logstash/util/wrapped_acked_queue.rb:194:in `synchronize'"}, {"thread_id"=>259, "name"=>"[main]>worker127", "current_call"=>"[...]/logstash-core/lib/logstash/util/wrapped_acked_queue.rb:176:in `synchronize'"}]}}
[2018-08-22T18:27:09,684][ERROR][logstash.shutdownwatcher ] The shutdown process appears to be stalled due to busy or blocked plugins. Check the logs for more information.
[2018-08-22T18:27:14,218][WARN ][logstash.shutdownwatcher ] {"inflight_count"=>0, "stalling_thread_info"=>{}}
[2018-08-22T18:27:20,669][WARN ][logstash.inputs.beats    ] You are using a deprecated config setting "congestion_threshold" set in beats. Deprecated settings will continue to work, but are scheduled for removal from logstash in the future. This option is now deprecated since congestion control is done automatically If you have any questions about this, please visit the #logstash channel on freenode irc. {:name=>"congestion_threshold", :plugin=><LogStash::Inputs::Beats port=>"28310", congestion_threshold=>60, ssl=>"true", ssl_certificate=>"../../scripts/lumberjack.crt", ssl_key=>"../../scripts/lumberjack.key", cipher_suites=>["TLS_ECDHE_RSA_WITH_AES_128_GCM_SHA256"], tls_min_version=>"1.2", id=>"b413c2d88d18245cde784a204506fbaa5cf3980b-74">}
[2018-08-22T18:27:20,709][INFO ][logstash.outputs.elasticsearch] Elasticsearch pool URLs updated {:changes=>{:removed=>[], :added=>[https://power9-1.bqdc.nanjing:28210/?egoToken=Admin%222018-08-22T18%3A26%3A02Z%22zmJMesE8oWruKvwqkdG0SwoYhez9KHdh%2F%2Beeh4C3U8jv3RtrBgsYaURrIVx%2BMqx1Q7AEKBDFonGDKyx5dRZy3Q%3D%3D%228as1esPn%2FUuUqNlaGdSLWg%3D%3D]}}
[2018-08-22T18:27:20,710][INFO ][logstash.outputs.elasticsearch] Running health check to see if an Elasticsearch connection is working {:healthcheck_url=>https://power9-1.bqdc.nanjing:28210/?egoToken=Admin%222018-08-22T18%3A26%3A02Z%22zmJMesE8oWruKvwqkdG0SwoYhez9KHdh%2F%2Beeh4C3U8jv3RtrBgsYaURrIVx%2BMqx1Q7AEKBDFonGDKyx5dRZy3Q%3D%3D%228as1esPn%2FUuUqNlaGdSLWg%3D%3D, :path=>"/"}
[2018-08-22T18:27:20,780][WARN ][logstash.outputs.elasticsearch] Restored connection to ES instance {:url=>#<URI::HTTPS:0xbedac62 URL:https://power9-1.bqdc.nanjing:28210/?egoToken=Admin%222018-08-22T18%3A26%3A02Z%22zmJMesE8oWruKvwqkdG0SwoYhez9KHdh%2F%2Beeh4C3U8jv3RtrBgsYaURrIVx%2BMqx1Q7AEKBDFonGDKyx5dRZy3Q%3D%3D%228as1esPn%2FUuUqNlaGdSLWg%3D%3D>}
[2018-08-22T18:27:20,781][INFO ][logstash.outputs.elasticsearch] Using mapping template from {:path=>nil}
[2018-08-22T18:27:20,794][INFO ][logstash.outputs.elasticsearch] Attempting to install template {:manage_template=>{"template"=>"logstash-*", "version"=>50001, "settings"=>{"index.refresh_interval"=>"5s"}, "mappings"=>{"_default_"=>{"_all"=>{"enabled"=>true, "norms"=>false}, "dynamic_templates"=>[{"message_field"=>{"path_match"=>"message", "match_mapping_type"=>"string", "mapping"=>{"type"=>"text", "norms"=>false}}}, {"string_fields"=>{"match"=>"*", "match_mapping_type"=>"string", "mapping"=>{"type"=>"text", "norms"=>false, "fields"=>{"keyword"=>{"type"=>"keyword"}}}}}], "properties"=>{"@timestamp"=>{"type"=>"date", "include_in_all"=>false}, "@version"=>{"type"=>"keyword", "include_in_all"=>false}, "geoip"=>{"dynamic"=>true, "properties"=>{"ip"=>{"type"=>"ip"}, "location"=>{"type"=>"geo_point"}, "latitude"=>{"type"=>"half_float"}, "longitude"=>{"type"=>"half_float"}}}}}}}}
[2018-08-22T18:27:20,808][INFO ][logstash.outputs.elasticsearch] New Elasticsearch output {:class=>"LogStash::Outputs::ElasticSearch", :hosts=>[#<URI::Generic:0xed3caf13 URL://power9-1.bqdc.nanjing:28210>]}
[2018-08-22T18:27:20,817][INFO ][logstash.outputs.elasticsearch] Elasticsearch pool URLs updated {:changes=>{:removed=>[], :added=>[https://power9-1.bqdc.nanjing:28210/?egoToken=Admin%222018-08-22T18%3A26%3A02Z%22zmJMesE8oWruKvwqkdG0SwoYhez9KHdh%2F%2Beeh4C3U8jv3RtrBgsYaURrIVx%2BMqx1Q7AEKBDFonGDKyx5dRZy3Q%3D%3D%228as1esPn%2FUuUqNlaGdSLWg%3D%3D]}}
[2018-08-22T18:27:20,818][INFO ][logstash.outputs.elasticsearch] Running health check to see if an Elasticsearch connection is working {:healthcheck_url=>https://power9-1.bqdc.nanjing:28210/?egoToken=Admin%222018-08-22T18%3A26%3A02Z%22zmJMesE8oWruKvwqkdG0SwoYhez9KHdh%2F%2Beeh4C3U8jv3RtrBgsYaURrIVx%2BMqx1Q7AEKBDFonGDKyx5dRZy3Q%3D%3D%228as1esPn%2FUuUqNlaGdSLWg%3D%3D, :path=>"/"}
[2018-08-22T18:27:20,871][WARN ][logstash.outputs.elasticsearch] Restored connection to ES instance {:url=>#<URI::HTTPS:0x1c766cea URL:https://power9-1.bqdc.nanjing:28210/?egoToken=Admin%222018-08-22T18%3A26%3A02Z%22zmJMesE8oWruKvwqkdG0SwoYhez9KHdh%2F%2Beeh4C3U8jv3RtrBgsYaURrIVx%2BMqx1Q7AEKBDFonGDKyx5dRZy3Q%3D%3D%228as1esPn%2FUuUqNlaGdSLWg%3D%3D>}
[2018-08-22T18:27:20,872][INFO ][logstash.outputs.elasticsearch] Using mapping template from {:path=>nil}
[2018-08-22T18:27:20,885][INFO ][logstash.outputs.elasticsearch] Attempting to install template {:manage_template=>{"template"=>"logstash-*", "version"=>50001, "settings"=>{"index.refresh_interval"=>"5s"}, "mappings"=>{"_default_"=>{"_all"=>{"enabled"=>true, "norms"=>false}, "dynamic_templates"=>[{"message_field"=>{"path_match"=>"message", "match_mapping_type"=>"string", "mapping"=>{"type"=>"text", "norms"=>false}}}, {"string_fields"=>{"match"=>"*", "match_mapping_type"=>"string", "mapping"=>{"type"=>"text", "norms"=>false, "fields"=>{"keyword"=>{"type"=>"keyword"}}}}}], "properties"=>{"@timestamp"=>{"type"=>"date", "include_in_all"=>false}, "@version"=>{"type"=>"keyword", "include_in_all"=>false}, "geoip"=>{"dynamic"=>true, "properties"=>{"ip"=>{"type"=>"ip"}, "location"=>{"type"=>"geo_point"}, "latitude"=>{"type"=>"half_float"}, "longitude"=>{"type"=>"half_float"}}}}}}}}
[2018-08-22T18:27:20,899][INFO ][logstash.outputs.elasticsearch] New Elasticsearch output {:class=>"LogStash::Outputs::ElasticSearch", :hosts=>[#<URI::Generic:0xa6f68ac3 URL://power9-1.bqdc.nanjing:28210>]}
[2018-08-22T18:27:20,907][INFO ][logstash.outputs.elasticsearch] Elasticsearch pool URLs updated {:changes=>{:removed=>[], :added=>[https://power9-1.bqdc.nanjing:28210/?egoToken=Admin%222018-08-22T18%3A26%3A02Z%22zmJMesE8oWruKvwqkdG0SwoYhez9KHdh%2F%2Beeh4C3U8jv3RtrBgsYaURrIVx%2BMqx1Q7AEKBDFonGDKyx5dRZy3Q%3D%3D%228as1esPn%2FUuUqNlaGdSLWg%3D%3D]}}
[2018-08-22T18:27:20,908][INFO ][logstash.outputs.elasticsearch] Running health check to see if an Elasticsearch connection is working {:healthcheck_url=>https://power9-1.bqdc.nanjing:28210/?egoToken=Admin%222018-08-22T18%3A26%3A02Z%22zmJMesE8oWruKvwqkdG0SwoYhez9KHdh%2F%2Beeh4C3U8jv3RtrBgsYaURrIVx%2BMqx1Q7AEKBDFonGDKyx5dRZy3Q%3D%3D%228as1esPn%2FUuUqNlaGdSLWg%3D%3D, :path=>"/"}
[2018-08-22T18:27:20,962][WARN ][logstash.outputs.elasticsearch] Restored connection to ES instance {:url=>#<URI::HTTPS:0x98770e34 URL:https://power9-1.bqdc.nanjing:28210/?egoToken=Admin%222018-08-22T18%3A26%3A02Z%22zmJMesE8oWruKvwqkdG0SwoYhez9KHdh%2F%2Beeh4C3U8jv3RtrBgsYaURrIVx%2BMqx1Q7AEKBDFonGDKyx5dRZy3Q%3D%3D%228as1esPn%2FUuUqNlaGdSLWg%3D%3D>}
[2018-08-22T18:27:20,962][INFO ][logstash.outputs.elasticsearch] Using mapping template from {:path=>nil}
[2018-08-22T18:27:20,975][INFO ][logstash.outputs.elasticsearch] Attempting to install template {:manage_template=>{"template"=>"logstash-*", "version"=>50001, "settings"=>{"index.refresh_interval"=>"5s"}, "mappings"=>{"_default_"=>{"_all"=>{"enabled"=>true, "norms"=>false}, "dynamic_templates"=>[{"message_field"=>{"path_match"=>"message", "match_mapping_type"=>"string", "mapping"=>{"type"=>"text", "norms"=>false}}}, {"string_fields"=>{"match"=>"*", "match_mapping_type"=>"string", "mapping"=>{"type"=>"text", "norms"=>false, "fields"=>{"keyword"=>{"type"=>"keyword"}}}}}], "properties"=>{"@timestamp"=>{"type"=>"date", "include_in_all"=>false}, "@version"=>{"type"=>"keyword", "include_in_all"=>false}, "geoip"=>{"dynamic"=>true, "properties"=>{"ip"=>{"type"=>"ip"}, "location"=>{"type"=>"geo_point"}, "latitude"=>{"type"=>"half_float"}, "longitude"=>{"type"=>"half_float"}}}}}}}}
[2018-08-22T18:27:20,988][INFO ][logstash.outputs.elasticsearch] New Elasticsearch output {:class=>"LogStash::Outputs::ElasticSearch", :hosts=>[#<URI::Generic:0x893ac333 URL://power9-1.bqdc.nanjing:28210>]}
[2018-08-22T18:27:20,997][INFO ][logstash.outputs.elasticsearch] Elasticsearch pool URLs updated {:changes=>{:removed=>[], :added=>[https://power9-1.bqdc.nanjing:28210/?egoToken=Admin%222018-08-22T18%3A26%3A02Z%22zmJMesE8oWruKvwqkdG0SwoYhez9KHdh%2F%2Beeh4C3U8jv3RtrBgsYaURrIVx%2BMqx1Q7AEKBDFonGDKyx5dRZy3Q%3D%3D%228as1esPn%2FUuUqNlaGdSLWg%3D%3D]}}
[2018-08-22T18:27:20,997][INFO ][logstash.outputs.elasticsearch] Running health check to see if an Elasticsearch connection is working {:healthcheck_url=>https://power9-1.bqdc.nanjing:28210/?egoToken=Admin%222018-08-22T18%3A26%3A02Z%22zmJMesE8oWruKvwqkdG0SwoYhez9KHdh%2F%2Beeh4C3U8jv3RtrBgsYaURrIVx%2BMqx1Q7AEKBDFonGDKyx5dRZy3Q%3D%3D%228as1esPn%2FUuUqNlaGdSLWg%3D%3D, :path=>"/"}
[2018-08-22T18:27:21,051][WARN ][logstash.outputs.elasticsearch] Restored connection to ES instance {:url=>#<URI::HTTPS:0xc1e4a7ea URL:https://power9-1.bqdc.nanjing:28210/?egoToken=Admin%222018-08-22T18%3A26%3A02Z%22zmJMesE8oWruKvwqkdG0SwoYhez9KHdh%2F%2Beeh4C3U8jv3RtrBgsYaURrIVx%2BMqx1Q7AEKBDFonGDKyx5dRZy3Q%3D%3D%228as1esPn%2FUuUqNlaGdSLWg%3D%3D>}
[2018-08-22T18:27:21,051][INFO ][logstash.outputs.elasticsearch] Using mapping template from {:path=>nil}
[2018-08-22T18:27:21,065][INFO ][logstash.outputs.elasticsearch] Attempting to install template {:manage_template=>{"template"=>"logstash-*", "version"=>50001, "settings"=>{"index.refresh_interval"=>"5s"}, "mappings"=>{"_default_"=>{"_all"=>{"enabled"=>true, "norms"=>false}, "dynamic_templates"=>[{"message_field"=>{"path_match"=>"message", "match_mapping_type"=>"string", "mapping"=>{"type"=>"text", "norms"=>false}}}, {"string_fields"=>{"match"=>"*", "match_mapping_type"=>"string", "mapping"=>{"type"=>"text", "norms"=>false, "fields"=>{"keyword"=>{"type"=>"keyword"}}}}}], "properties"=>{"@timestamp"=>{"type"=>"date", "include_in_all"=>false}, "@version"=>{"type"=>"keyword", "include_in_all"=>false}, "geoip"=>{"dynamic"=>true, "properties"=>{"ip"=>{"type"=>"ip"}, "location"=>{"type"=>"geo_point"}, "latitude"=>{"type"=>"half_float"}, "longitude"=>{"type"=>"half_float"}}}}}}}}
[2018-08-22T18:27:21,078][INFO ][logstash.outputs.elasticsearch] New Elasticsearch output {:class=>"LogStash::Outputs::ElasticSearch", :hosts=>[#<URI::Generic:0x53210ee3 URL://power9-1.bqdc.nanjing:28210>]}
[2018-08-22T18:27:21,087][INFO ][logstash.outputs.elasticsearch] Elasticsearch pool URLs updated {:changes=>{:removed=>[], :added=>[https://power9-1.bqdc.nanjing:28210/?egoToken=Admin%222018-08-22T18%3A26%3A02Z%22zmJMesE8oWruKvwqkdG0SwoYhez9KHdh%2F%2Beeh4C3U8jv3RtrBgsYaURrIVx%2BMqx1Q7AEKBDFonGDKyx5dRZy3Q%3D%3D%228as1esPn%2FUuUqNlaGdSLWg%3D%3D]}}
[2018-08-22T18:27:21,087][INFO ][logstash.outputs.elasticsearch] Running health check to see if an Elasticsearch connection is working {:healthcheck_url=>https://power9-1.bqdc.nanjing:28210/?egoToken=Admin%222018-08-22T18%3A26%3A02Z%22zmJMesE8oWruKvwqkdG0SwoYhez9KHdh%2F%2Beeh4C3U8jv3RtrBgsYaURrIVx%2BMqx1Q7AEKBDFonGDKyx5dRZy3Q%3D%3D%228as1esPn%2FUuUqNlaGdSLWg%3D%3D, :path=>"/"}
[2018-08-22T18:27:21,140][WARN ][logstash.outputs.elasticsearch] Restored connection to ES instance {:url=>#<URI::HTTPS:0xf305c23d URL:https://power9-1.bqdc.nanjing:28210/?egoToken=Admin%222018-08-22T18%3A26%3A02Z%22zmJMesE8oWruKvwqkdG0SwoYhez9KHdh%2F%2Beeh4C3U8jv3RtrBgsYaURrIVx%2BMqx1Q7AEKBDFonGDKyx5dRZy3Q%3D%3D%228as1esPn%2FUuUqNlaGdSLWg%3D%3D>}
[2018-08-22T18:27:21,140][INFO ][logstash.outputs.elasticsearch] Using mapping template from {:path=>nil}
[2018-08-22T18:27:21,153][INFO ][logstash.outputs.elasticsearch] Attempting to install template {:manage_template=>{"template"=>"logstash-*", "version"=>50001, "settings"=>{"index.refresh_interval"=>"5s"}, "mappings"=>{"_default_"=>{"_all"=>{"enabled"=>true, "norms"=>false}, "dynamic_templates"=>[{"message_field"=>{"path_match"=>"message", "match_mapping_type"=>"string", "mapping"=>{"type"=>"text", "norms"=>false}}}, {"string_fields"=>{"match"=>"*", "match_mapping_type"=>"string", "mapping"=>{"type"=>"text", "norms"=>false, "fields"=>{"keyword"=>{"type"=>"keyword"}}}}}], "properties"=>{"@timestamp"=>{"type"=>"date", "include_in_all"=>false}, "@version"=>{"type"=>"keyword", "include_in_all"=>false}, "geoip"=>{"dynamic"=>true, "properties"=>{"ip"=>{"type"=>"ip"}, "location"=>{"type"=>"geo_point"}, "latitude"=>{"type"=>"half_float"}, "longitude"=>{"type"=>"half_float"}}}}}}}}
[2018-08-22T18:27:21,166][INFO ][logstash.outputs.elasticsearch] New Elasticsearch output {:class=>"LogStash::Outputs::ElasticSearch", :hosts=>[#<URI::Generic:0xddbeac0a URL://power9-1.bqdc.nanjing:28210>]}
[2018-08-22T18:27:21,175][INFO ][logstash.outputs.elasticsearch] Elasticsearch pool URLs updated {:changes=>{:removed=>[], :added=>[https://power9-1.bqdc.nanjing:28210/?egoToken=Admin%222018-08-22T18%3A26%3A02Z%22zmJMesE8oWruKvwqkdG0SwoYhez9KHdh%2F%2Beeh4C3U8jv3RtrBgsYaURrIVx%2BMqx1Q7AEKBDFonGDKyx5dRZy3Q%3D%3D%228as1esPn%2FUuUqNlaGdSLWg%3D%3D]}}
[2018-08-22T18:27:21,176][INFO ][logstash.outputs.elasticsearch] Running health check to see if an Elasticsearch connection is working {:healthcheck_url=>https://power9-1.bqdc.nanjing:28210/?egoToken=Admin%222018-08-22T18%3A26%3A02Z%22zmJMesE8oWruKvwqkdG0SwoYhez9KHdh%2F%2Beeh4C3U8jv3RtrBgsYaURrIVx%2BMqx1Q7AEKBDFonGDKyx5dRZy3Q%3D%3D%228as1esPn%2FUuUqNlaGdSLWg%3D%3D, :path=>"/"}
[2018-08-22T18:27:21,229][WARN ][logstash.outputs.elasticsearch] Restored connection to ES instance {:url=>#<URI::HTTPS:0x14f9bf14 URL:https://power9-1.bqdc.nanjing:28210/?egoToken=Admin%222018-08-22T18%3A26%3A02Z%22zmJMesE8oWruKvwqkdG0SwoYhez9KHdh%2F%2Beeh4C3U8jv3RtrBgsYaURrIVx%2BMqx1Q7AEKBDFonGDKyx5dRZy3Q%3D%3D%228as1esPn%2FUuUqNlaGdSLWg%3D%3D>}
[2018-08-22T18:27:21,229][INFO ][logstash.outputs.elasticsearch] Using mapping template from {:path=>nil}
[2018-08-22T18:27:21,242][INFO ][logstash.outputs.elasticsearch] Attempting to install template {:manage_template=>{"template"=>"logstash-*", "version"=>50001, "settings"=>{"index.refresh_interval"=>"5s"}, "mappings"=>{"_default_"=>{"_all"=>{"enabled"=>true, "norms"=>false}, "dynamic_templates"=>[{"message_field"=>{"path_match"=>"message", "match_mapping_type"=>"string", "mapping"=>{"type"=>"text", "norms"=>false}}}, {"string_fields"=>{"match"=>"*", "match_mapping_type"=>"string", "mapping"=>{"type"=>"text", "norms"=>false, "fields"=>{"keyword"=>{"type"=>"keyword"}}}}}], "properties"=>{"@timestamp"=>{"type"=>"date", "include_in_all"=>false}, "@version"=>{"type"=>"keyword", "include_in_all"=>false}, "geoip"=>{"dynamic"=>true, "properties"=>{"ip"=>{"type"=>"ip"}, "location"=>{"type"=>"geo_point"}, "latitude"=>{"type"=>"half_float"}, "longitude"=>{"type"=>"half_float"}}}}}}}}
[2018-08-22T18:27:21,255][INFO ][logstash.outputs.elasticsearch] New Elasticsearch output {:class=>"LogStash::Outputs::ElasticSearch", :hosts=>[#<URI::Generic:0x30a7772e URL://power9-1.bqdc.nanjing:28210>]}
[2018-08-22T18:27:21,273][INFO ][logstash.outputs.elasticsearch] Elasticsearch pool URLs updated {:changes=>{:removed=>[], :added=>[https://power9-1.bqdc.nanjing:28210/?egoToken=Admin%222018-08-22T18%3A26%3A02Z%22zmJMesE8oWruKvwqkdG0SwoYhez9KHdh%2F%2Beeh4C3U8jv3RtrBgsYaURrIVx%2BMqx1Q7AEKBDFonGDKyx5dRZy3Q%3D%3D%228as1esPn%2FUuUqNlaGdSLWg%3D%3D]}}
[2018-08-22T18:27:21,273][INFO ][logstash.outputs.elasticsearch] Running health check to see if an Elasticsearch connection is working {:healthcheck_url=>https://power9-1.bqdc.nanjing:28210/?egoToken=Admin%222018-08-22T18%3A26%3A02Z%22zmJMesE8oWruKvwqkdG0SwoYhez9KHdh%2F%2Beeh4C3U8jv3RtrBgsYaURrIVx%2BMqx1Q7AEKBDFonGDKyx5dRZy3Q%3D%3D%228as1esPn%2FUuUqNlaGdSLWg%3D%3D, :path=>"/"}
[2018-08-22T18:27:21,325][WARN ][logstash.outputs.elasticsearch] Restored connection to ES instance {:url=>#<URI::HTTPS:0x602c1e19 URL:https://power9-1.bqdc.nanjing:28210/?egoToken=Admin%222018-08-22T18%3A26%3A02Z%22zmJMesE8oWruKvwqkdG0SwoYhez9KHdh%2F%2Beeh4C3U8jv3RtrBgsYaURrIVx%2BMqx1Q7AEKBDFonGDKyx5dRZy3Q%3D%3D%228as1esPn%2FUuUqNlaGdSLWg%3D%3D>}
[2018-08-22T18:27:21,326][INFO ][logstash.outputs.elasticsearch] Using mapping template from {:path=>nil}
[2018-08-22T18:27:21,338][INFO ][logstash.outputs.elasticsearch] Attempting to install template {:manage_template=>{"template"=>"logstash-*", "version"=>50001, "settings"=>{"index.refresh_interval"=>"5s"}, "mappings"=>{"_default_"=>{"_all"=>{"enabled"=>true, "norms"=>false}, "dynamic_templates"=>[{"message_field"=>{"path_match"=>"message", "match_mapping_type"=>"string", "mapping"=>{"type"=>"text", "norms"=>false}}}, {"string_fields"=>{"match"=>"*", "match_mapping_type"=>"string", "mapping"=>{"type"=>"text", "norms"=>false, "fields"=>{"keyword"=>{"type"=>"keyword"}}}}}], "properties"=>{"@timestamp"=>{"type"=>"date", "include_in_all"=>false}, "@version"=>{"type"=>"keyword", "include_in_all"=>false}, "geoip"=>{"dynamic"=>true, "properties"=>{"ip"=>{"type"=>"ip"}, "location"=>{"type"=>"geo_point"}, "latitude"=>{"type"=>"half_float"}, "longitude"=>{"type"=>"half_float"}}}}}}}}
[2018-08-22T18:27:21,351][INFO ][logstash.outputs.elasticsearch] New Elasticsearch output {:class=>"LogStash::Outputs::ElasticSearch", :hosts=>[#<URI::Generic:0x5b4d4298 URL://power9-1.bqdc.nanjing:28210>]}
[2018-08-22T18:27:21,360][INFO ][logstash.outputs.elasticsearch] Elasticsearch pool URLs updated {:changes=>{:removed=>[], :added=>[https://power9-1.bqdc.nanjing:28210/?egoToken=Admin%222018-08-22T18%3A26%3A02Z%22zmJMesE8oWruKvwqkdG0SwoYhez9KHdh%2F%2Beeh4C3U8jv3RtrBgsYaURrIVx%2BMqx1Q7AEKBDFonGDKyx5dRZy3Q%3D%3D%228as1esPn%2FUuUqNlaGdSLWg%3D%3D]}}
[2018-08-22T18:27:21,360][INFO ][logstash.outputs.elasticsearch] Running health check to see if an Elasticsearch connection is working {:healthcheck_url=>https://power9-1.bqdc.nanjing:28210/?egoToken=Admin%222018-08-22T18%3A26%3A02Z%22zmJMesE8oWruKvwqkdG0SwoYhez9KHdh%2F%2Beeh4C3U8jv3RtrBgsYaURrIVx%2BMqx1Q7AEKBDFonGDKyx5dRZy3Q%3D%3D%228as1esPn%2FUuUqNlaGdSLWg%3D%3D, :path=>"/"}
[2018-08-22T18:27:21,411][WARN ][logstash.outputs.elasticsearch] Restored connection to ES instance {:url=>#<URI::HTTPS:0xbd93a56 URL:https://power9-1.bqdc.nanjing:28210/?egoToken=Admin%222018-08-22T18%3A26%3A02Z%22zmJMesE8oWruKvwqkdG0SwoYhez9KHdh%2F%2Beeh4C3U8jv3RtrBgsYaURrIVx%2BMqx1Q7AEKBDFonGDKyx5dRZy3Q%3D%3D%228as1esPn%2FUuUqNlaGdSLWg%3D%3D>}
[2018-08-22T18:27:21,411][INFO ][logstash.outputs.elasticsearch] Using mapping template from {:path=>nil}
[2018-08-22T18:27:21,423][INFO ][logstash.outputs.elasticsearch] Attempting to install template {:manage_template=>{"template"=>"logstash-*", "version"=>50001, "settings"=>{"index.refresh_interval"=>"5s"}, "mappings"=>{"_default_"=>{"_all"=>{"enabled"=>true, "norms"=>false}, "dynamic_templates"=>[{"message_field"=>{"path_match"=>"message", "match_mapping_type"=>"string", "mapping"=>{"type"=>"text", "norms"=>false}}}, {"string_fields"=>{"match"=>"*", "match_mapping_type"=>"string", "mapping"=>{"type"=>"text", "norms"=>false, "fields"=>{"keyword"=>{"type"=>"keyword"}}}}}], "properties"=>{"@timestamp"=>{"type"=>"date", "include_in_all"=>false}, "@version"=>{"type"=>"keyword", "include_in_all"=>false}, "geoip"=>{"dynamic"=>true, "properties"=>{"ip"=>{"type"=>"ip"}, "location"=>{"type"=>"geo_point"}, "latitude"=>{"type"=>"half_float"}, "longitude"=>{"type"=>"half_float"}}}}}}}}
[2018-08-22T18:27:21,435][INFO ][logstash.outputs.elasticsearch] New Elasticsearch output {:class=>"LogStash::Outputs::ElasticSearch", :hosts=>[#<URI::Generic:0x3c2ddae7 URL://power9-1.bqdc.nanjing:28210>]}
[2018-08-22T18:27:21,777][INFO ][logstash.pipeline        ] Starting pipeline {"id"=>"main", "pipeline.workers"=>128, "pipeline.batch.size"=>1000, "pipeline.batch.delay"=>5, "pipeline.max_inflight"=>128000}
[2018-08-22T18:27:21,777][WARN ][logstash.pipeline        ] CAUTION: Recommended inflight events max exceeded! Logstash will run with up to 128000 events in memory in your current configuration. If your message sizes are large this may cause instability with the default heap size. Please consider setting a non-standard heap size, changing the batch size (currently 1000), or changing the number of pipeline workers (currently 128)
[2018-08-22T18:27:21,798][INFO ][logstash.inputs.beats    ] Beats inputs: Starting input listener {:address=>"0.0.0.0:28310"}
[2018-08-22T18:27:21,829][INFO ][logstash.pipeline        ] Pipeline main started
[2018-08-22T18:41:48,257][WARN ][logstash.runner          ] SIGTERM received. Shutting down the agent.
[2018-08-22T18:41:48,260][WARN ][logstash.agent           ] stopping pipeline {:id=>"main"}
[2018-08-22T18:41:53,697][WARN ][logstash.shutdownwatcher ] /util/wrapped_acked_queue.rb:176:in `synchronize'"}, {"thread_id"=>935, "name"=>"[main]>worker61", "current_call"=>"[...]/logstash-core/lib/logstash/util/wrapped_acked_queue.rb:176:in `synchronize'"}, {"thread_id"=>936, "name"=>"[main]>worker62", "current_call"=>"[...]/logstash-core/lib/logstash/util/wrapped_acked_queue.rb:194:in `synchronize'"}, {"thread_id"=>937, "name"=>"[main]>worker63", "current_call"=>"[...]/logstash-core/lib/logstash/util/wrapped_acked_queue.rb:194:in `synchronize'"}, {"thread_id"=>938, "name"=>"[main]>worker64", "current_call"=>"[...]/logstash-core/lib/logstash/util/wrapped_acked_queue.rb:176:in `synchronize'"}, {"thread_id"=>939, "name"=>"[main]>worker65", "current_call"=>"[...]/logstash-core/lib/logstash/util/wrapped_acked_queue.rb:194:in `synchronize'"}, {"thread_id"=>940, "name"=>"[main]>worker66", "current_call"=>"[...]/logstash-core/lib/logstash/util/wrapped_acked_queue.rb:194:in `synchronize'"}, {"thread_id"=>941, "name"=>"[main]>worker67", "current_call"=>"[...]/logstash-core/lib/logstash/util/wrapped_acked_queue.rb:194:in `synchronize'"}, {"thread_id"=>942, "name"=>"[main]>worker68", "current_call"=>"[...]/logstash-core/lib/logstash/util/wrapped_acked_queue.rb:194:in `synchronize'"}, {"thread_id"=>943, "name"=>"[main]>worker69", "current_call"=>"[...]/logstash-core/lib/logstash/util/wrapped_acked_queue.rb:194:in `synchronize'"}, {"thread_id"=>944, "name"=>"[main]>worker70", "current_call"=>"[...]/logstash-core/lib/logstash/util/wrapped_acked_queue.rb:176:in `synchronize'"}, {"thread_id"=>945, "name"=>"[main]>worker71", "current_call"=>"[...]/logstash-core/lib/logstash/util/wrapped_acked_queue.rb:194:in `synchronize'"}, {"thread_id"=>946, "name"=>"[main]>worker72", "current_call"=>"[...]/logstash-core/lib/logstash/util/wrapped_acked_queue.rb:176:in `synchronize'"}, {"thread_id"=>947, "name"=>"[main]>worker73", "current_call"=>"[...]/logstash-core/lib/logstash/util/wrapped_acked_queue.rb:176:in `synchronize'"}, {"thread_id"=>948, "name"=>"[main]>worker74", "current_call"=>"[...]/logstash-core/lib/logstash/util/wrapped_acked_queue.rb:194:in `synchronize'"}, {"thread_id"=>949, "name"=>"[main]>worker75", "current_call"=>"[...]/logstash-core/lib/logstash/util/wrapped_acked_queue.rb:194:in `synchronize'"}, {"thread_id"=>950, "name"=>"[main]>worker76", "current_call"=>"[...]/logstash-core/lib/logstash/util/wrapped_acked_queue.rb:194:in `synchronize'"}, {"thread_id"=>951, "name"=>"[main]>worker77", "current_call"=>"[...]/logstash-core/lib/logstash/util/wrapped_acked_queue.rb:194:in `synchronize'"}, {"thread_id"=>952, "name"=>"[main]>worker78", "current_call"=>"[...]/logstash-core/lib/logstash/util/wrapped_acked_queue.rb:176:in `synchronize'"}, {"thread_id"=>953, "name"=>"[main]>worker79", "current_call"=>"[...]/logstash-core/lib/logstash/util/wrapped_acked_queue.rb:194:in `synchronize'"}, {"thread_id"=>954, "name"=>"[main]>worker80", "current_call"=>"[...]/logstash-core/lib/logstash/util/wrapped_acked_queue.rb:176:in `synchronize'"}, {"thread_id"=>955, "name"=>"[main]>worker81", "current_call"=>"[...]/logstash-core/lib/logstash/util/wrapped_acked_queue.rb:194:in `synchronize'"}, {"thread_id"=>956, "name"=>"[main]>worker82", "current_call"=>"[...]/logstash-core/lib/logstash/util/wrapped_acked_queue.rb:176:in `synchronize'"}, {"thread_id"=>957, "name"=>"[main]>worker83", "current_call"=>"[...]/logstash-core/lib/logstash/util/wrapped_acked_queue.rb:176:in `synchronize'"}, {"thread_id"=>958, "name"=>"[main]>worker84", "current_call"=>"[...]/logstash-core/lib/logstash/util/wrapped_acked_queue.rb:176:in `synchronize'"}, {"thread_id"=>959, "name"=>"[main]>worker85", "current_call"=>"[...]/logstash-core/lib/logstash/util/wrapped_acked_queue.rb:194:in `synchronize'"}, {"thread_id"=>960, "name"=>"[main]>worker86", "current_call"=>"[...]/logstash-core/lib/logstash/util/wrapped_acked_queue.rb:194:in `synchronize'"}, {"thread_id"=>961, "name"=>"[main]>worker87", "current_call"=>"[...]/logstash-core/lib/logstash/util/wrapped_acked_queue.rb:194:in `synchronize'"}, {"thread_id"=>962, "name"=>"[main]>worker88", "current_call"=>"[...]/logstash-core/lib/logstash/util/wrapped_acked_queue.rb:194:in `synchronize'"}, {"thread_id"=>963, "name"=>"[main]>worker89", "current_call"=>"[...]/logstash-core/lib/logstash/util/wrapped_acked_queue.rb:194:in `synchronize'"}, {"thread_id"=>964, "name"=>"[main]>worker90", "current_call"=>"[...]/logstash-core/lib/logstash/util/wrapped_acked_queue.rb:194:in `synchronize'"}, {"thread_id"=>965, "name"=>"[main]>worker91", "current_call"=>"[...]/logstash-core/lib/logstash/util/wrapped_acked_queue.rb:194:in `synchronize'"}, {"thread_id"=>966, "name"=>"[main]>worker92", "current_call"=>"[...]/logstash-core/lib/logstash/util/wrapped_acked_queue.rb:194:in `synchronize'"}, {"thread_id"=>967, "name"=>"[main]>worker93", "current_call"=>"[...]/logstash-core/lib/logstash/util/wrapped_acked_queue.rb:194:in `synchronize'"}, {"thread_id"=>968, "name"=>"[main]>worker94", "current_call"=>"[...]/logstash-core/lib/logstash/util/wrapped_acked_queue.rb:194:in `synchronize'"}, {"thread_id"=>969, "name"=>"[main]>worker95", "current_call"=>"[...]/logstash-core/lib/logstash/util/wrapped_acked_queue.rb:194:in `synchronize'"}, {"thread_id"=>970, "name"=>"[main]>worker96", "current_call"=>"[...]/logstash-core/lib/logstash/util/wrapped_acked_queue.rb:194:in `synchronize'"}, {"thread_id"=>971, "name"=>"[main]>worker97", "current_call"=>"[...]/logstash-core/lib/logstash/util/wrapped_acked_queue.rb:176:in `synchronize'"}, {"thread_id"=>972, "name"=>"[main]>worker98", "current_call"=>"[...]/logstash-core/lib/logstash/util/wrapped_acked_queue.rb:176:in `synchronize'"}, {"thread_id"=>973, "name"=>"[main]>worker99", "current_call"=>"[...]/logstash-core/lib/logstash/util/wrapped_acked_queue.rb:176:in `synchronize'"}, {"thread_id"=>974, "name"=>"[main]>worker100", "current_call"=>"[...]/logstash-core/lib/logstash/util/wrapped_acked_queue.rb:176:in `synchronize'"}, {"thread_id"=>975, "name"=>"[main]>worker101", "current_call"=>"[...]/logstash-core/lib/logstash/util/wrapped_acked_queue.rb:194:in `synchronize'"}, {"thread_id"=>976, "name"=>"[main]>worker102", "current_call"=>"[...]/logstash-core/lib/logstash/util/wrapped_acked_queue.rb:194:in `synchronize'"}, {"thread_id"=>977, "name"=>"[main]>worker103", "current_call"=>"[...]/logstash-core/lib/logstash/util/wrapped_acked_queue.rb:194:in `synchronize'"}, {"thread_id"=>978, "name"=>"[main]>worker104", "current_call"=>"[...]/logstash-core/lib/logstash/util/wrapped_acked_queue.rb:194:in `synchronize'"}, {"thread_id"=>979, "name"=>"[main]>worker105", "current_call"=>"[...]/logstash-core/lib/logstash/util/wrapped_acked_queue.rb:194:in `synchronize'"}, {"thread_id"=>980, "name"=>"[main]>worker106", "current_call"=>"[...]/logstash-core/lib/logstash/util/wrapped_acked_queue.rb:176:in `synchronize'"}, {"thread_id"=>981, "name"=>"[main]>worker107", "current_call"=>"[...]/logstash-core/lib/logstash/util/wrapped_acked_queue.rb:194:in `synchronize'"}, {"thread_id"=>982, "name"=>"[main]>worker108", "current_call"=>"[...]/logstash-core/lib/logstash/util/wrapped_acked_queue.rb:194:in `synchronize'"}, {"thread_id"=>983, "name"=>"[main]>worker109", "current_call"=>"[...]/logstash-core/lib/logstash/util/wrapped_acked_queue.rb:194:in `synchronize'"}, {"thread_id"=>984, "name"=>"[main]>worker110", "current_call"=>"[...]/logstash-core/lib/logstash/util/wrapped_acked_queue.rb:176:in `synchronize'"}, {"thread_id"=>985, "name"=>"[main]>worker111", "current_call"=>"[...]/logstash-core/lib/logstash/util/wrapped_acked_queue.rb:194:in `synchronize'"}, {"thread_id"=>986, "name"=>"[main]>worker112", "current_call"=>"[...]/logstash-core/lib/logstash/util/wrapped_acked_queue.rb:176:in `synchronize'"}, {"thread_id"=>987, "name"=>"[main]>worker113", "current_call"=>"[...]/logstash-core/lib/logstash/util/wrapped_acked_queue.rb:194:in `synchronize'"}, {"thread_id"=>988, "name"=>"[main]>worker114", "current_call"=>"[...]/logstash-core/lib/logstash/util/wrapped_acked_queue.rb:176:in `synchronize'"}, {"thread_id"=>989, "name"=>"[main]>worker115", "current_call"=>"[...]/logstash-core/lib/logstash/util/wrapped_acked_queue.rb:194:in `synchronize'"}, {"thread_id"=>990, "name"=>"[main]>worker116", "current_call"=>"[...]/logstash-core/lib/logstash/util/wrapped_acked_queue.rb:176:in `synchronize'"}, {"thread_id"=>991, "name"=>"[main]>worker117", "current_call"=>"[...]/logstash-core/lib/logstash/util/wrapped_acked_queue.rb:194:in `synchronize'"}, {"thread_id"=>992, "name"=>"[main]>worker118", "current_call"=>"[...]/logstash-core/lib/logstash/util/wrapped_acked_queue.rb:176:in `synchronize'"}, {"thread_id"=>993, "name"=>"[main]>worker119", "current_call"=>"[...]/logstash-core/lib/logstash/util/wrapped_acked_queue.rb:194:in `synchronize'"}, {"thread_id"=>994, "name"=>"[main]>worker120", "current_call"=>"[...]/logstash-core/lib/logstash/util/wrapped_acked_queue.rb:194:in `synchronize'"}, {"thread_id"=>995, "name"=>"[main]>worker121", "current_call"=>"[...]/logstash-core/lib/logstash/util/wrapped_acked_queue.rb:176:in `synchronize'"}, {"thread_id"=>996, "name"=>"[main]>worker122", "current_call"=>"[...]/logstash-core/lib/logstash/util/wrapped_acked_queue.rb:194:in `synchronize'"}, {"thread_id"=>997, "name"=>"[main]>worker123", "current_call"=>"[...]/logstash-core/lib/logstash/util/wrapped_acked_queue.rb:194:in `synchronize'"}, {"thread_id"=>998, "name"=>"[main]>worker124", "current_call"=>"[...]/logstash-core/lib/logstash/util/wrapped_acked_queue.rb:176:in `synchronize'"}, {"thread_id"=>999, "name"=>"[main]>worker125", "current_call"=>"[...]/logstash-core/lib/logstash/util/wrapped_acked_queue.rb:194:in `synchronize'"}, {"thread_id"=>1000, "name"=>"[main]>worker126", "current_call"=>"[...]/logstash-core/lib/logstash/util/wrapped_acked_queue.rb:176:in `synchronize'"}, {"thread_id"=>1001, "name"=>"[main]>worker127", "current_call"=>"[...]/logstash-core/lib/logstash/util/wrapped_acked_queue.rb:194:in `synchronize'"}]}}
[2018-08-22T18:41:53,698][ERROR][logstash.shutdownwatcher ] The shutdown process appears to be stalled due to busy or blocked plugins. Check the logs for more information.
[2018-08-22T18:41:58,261][WARN ][logstash.shutdownwatcher ] {"inflight_count"=>0, "stalling_thread_info"=>{}}
[2018-08-22T18:41:58,308][WARN ][logstash.runner          ] SIGTERM received. Shutting down the agent.
[2018-08-22T18:41:58,508][FATAL][logstash.runner          ] An unexpected error occurred! {:error=>#<ThreadError: killed thread>, :backtrace=>["org/jruby/RubyThread.java:836:in `wakeup'", "/opt/cws221/integration/elk/1.4/logstash-5.4.2/vendor/bundle/jruby/1.9/gems/stud-0.0.22/lib/stud/interval.rb:44:in `stop!'", "/opt/cws221/integration/elk/1.4/logstash-5.4.2/vendor/bundle/jruby/1.9/gems/stud-0.0.22/lib/stud/task.rb:52:in `stop!'", "/opt/cws221/integration/elk/1.4/logstash-5.4.2/logstash-core/lib/logstash/runner.rb:398:in `trap_sigterm'", "org/jruby/RubyProc.java:281:in `call'", "org/jruby/RubyArray.java:1613:in `each'", "/opt/cws221/integration/elk/1.4/logstash-5.4.2/vendor/bundle/jruby/1.9/gems/stud-0.0.22/lib/stud/trap.rb:46:in `simulate_signal'", "/opt/cws221/integration/elk/1.4/logstash-5.4.2/vendor/bundle/jruby/1.9/gems/stud-0.0.22/lib/stud/trap.rb:26:in `trap'", "org/jruby/RubyProc.java:281:in `call'"]}
[2018-08-22T18:46:33,113][WARN ][logstash.inputs.beats    ] You are using a deprecated config setting "congestion_threshold" set in beats. Deprecated settings will continue to work, but are scheduled for removal from logstash in the future. This option is now deprecated since congestion control is done automatically If you have any questions about this, please visit the #logstash channel on freenode irc. {:name=>"congestion_threshold", :plugin=><LogStash::Inputs::Beats port=>"28310", congestion_threshold=>60, ssl=>"true", ssl_certificate=>"../../scripts/lumberjack.crt", ssl_key=>"../../scripts/lumberjack.key", cipher_suites=>["TLS_ECDHE_RSA_WITH_AES_128_GCM_SHA256"], tls_min_version=>"1.2", id=>"56afb320b3a17b41f270fc2f808151e39ae6d8cd-74">}
[2018-08-22T18:46:34,089][INFO ][logstash.outputs.elasticsearch] Elasticsearch pool URLs updated {:changes=>{:removed=>[], :added=>[https://power9-1.bqdc.nanjing:28210/?egoToken=Admin%222018-08-22T18%3A45%3A43Z%22bbrGYZfT%2FTvNi9kyOd%2BQOU2t4Zvo7%2Fjygy5B4mzP%2FsE609quZww9nlbmI8OvDlZLn%2BXw89K2bbcOuMWDTyVZQA%3D%3D%22bWCjIaJD7G3S4IheP3JqBg%3D%3D]}}
[2018-08-22T18:46:34,090][INFO ][logstash.outputs.elasticsearch] Running health check to see if an Elasticsearch connection is working {:healthcheck_url=>https://power9-1.bqdc.nanjing:28210/?egoToken=Admin%222018-08-22T18%3A45%3A43Z%22bbrGYZfT%2FTvNi9kyOd%2BQOU2t4Zvo7%2Fjygy5B4mzP%2FsE609quZww9nlbmI8OvDlZLn%2BXw89K2bbcOuMWDTyVZQA%3D%3D%22bWCjIaJD7G3S4IheP3JqBg%3D%3D, :path=>"/"}
[2018-08-22T18:46:34,515][WARN ][logstash.outputs.elasticsearch] Restored connection to ES instance {:url=>#<URI::HTTPS:0x4f8034d8 URL:https://power9-1.bqdc.nanjing:28210/?egoToken=Admin%222018-08-22T18%3A45%3A43Z%22bbrGYZfT%2FTvNi9kyOd%2BQOU2t4Zvo7%2Fjygy5B4mzP%2FsE609quZww9nlbmI8OvDlZLn%2BXw89K2bbcOuMWDTyVZQA%3D%3D%22bWCjIaJD7G3S4IheP3JqBg%3D%3D>}
[2018-08-22T18:46:34,516][INFO ][logstash.outputs.elasticsearch] Using mapping template from {:path=>nil}
[2018-08-22T18:46:34,573][INFO ][logstash.outputs.elasticsearch] Attempting to install template {:manage_template=>{"template"=>"logstash-*", "version"=>50001, "settings"=>{"index.refresh_interval"=>"5s"}, "mappings"=>{"_default_"=>{"_all"=>{"enabled"=>true, "norms"=>false}, "dynamic_templates"=>[{"message_field"=>{"path_match"=>"message", "match_mapping_type"=>"string", "mapping"=>{"type"=>"text", "norms"=>false}}}, {"string_fields"=>{"match"=>"*", "match_mapping_type"=>"string", "mapping"=>{"type"=>"text", "norms"=>false, "fields"=>{"keyword"=>{"type"=>"keyword"}}}}}], "properties"=>{"@timestamp"=>{"type"=>"date", "include_in_all"=>false}, "@version"=>{"type"=>"keyword", "include_in_all"=>false}, "geoip"=>{"dynamic"=>true, "properties"=>{"ip"=>{"type"=>"ip"}, "location"=>{"type"=>"geo_point"}, "latitude"=>{"type"=>"half_float"}, "longitude"=>{"type"=>"half_float"}}}}}}}}
[2018-08-22T18:46:34,597][INFO ][logstash.outputs.elasticsearch] New Elasticsearch output {:class=>"LogStash::Outputs::ElasticSearch", :hosts=>[#<URI::Generic:0x48358a58 URL://power9-1.bqdc.nanjing:28210>]}
[2018-08-22T18:46:34,608][INFO ][logstash.outputs.elasticsearch] Elasticsearch pool URLs updated {:changes=>{:removed=>[], :added=>[https://power9-1.bqdc.nanjing:28210/?egoToken=Admin%222018-08-22T18%3A45%3A43Z%22bbrGYZfT%2FTvNi9kyOd%2BQOU2t4Zvo7%2Fjygy5B4mzP%2FsE609quZww9nlbmI8OvDlZLn%2BXw89K2bbcOuMWDTyVZQA%3D%3D%22bWCjIaJD7G3S4IheP3JqBg%3D%3D]}}
[2018-08-22T18:46:34,608][INFO ][logstash.outputs.elasticsearch] Running health check to see if an Elasticsearch connection is working {:healthcheck_url=>https://power9-1.bqdc.nanjing:28210/?egoToken=Admin%222018-08-22T18%3A45%3A43Z%22bbrGYZfT%2FTvNi9kyOd%2BQOU2t4Zvo7%2Fjygy5B4mzP%2FsE609quZww9nlbmI8OvDlZLn%2BXw89K2bbcOuMWDTyVZQA%3D%3D%22bWCjIaJD7G3S4IheP3JqBg%3D%3D, :path=>"/"}
[2018-08-22T18:46:34,680][WARN ][logstash.outputs.elasticsearch] Restored connection to ES instance {:url=>#<URI::HTTPS:0xa8efa364 URL:https://power9-1.bqdc.nanjing:28210/?egoToken=Admin%222018-08-22T18%3A45%3A43Z%22bbrGYZfT%2FTvNi9kyOd%2BQOU2t4Zvo7%2Fjygy5B4mzP%2FsE609quZww9nlbmI8OvDlZLn%2BXw89K2bbcOuMWDTyVZQA%3D%3D%22bWCjIaJD7G3S4IheP3JqBg%3D%3D>}
[2018-08-22T18:46:34,680][INFO ][logstash.outputs.elasticsearch] Using mapping template from {:path=>nil}
[2018-08-22T18:46:34,697][INFO ][logstash.outputs.elasticsearch] Attempting to install template {:manage_template=>{"template"=>"logstash-*", "version"=>50001, "settings"=>{"index.refresh_interval"=>"5s"}, "mappings"=>{"_default_"=>{"_all"=>{"enabled"=>true, "norms"=>false}, "dynamic_templates"=>[{"message_field"=>{"path_match"=>"message", "match_mapping_type"=>"string", "mapping"=>{"type"=>"text", "norms"=>false}}}, {"string_fields"=>{"match"=>"*", "match_mapping_type"=>"string", "mapping"=>{"type"=>"text", "norms"=>false, "fields"=>{"keyword"=>{"type"=>"keyword"}}}}}], "properties"=>{"@timestamp"=>{"type"=>"date", "include_in_all"=>false}, "@version"=>{"type"=>"keyword", "include_in_all"=>false}, "geoip"=>{"dynamic"=>true, "properties"=>{"ip"=>{"type"=>"ip"}, "location"=>{"type"=>"geo_point"}, "latitude"=>{"type"=>"half_float"}, "longitude"=>{"type"=>"half_float"}}}}}}}}
[2018-08-22T18:46:34,712][INFO ][logstash.outputs.elasticsearch] New Elasticsearch output {:class=>"LogStash::Outputs::ElasticSearch", :hosts=>[#<URI::Generic:0x1eb36ed6 URL://power9-1.bqdc.nanjing:28210>]}
[2018-08-22T18:46:34,723][INFO ][logstash.outputs.elasticsearch] Elasticsearch pool URLs updated {:changes=>{:removed=>[], :added=>[https://power9-1.bqdc.nanjing:28210/?egoToken=Admin%222018-08-22T18%3A45%3A43Z%22bbrGYZfT%2FTvNi9kyOd%2BQOU2t4Zvo7%2Fjygy5B4mzP%2FsE609quZww9nlbmI8OvDlZLn%2BXw89K2bbcOuMWDTyVZQA%3D%3D%22bWCjIaJD7G3S4IheP3JqBg%3D%3D]}}
[2018-08-22T18:46:34,724][INFO ][logstash.outputs.elasticsearch] Running health check to see if an Elasticsearch connection is working {:healthcheck_url=>https://power9-1.bqdc.nanjing:28210/?egoToken=Admin%222018-08-22T18%3A45%3A43Z%22bbrGYZfT%2FTvNi9kyOd%2BQOU2t4Zvo7%2Fjygy5B4mzP%2FsE609quZww9nlbmI8OvDlZLn%2BXw89K2bbcOuMWDTyVZQA%3D%3D%22bWCjIaJD7G3S4IheP3JqBg%3D%3D, :path=>"/"}
[2018-08-22T18:46:34,787][WARN ][logstash.outputs.elasticsearch] Restored connection to ES instance {:url=>#<URI::HTTPS:0xee8b5a08 URL:https://power9-1.bqdc.nanjing:28210/?egoToken=Admin%222018-08-22T18%3A45%3A43Z%22bbrGYZfT%2FTvNi9kyOd%2BQOU2t4Zvo7%2Fjygy5B4mzP%2FsE609quZww9nlbmI8OvDlZLn%2BXw89K2bbcOuMWDTyVZQA%3D%3D%22bWCjIaJD7G3S4IheP3JqBg%3D%3D>}
[2018-08-22T18:46:34,788][INFO ][logstash.outputs.elasticsearch] Using mapping template from {:path=>nil}
[2018-08-22T18:46:34,805][INFO ][logstash.outputs.elasticsearch] Attempting to install template {:manage_template=>{"template"=>"logstash-*", "version"=>50001, "settings"=>{"index.refresh_interval"=>"5s"}, "mappings"=>{"_default_"=>{"_all"=>{"enabled"=>true, "norms"=>false}, "dynamic_templates"=>[{"message_field"=>{"path_match"=>"message", "match_mapping_type"=>"string", "mapping"=>{"type"=>"text", "norms"=>false}}}, {"string_fields"=>{"match"=>"*", "match_mapping_type"=>"string", "mapping"=>{"type"=>"text", "norms"=>false, "fields"=>{"keyword"=>{"type"=>"keyword"}}}}}], "properties"=>{"@timestamp"=>{"type"=>"date", "include_in_all"=>false}, "@version"=>{"type"=>"keyword", "include_in_all"=>false}, "geoip"=>{"dynamic"=>true, "properties"=>{"ip"=>{"type"=>"ip"}, "location"=>{"type"=>"geo_point"}, "latitude"=>{"type"=>"half_float"}, "longitude"=>{"type"=>"half_float"}}}}}}}}
[2018-08-22T18:46:34,822][INFO ][logstash.outputs.elasticsearch] New Elasticsearch output {:class=>"LogStash::Outputs::ElasticSearch", :hosts=>[#<URI::Generic:0x9608b5fc URL://power9-1.bqdc.nanjing:28210>]}
[2018-08-22T18:46:34,835][INFO ][logstash.outputs.elasticsearch] Elasticsearch pool URLs updated {:changes=>{:removed=>[], :added=>[https://power9-1.bqdc.nanjing:28210/?egoToken=Admin%222018-08-22T18%3A45%3A43Z%22bbrGYZfT%2FTvNi9kyOd%2BQOU2t4Zvo7%2Fjygy5B4mzP%2FsE609quZww9nlbmI8OvDlZLn%2BXw89K2bbcOuMWDTyVZQA%3D%3D%22bWCjIaJD7G3S4IheP3JqBg%3D%3D]}}
[2018-08-22T18:46:34,836][INFO ][logstash.outputs.elasticsearch] Running health check to see if an Elasticsearch connection is working {:healthcheck_url=>https://power9-1.bqdc.nanjing:28210/?egoToken=Admin%222018-08-22T18%3A45%3A43Z%22bbrGYZfT%2FTvNi9kyOd%2BQOU2t4Zvo7%2Fjygy5B4mzP%2FsE609quZww9nlbmI8OvDlZLn%2BXw89K2bbcOuMWDTyVZQA%3D%3D%22bWCjIaJD7G3S4IheP3JqBg%3D%3D, :path=>"/"}
[2018-08-22T18:46:34,898][WARN ][logstash.outputs.elasticsearch] Restored connection to ES instance {:url=>#<URI::HTTPS:0xcffedd1e URL:https://power9-1.bqdc.nanjing:28210/?egoToken=Admin%222018-08-22T18%3A45%3A43Z%22bbrGYZfT%2FTvNi9kyOd%2BQOU2t4Zvo7%2Fjygy5B4mzP%2FsE609quZww9nlbmI8OvDlZLn%2BXw89K2bbcOuMWDTyVZQA%3D%3D%22bWCjIaJD7G3S4IheP3JqBg%3D%3D>}
[2018-08-22T18:46:34,899][INFO ][logstash.outputs.elasticsearch] Using mapping template from {:path=>nil}
[2018-08-22T18:46:34,915][INFO ][logstash.outputs.elasticsearch] Attempting to install template {:manage_template=>{"template"=>"logstash-*", "version"=>50001, "settings"=>{"index.refresh_interval"=>"5s"}, "mappings"=>{"_default_"=>{"_all"=>{"enabled"=>true, "norms"=>false}, "dynamic_templates"=>[{"message_field"=>{"path_match"=>"message", "match_mapping_type"=>"string", "mapping"=>{"type"=>"text", "norms"=>false}}}, {"string_fields"=>{"match"=>"*", "match_mapping_type"=>"string", "mapping"=>{"type"=>"text", "norms"=>false, "fields"=>{"keyword"=>{"type"=>"keyword"}}}}}], "properties"=>{"@timestamp"=>{"type"=>"date", "include_in_all"=>false}, "@version"=>{"type"=>"keyword", "include_in_all"=>false}, "geoip"=>{"dynamic"=>true, "properties"=>{"ip"=>{"type"=>"ip"}, "location"=>{"type"=>"geo_point"}, "latitude"=>{"type"=>"half_float"}, "longitude"=>{"type"=>"half_float"}}}}}}}}
[2018-08-22T18:46:34,932][INFO ][logstash.outputs.elasticsearch] New Elasticsearch output {:class=>"LogStash::Outputs::ElasticSearch", :hosts=>[#<URI::Generic:0x245fa670 URL://power9-1.bqdc.nanjing:28210>]}
[2018-08-22T18:46:34,943][INFO ][logstash.outputs.elasticsearch] Elasticsearch pool URLs updated {:changes=>{:removed=>[], :added=>[https://power9-1.bqdc.nanjing:28210/?egoToken=Admin%222018-08-22T18%3A45%3A43Z%22bbrGYZfT%2FTvNi9kyOd%2BQOU2t4Zvo7%2Fjygy5B4mzP%2FsE609quZww9nlbmI8OvDlZLn%2BXw89K2bbcOuMWDTyVZQA%3D%3D%22bWCjIaJD7G3S4IheP3JqBg%3D%3D]}}
[2018-08-22T18:46:34,944][INFO ][logstash.outputs.elasticsearch] Running health check to see if an Elasticsearch connection is working {:healthcheck_url=>https://power9-1.bqdc.nanjing:28210/?egoToken=Admin%222018-08-22T18%3A45%3A43Z%22bbrGYZfT%2FTvNi9kyOd%2BQOU2t4Zvo7%2Fjygy5B4mzP%2FsE609quZww9nlbmI8OvDlZLn%2BXw89K2bbcOuMWDTyVZQA%3D%3D%22bWCjIaJD7G3S4IheP3JqBg%3D%3D, :path=>"/"}
[2018-08-22T18:46:35,000][WARN ][logstash.outputs.elasticsearch] Restored connection to ES instance {:url=>#<URI::HTTPS:0x9d0255a7 URL:https://power9-1.bqdc.nanjing:28210/?egoToken=Admin%222018-08-22T18%3A45%3A43Z%22bbrGYZfT%2FTvNi9kyOd%2BQOU2t4Zvo7%2Fjygy5B4mzP%2FsE609quZww9nlbmI8OvDlZLn%2BXw89K2bbcOuMWDTyVZQA%3D%3D%22bWCjIaJD7G3S4IheP3JqBg%3D%3D>}
[2018-08-22T18:46:35,001][INFO ][logstash.outputs.elasticsearch] Using mapping template from {:path=>nil}
[2018-08-22T18:46:35,017][INFO ][logstash.outputs.elasticsearch] Attempting to install template {:manage_template=>{"template"=>"logstash-*", "version"=>50001, "settings"=>{"index.refresh_interval"=>"5s"}, "mappings"=>{"_default_"=>{"_all"=>{"enabled"=>true, "norms"=>false}, "dynamic_templates"=>[{"message_field"=>{"path_match"=>"message", "match_mapping_type"=>"string", "mapping"=>{"type"=>"text", "norms"=>false}}}, {"string_fields"=>{"match"=>"*", "match_mapping_type"=>"string", "mapping"=>{"type"=>"text", "norms"=>false, "fields"=>{"keyword"=>{"type"=>"keyword"}}}}}], "properties"=>{"@timestamp"=>{"type"=>"date", "include_in_all"=>false}, "@version"=>{"type"=>"keyword", "include_in_all"=>false}, "geoip"=>{"dynamic"=>true, "properties"=>{"ip"=>{"type"=>"ip"}, "location"=>{"type"=>"geo_point"}, "latitude"=>{"type"=>"half_float"}, "longitude"=>{"type"=>"half_float"}}}}}}}}
[2018-08-22T18:46:35,036][INFO ][logstash.outputs.elasticsearch] New Elasticsearch output {:class=>"LogStash::Outputs::ElasticSearch", :hosts=>[#<URI::Generic:0xf9e4b45 URL://power9-1.bqdc.nanjing:28210>]}
[2018-08-22T18:46:35,049][INFO ][logstash.outputs.elasticsearch] Elasticsearch pool URLs updated {:changes=>{:removed=>[], :added=>[https://power9-1.bqdc.nanjing:28210/?egoToken=Admin%222018-08-22T18%3A45%3A43Z%22bbrGYZfT%2FTvNi9kyOd%2BQOU2t4Zvo7%2Fjygy5B4mzP%2FsE609quZww9nlbmI8OvDlZLn%2BXw89K2bbcOuMWDTyVZQA%3D%3D%22bWCjIaJD7G3S4IheP3JqBg%3D%3D]}}
[2018-08-22T18:46:35,049][INFO ][logstash.outputs.elasticsearch] Running health check to see if an Elasticsearch connection is working {:healthcheck_url=>https://power9-1.bqdc.nanjing:28210/?egoToken=Admin%222018-08-22T18%3A45%3A43Z%22bbrGYZfT%2FTvNi9kyOd%2BQOU2t4Zvo7%2Fjygy5B4mzP%2FsE609quZww9nlbmI8OvDlZLn%2BXw89K2bbcOuMWDTyVZQA%3D%3D%22bWCjIaJD7G3S4IheP3JqBg%3D%3D, :path=>"/"}
[2018-08-22T18:46:35,107][WARN ][logstash.outputs.elasticsearch] Restored connection to ES instance {:url=>#<URI::HTTPS:0x9f09608d URL:https://power9-1.bqdc.nanjing:28210/?egoToken=Admin%222018-08-22T18%3A45%3A43Z%22bbrGYZfT%2FTvNi9kyOd%2BQOU2t4Zvo7%2Fjygy5B4mzP%2FsE609quZww9nlbmI8OvDlZLn%2BXw89K2bbcOuMWDTyVZQA%3D%3D%22bWCjIaJD7G3S4IheP3JqBg%3D%3D>}
[2018-08-22T18:46:35,107][INFO ][logstash.outputs.elasticsearch] Using mapping template from {:path=>nil}
[2018-08-22T18:46:35,142][INFO ][logstash.outputs.elasticsearch] Attempting to install template {:manage_template=>{"template"=>"logstash-*", "version"=>50001, "settings"=>{"index.refresh_interval"=>"5s"}, "mappings"=>{"_default_"=>{"_all"=>{"enabled"=>true, "norms"=>false}, "dynamic_templates"=>[{"message_field"=>{"path_match"=>"message", "match_mapping_type"=>"string", "mapping"=>{"type"=>"text", "norms"=>false}}}, {"string_fields"=>{"match"=>"*", "match_mapping_type"=>"string", "mapping"=>{"type"=>"text", "norms"=>false, "fields"=>{"keyword"=>{"type"=>"keyword"}}}}}], "properties"=>{"@timestamp"=>{"type"=>"date", "include_in_all"=>false}, "@version"=>{"type"=>"keyword", "include_in_all"=>false}, "geoip"=>{"dynamic"=>true, "properties"=>{"ip"=>{"type"=>"ip"}, "location"=>{"type"=>"geo_point"}, "latitude"=>{"type"=>"half_float"}, "longitude"=>{"type"=>"half_float"}}}}}}}}
[2018-08-22T18:46:35,157][INFO ][logstash.outputs.elasticsearch] New Elasticsearch output {:class=>"LogStash::Outputs::ElasticSearch", :hosts=>[#<URI::Generic:0x9efb5324 URL://power9-1.bqdc.nanjing:28210>]}
[2018-08-22T18:46:35,169][INFO ][logstash.outputs.elasticsearch] Elasticsearch pool URLs updated {:changes=>{:removed=>[], :added=>[https://power9-1.bqdc.nanjing:28210/?egoToken=Admin%222018-08-22T18%3A45%3A43Z%22bbrGYZfT%2FTvNi9kyOd%2BQOU2t4Zvo7%2Fjygy5B4mzP%2FsE609quZww9nlbmI8OvDlZLn%2BXw89K2bbcOuMWDTyVZQA%3D%3D%22bWCjIaJD7G3S4IheP3JqBg%3D%3D]}}
[2018-08-22T18:46:35,170][INFO ][logstash.outputs.elasticsearch] Running health check to see if an Elasticsearch connection is working {:healthcheck_url=>https://power9-1.bqdc.nanjing:28210/?egoToken=Admin%222018-08-22T18%3A45%3A43Z%22bbrGYZfT%2FTvNi9kyOd%2BQOU2t4Zvo7%2Fjygy5B4mzP%2FsE609quZww9nlbmI8OvDlZLn%2BXw89K2bbcOuMWDTyVZQA%3D%3D%22bWCjIaJD7G3S4IheP3JqBg%3D%3D, :path=>"/"}
[2018-08-22T18:46:35,228][WARN ][logstash.outputs.elasticsearch] Restored connection to ES instance {:url=>#<URI::HTTPS:0x1653b3f8 URL:https://power9-1.bqdc.nanjing:28210/?egoToken=Admin%222018-08-22T18%3A45%3A43Z%22bbrGYZfT%2FTvNi9kyOd%2BQOU2t4Zvo7%2Fjygy5B4mzP%2FsE609quZww9nlbmI8OvDlZLn%2BXw89K2bbcOuMWDTyVZQA%3D%3D%22bWCjIaJD7G3S4IheP3JqBg%3D%3D>}
[2018-08-22T18:46:35,229][INFO ][logstash.outputs.elasticsearch] Using mapping template from {:path=>nil}
[2018-08-22T18:46:35,244][INFO ][logstash.outputs.elasticsearch] Attempting to install template {:manage_template=>{"template"=>"logstash-*", "version"=>50001, "settings"=>{"index.refresh_interval"=>"5s"}, "mappings"=>{"_default_"=>{"_all"=>{"enabled"=>true, "norms"=>false}, "dynamic_templates"=>[{"message_field"=>{"path_match"=>"message", "match_mapping_type"=>"string", "mapping"=>{"type"=>"text", "norms"=>false}}}, {"string_fields"=>{"match"=>"*", "match_mapping_type"=>"string", "mapping"=>{"type"=>"text", "norms"=>false, "fields"=>{"keyword"=>{"type"=>"keyword"}}}}}], "properties"=>{"@timestamp"=>{"type"=>"date", "include_in_all"=>false}, "@version"=>{"type"=>"keyword", "include_in_all"=>false}, "geoip"=>{"dynamic"=>true, "properties"=>{"ip"=>{"type"=>"ip"}, "location"=>{"type"=>"geo_point"}, "latitude"=>{"type"=>"half_float"}, "longitude"=>{"type"=>"half_float"}}}}}}}}
[2018-08-22T18:46:35,260][INFO ][logstash.outputs.elasticsearch] New Elasticsearch output {:class=>"LogStash::Outputs::ElasticSearch", :hosts=>[#<URI::Generic:0x8708c2f URL://power9-1.bqdc.nanjing:28210>]}
[2018-08-22T18:46:35,273][INFO ][logstash.outputs.elasticsearch] Elasticsearch pool URLs updated {:changes=>{:removed=>[], :added=>[https://power9-1.bqdc.nanjing:28210/?egoToken=Admin%222018-08-22T18%3A45%3A43Z%22bbrGYZfT%2FTvNi9kyOd%2BQOU2t4Zvo7%2Fjygy5B4mzP%2FsE609quZww9nlbmI8OvDlZLn%2BXw89K2bbcOuMWDTyVZQA%3D%3D%22bWCjIaJD7G3S4IheP3JqBg%3D%3D]}}
[2018-08-22T18:46:35,273][INFO ][logstash.outputs.elasticsearch] Running health check to see if an Elasticsearch connection is working {:healthcheck_url=>https://power9-1.bqdc.nanjing:28210/?egoToken=Admin%222018-08-22T18%3A45%3A43Z%22bbrGYZfT%2FTvNi9kyOd%2BQOU2t4Zvo7%2Fjygy5B4mzP%2FsE609quZww9nlbmI8OvDlZLn%2BXw89K2bbcOuMWDTyVZQA%3D%3D%22bWCjIaJD7G3S4IheP3JqBg%3D%3D, :path=>"/"}
[2018-08-22T18:46:35,391][WARN ][logstash.outputs.elasticsearch] Restored connection to ES instance {:url=>#<URI::HTTPS:0x19e41f3c URL:https://power9-1.bqdc.nanjing:28210/?egoToken=Admin%222018-08-22T18%3A45%3A43Z%22bbrGYZfT%2FTvNi9kyOd%2BQOU2t4Zvo7%2Fjygy5B4mzP%2FsE609quZww9nlbmI8OvDlZLn%2BXw89K2bbcOuMWDTyVZQA%3D%3D%22bWCjIaJD7G3S4IheP3JqBg%3D%3D>}
[2018-08-22T18:46:35,392][INFO ][logstash.outputs.elasticsearch] Using mapping template from {:path=>nil}
[2018-08-22T18:46:35,408][INFO ][logstash.outputs.elasticsearch] Attempting to install template {:manage_template=>{"template"=>"logstash-*", "version"=>50001, "settings"=>{"index.refresh_interval"=>"5s"}, "mappings"=>{"_default_"=>{"_all"=>{"enabled"=>true, "norms"=>false}, "dynamic_templates"=>[{"message_field"=>{"path_match"=>"message", "match_mapping_type"=>"string", "mapping"=>{"type"=>"text", "norms"=>false}}}, {"string_fields"=>{"match"=>"*", "match_mapping_type"=>"string", "mapping"=>{"type"=>"text", "norms"=>false, "fields"=>{"keyword"=>{"type"=>"keyword"}}}}}], "properties"=>{"@timestamp"=>{"type"=>"date", "include_in_all"=>false}, "@version"=>{"type"=>"keyword", "include_in_all"=>false}, "geoip"=>{"dynamic"=>true, "properties"=>{"ip"=>{"type"=>"ip"}, "location"=>{"type"=>"geo_point"}, "latitude"=>{"type"=>"half_float"}, "longitude"=>{"type"=>"half_float"}}}}}}}}
[2018-08-22T18:46:35,425][INFO ][logstash.outputs.elasticsearch] New Elasticsearch output {:class=>"LogStash::Outputs::ElasticSearch", :hosts=>[#<URI::Generic:0x12e9acf URL://power9-1.bqdc.nanjing:28210>]}
[2018-08-22T18:46:36,071][INFO ][logstash.pipeline        ] Starting pipeline {"id"=>"main", "pipeline.workers"=>128, "pipeline.batch.size"=>1000, "pipeline.batch.delay"=>5, "pipeline.max_inflight"=>128000}
[2018-08-22T18:46:36,071][WARN ][logstash.pipeline        ] CAUTION: Recommended inflight events max exceeded! Logstash will run with up to 128000 events in memory in your current configuration. If your message sizes are large this may cause instability with the default heap size. Please consider setting a non-standard heap size, changing the batch size (currently 1000), or changing the number of pipeline workers (currently 128)
[2018-08-22T18:46:36,116][INFO ][logstash.inputs.beats    ] Beats inputs: Starting input listener {:address=>"0.0.0.0:28310"}
[2018-08-22T18:46:36,555][INFO ][logstash.pipeline        ] Pipeline main started
[2018-08-22T18:46:36,605][INFO ][logstash.agent           ] Successfully started Logstash API endpoint {:port=>9600}
:$
[2018-08-24T07:52:40,260][WARN ][logstash.outputs.elasticsearch] Restored connection to ES instance {:url=>#<URI::HTTPS:0x6b9edf0e URL:https://power9-1.bqdc.nanjing:28210/?egoToken=Admin%222018-08-24T07%3A52%3A15Z%22LvC4JqMOpSKHZtY6GRXtNwAPQZpYEQ8YTASbaRJFCggiYYveHgUDN9Q6kD6oW635xWvmR2ZY11bRTAoyJTH6%2Fw%3D%3D%22bu6ZZ5WaNhcPE9Z8ZjEAbA%3D%3D>}
[2018-08-24T07:52:40,261][INFO ][logstash.outputs.elasticsearch] Using mapping template from {:path=>nil}
[2018-08-24T07:52:40,282][INFO ][logstash.outputs.elasticsearch] Attempting to install template {:manage_template=>{"template"=>"logstash-*", "version"=>50001, "settings"=>{"index.refresh_interval"=>"5s"}, "mappings"=>{"_default_"=>{"_all"=>{"enabled"=>true, "norms"=>false}, "dynamic_templates"=>[{"message_field"=>{"path_match"=>"message", "match_mapping_type"=>"string", "mapping"=>{"type"=>"text", "norms"=>false}}}, {"string_fields"=>{"match"=>"*", "match_mapping_type"=>"string", "mapping"=>{"type"=>"text", "norms"=>false, "fields"=>{"keyword"=>{"type"=>"keyword"}}}}}], "properties"=>{"@timestamp"=>{"type"=>"date", "include_in_all"=>false}, "@version"=>{"type"=>"keyword", "include_in_all"=>false}, "geoip"=>{"dynamic"=>true, "properties"=>{"ip"=>{"type"=>"ip"}, "location"=>{"type"=>"geo_point"}, "latitude"=>{"type"=>"half_float"}, "longitude"=>{"type"=>"half_float"}}}}}}}}
[2018-08-24T07:52:40,291][INFO ][logstash.outputs.elasticsearch] New Elasticsearch output {:class=>"LogStash::Outputs::ElasticSearch", :hosts=>[#<URI::Generic:0x7da2439 URL://power9-1.bqdc.nanjing:28210>]}
[2018-08-24T07:52:40,298][INFO ][logstash.outputs.elasticsearch] Elasticsearch pool URLs updated {:changes=>{:removed=>[], :added=>[https://power9-1.bqdc.nanjing:28210/?egoToken=Admin%222018-08-24T07%3A52%3A15Z%22LvC4JqMOpSKHZtY6GRXtNwAPQZpYEQ8YTASbaRJFCggiYYveHgUDN9Q6kD6oW635xWvmR2ZY11bRTAoyJTH6%2Fw%3D%3D%22bu6ZZ5WaNhcPE9Z8ZjEAbA%3D%3D]}}
[2018-08-24T07:52:40,299][INFO ][logstash.outputs.elasticsearch] Running health check to see if an Elasticsearch connection is working {:healthcheck_url=>https://power9-1.bqdc.nanjing:28210/?egoToken=Admin%222018-08-24T07%3A52%3A15Z%22LvC4JqMOpSKHZtY6GRXtNwAPQZpYEQ8YTASbaRJFCggiYYveHgUDN9Q6kD6oW635xWvmR2ZY11bRTAoyJTH6%2Fw%3D%3D%22bu6ZZ5WaNhcPE9Z8ZjEAbA%3D%3D, :path=>"/"}
[2018-08-24T07:52:40,334][WARN ][logstash.outputs.elasticsearch] Restored connection to ES instance {:url=>#<URI::HTTPS:0x71d6cd9c URL:https://power9-1.bqdc.nanjing:28210/?egoToken=Admin%222018-08-24T07%3A52%3A15Z%22LvC4JqMOpSKHZtY6GRXtNwAPQZpYEQ8YTASbaRJFCggiYYveHgUDN9Q6kD6oW635xWvmR2ZY11bRTAoyJTH6%2Fw%3D%3D%22bu6ZZ5WaNhcPE9Z8ZjEAbA%3D%3D>}
[2018-08-24T07:52:40,335][INFO ][logstash.outputs.elasticsearch] Using mapping template from {:path=>nil}
[2018-08-24T07:52:40,344][INFO ][logstash.outputs.elasticsearch] Attempting to install template {:manage_template=>{"template"=>"logstash-*", "version"=>50001, "settings"=>{"index.refresh_interval"=>"5s"}, "mappings"=>{"_default_"=>{"_all"=>{"enabled"=>true, "norms"=>false}, "dynamic_templates"=>[{"message_field"=>{"path_match"=>"message", "match_mapping_type"=>"string", "mapping"=>{"type"=>"text", "norms"=>false}}}, {"string_fields"=>{"match"=>"*", "match_mapping_type"=>"string", "mapping"=>{"type"=>"text", "norms"=>false, "fields"=>{"keyword"=>{"type"=>"keyword"}}}}}], "properties"=>{"@timestamp"=>{"type"=>"date", "include_in_all"=>false}, "@version"=>{"type"=>"keyword", "include_in_all"=>false}, "geoip"=>{"dynamic"=>true, "properties"=>{"ip"=>{"type"=>"ip"}, "location"=>{"type"=>"geo_point"}, "latitude"=>{"type"=>"half_float"}, "longitude"=>{"type"=>"half_float"}}}}}}}}
[2018-08-24T07:52:40,353][INFO ][logstash.outputs.elasticsearch] New Elasticsearch output {:class=>"LogStash::Outputs::ElasticSearch", :hosts=>[#<URI::Generic:0xb475c3d5 URL://power9-1.bqdc.nanjing:28210>]}
[2018-08-24T07:52:40,360][INFO ][logstash.outputs.elasticsearch] Elasticsearch pool URLs updated {:changes=>{:removed=>[], :added=>[https://power9-1.bqdc.nanjing:28210/?egoToken=Admin%222018-08-24T07%3A52%3A15Z%22LvC4JqMOpSKHZtY6GRXtNwAPQZpYEQ8YTASbaRJFCggiYYveHgUDN9Q6kD6oW635xWvmR2ZY11bRTAoyJTH6%2Fw%3D%3D%22bu6ZZ5WaNhcPE9Z8ZjEAbA%3D%3D]}}
[2018-08-24T07:52:40,360][INFO ][logstash.outputs.elasticsearch] Running health check to see if an Elasticsearch connection is working {:healthcheck_url=>https://power9-1.bqdc.nanjing:28210/?egoToken=Admin%222018-08-24T07%3A52%3A15Z%22LvC4JqMOpSKHZtY6GRXtNwAPQZpYEQ8YTASbaRJFCggiYYveHgUDN9Q6kD6oW635xWvmR2ZY11bRTAoyJTH6%2Fw%3D%3D%22bu6ZZ5WaNhcPE9Z8ZjEAbA%3D%3D, :path=>"/"}
[2018-08-24T07:52:40,431][WARN ][logstash.outputs.elasticsearch] Restored connection to ES instance {:url=>#<URI::HTTPS:0xb6af997 URL:https://power9-1.bqdc.nanjing:28210/?egoToken=Admin%222018-08-24T07%3A52%3A15Z%22LvC4JqMOpSKHZtY6GRXtNwAPQZpYEQ8YTASbaRJFCggiYYveHgUDN9Q6kD6oW635xWvmR2ZY11bRTAoyJTH6%2Fw%3D%3D%22bu6ZZ5WaNhcPE9Z8ZjEAbA%3D%3D>}
[2018-08-24T07:52:40,432][INFO ][logstash.outputs.elasticsearch] Using mapping template from {:path=>nil}
[2018-08-24T07:52:40,442][INFO ][logstash.outputs.elasticsearch] Attempting to install template {:manage_template=>{"template"=>"logstash-*", "version"=>50001, "settings"=>{"index.refresh_interval"=>"5s"}, "mappings"=>{"_default_"=>{"_all"=>{"enabled"=>true, "norms"=>false}, "dynamic_templates"=>[{"message_field"=>{"path_match"=>"message", "match_mapping_type"=>"string", "mapping"=>{"type"=>"text", "norms"=>false}}}, {"string_fields"=>{"match"=>"*", "match_mapping_type"=>"string", "mapping"=>{"type"=>"text", "norms"=>false, "fields"=>{"keyword"=>{"type"=>"keyword"}}}}}], "properties"=>{"@timestamp"=>{"type"=>"date", "include_in_all"=>false}, "@version"=>{"type"=>"keyword", "include_in_all"=>false}, "geoip"=>{"dynamic"=>true, "properties"=>{"ip"=>{"type"=>"ip"}, "location"=>{"type"=>"geo_point"}, "latitude"=>{"type"=>"half_float"}, "longitude"=>{"type"=>"half_float"}}}}}}}}
[2018-08-24T07:52:40,450][INFO ][logstash.outputs.elasticsearch] New Elasticsearch output {:class=>"LogStash::Outputs::ElasticSearch", :hosts=>[#<URI::Generic:0x7d6f5745 URL://power9-1.bqdc.nanjing:28210>]}
[2018-08-24T07:52:40,458][INFO ][logstash.outputs.elasticsearch] Elasticsearch pool URLs updated {:changes=>{:removed=>[], :added=>[https://power9-1.bqdc.nanjing:28210/?egoToken=Admin%222018-08-24T07%3A52%3A15Z%22LvC4JqMOpSKHZtY6GRXtNwAPQZpYEQ8YTASbaRJFCggiYYveHgUDN9Q6kD6oW635xWvmR2ZY11bRTAoyJTH6%2Fw%3D%3D%22bu6ZZ5WaNhcPE9Z8ZjEAbA%3D%3D]}}
[2018-08-24T07:52:40,458][INFO ][logstash.outputs.elasticsearch] Running health check to see if an Elasticsearch connection is working {:healthcheck_url=>https://power9-1.bqdc.nanjing:28210/?egoToken=Admin%222018-08-24T07%3A52%3A15Z%22LvC4JqMOpSKHZtY6GRXtNwAPQZpYEQ8YTASbaRJFCggiYYveHgUDN9Q6kD6oW635xWvmR2ZY11bRTAoyJTH6%2Fw%3D%3D%22bu6ZZ5WaNhcPE9Z8ZjEAbA%3D%3D, :path=>"/"}
[2018-08-24T07:52:40,492][WARN ][logstash.outputs.elasticsearch] Restored connection to ES instance {:url=>#<URI::HTTPS:0x62174115 URL:https://power9-1.bqdc.nanjing:28210/?egoToken=Admin%222018-08-24T07%3A52%3A15Z%22LvC4JqMOpSKHZtY6GRXtNwAPQZpYEQ8YTASbaRJFCggiYYveHgUDN9Q6kD6oW635xWvmR2ZY11bRTAoyJTH6%2Fw%3D%3D%22bu6ZZ5WaNhcPE9Z8ZjEAbA%3D%3D>}
[2018-08-24T07:52:40,493][INFO ][logstash.outputs.elasticsearch] Using mapping template from {:path=>nil}
[2018-08-24T07:52:40,502][INFO ][logstash.outputs.elasticsearch] Attempting to install template {:manage_template=>{"template"=>"logstash-*", "version"=>50001, "settings"=>{"index.refresh_interval"=>"5s"}, "mappings"=>{"_default_"=>{"_all"=>{"enabled"=>true, "norms"=>false}, "dynamic_templates"=>[{"message_field"=>{"path_match"=>"message", "match_mapping_type"=>"string", "mapping"=>{"type"=>"text", "norms"=>false}}}, {"string_fields"=>{"match"=>"*", "match_mapping_type"=>"string", "mapping"=>{"type"=>"text", "norms"=>false, "fields"=>{"keyword"=>{"type"=>"keyword"}}}}}], "properties"=>{"@timestamp"=>{"type"=>"date", "include_in_all"=>false}, "@version"=>{"type"=>"keyword", "include_in_all"=>false}, "geoip"=>{"dynamic"=>true, "properties"=>{"ip"=>{"type"=>"ip"}, "location"=>{"type"=>"geo_point"}, "latitude"=>{"type"=>"half_float"}, "longitude"=>{"type"=>"half_float"}}}}}}}}
[2018-08-24T07:52:40,509][INFO ][logstash.outputs.elasticsearch] New Elasticsearch output {:class=>"LogStash::Outputs::ElasticSearch", :hosts=>[#<URI::Generic:0x16bb153e URL://power9-1.bqdc.nanjing:28210>]}
[2018-08-24T07:52:40,516][INFO ][logstash.outputs.elasticsearch] Elasticsearch pool URLs updated {:changes=>{:removed=>[], :added=>[https://power9-1.bqdc.nanjing:28210/?egoToken=Admin%222018-08-24T07%3A52%3A15Z%22LvC4JqMOpSKHZtY6GRXtNwAPQZpYEQ8YTASbaRJFCggiYYveHgUDN9Q6kD6oW635xWvmR2ZY11bRTAoyJTH6%2Fw%3D%3D%22bu6ZZ5WaNhcPE9Z8ZjEAbA%3D%3D]}}
[2018-08-24T07:52:40,516][INFO ][logstash.outputs.elasticsearch] Running health check to see if an Elasticsearch connection is working {:healthcheck_url=>https://power9-1.bqdc.nanjing:28210/?egoToken=Admin%222018-08-24T07%3A52%3A15Z%22LvC4JqMOpSKHZtY6GRXtNwAPQZpYEQ8YTASbaRJFCggiYYveHgUDN9Q6kD6oW635xWvmR2ZY11bRTAoyJTH6%2Fw%3D%3D%22bu6ZZ5WaNhcPE9Z8ZjEAbA%3D%3D, :path=>"/"}
[2018-08-24T07:52:40,550][WARN ][logstash.outputs.elasticsearch] Restored connection to ES instance {:url=>#<URI::HTTPS:0x85b6fa62 URL:https://power9-1.bqdc.nanjing:28210/?egoToken=Admin%222018-08-24T07%3A52%3A15Z%22LvC4JqMOpSKHZtY6GRXtNwAPQZpYEQ8YTASbaRJFCggiYYveHgUDN9Q6kD6oW635xWvmR2ZY11bRTAoyJTH6%2Fw%3D%3D%22bu6ZZ5WaNhcPE9Z8ZjEAbA%3D%3D>}
[2018-08-24T07:52:40,551][INFO ][logstash.outputs.elasticsearch] Using mapping template from {:path=>nil}
[2018-08-24T07:52:40,561][INFO ][logstash.outputs.elasticsearch] Attempting to install template {:manage_template=>{"template"=>"logstash-*", "version"=>50001, "settings"=>{"index.refresh_interval"=>"5s"}, "mappings"=>{"_default_"=>{"_all"=>{"enabled"=>true, "norms"=>false}, "dynamic_templates"=>[{"message_field"=>{"path_match"=>"message", "match_mapping_type"=>"string", "mapping"=>{"type"=>"text", "norms"=>false}}}, {"string_fields"=>{"match"=>"*", "match_mapping_type"=>"string", "mapping"=>{"type"=>"text", "norms"=>false, "fields"=>{"keyword"=>{"type"=>"keyword"}}}}}], "properties"=>{"@timestamp"=>{"type"=>"date", "include_in_all"=>false}, "@version"=>{"type"=>"keyword", "include_in_all"=>false}, "geoip"=>{"dynamic"=>true, "properties"=>{"ip"=>{"type"=>"ip"}, "location"=>{"type"=>"geo_point"}, "latitude"=>{"type"=>"half_float"}, "longitude"=>{"type"=>"half_float"}}}}}}}}
[2018-08-24T07:52:40,568][INFO ][logstash.outputs.elasticsearch] New Elasticsearch output {:class=>"LogStash::Outputs::ElasticSearch", :hosts=>[#<URI::Generic:0x8a86efc5 URL://power9-1.bqdc.nanjing:28210>]}
[2018-08-24T07:52:40,796][INFO ][logstash.pipeline        ] Starting pipeline {"id"=>"main", "pipeline.workers"=>128, "pipeline.batch.size"=>1000, "pipeline.batch.delay"=>5, "pipeline.max_inflight"=>128000}
[2018-08-24T07:52:40,796][WARN ][logstash.pipeline        ] CAUTION: Recommended inflight events max exceeded! Logstash will run with up to 128000 events in memory in your current configuration. If your message sizes are large this may cause instability with the default heap size. Please consider setting a non-standard heap size, changing the batch size (currently 1000), or changing the number of pipeline workers (currently 128)
[2018-08-24T07:52:40,813][INFO ][logstash.inputs.beats    ] Beats inputs: Starting input listener {:address=>"0.0.0.0:28310"}
[2018-08-24T07:52:40,832][INFO ][logstash.pipeline        ] Pipeline main started
~
[root@power9-1 logstash]# ll
total 1484
-rwxr-----. 1 egoadmin egoadmin 1512485 Aug 24 07:52 logstash-plain.log.power9-1.bqdc.nanjing
-rwxr-----. 1 egoadmin egoadmin       0 Aug 22 18:26 logstash-slowlog-plain.log.power9-1.bqdc.nanjing
[root@power9-1 logstash]# cd ..
[root@power9-1 log]# ll
total 84
drwxr-xr-x. 2 egoadmin egoadmin  4096 Aug 23 15:40 elasticsearch
-rw-r--r--. 1 egoadmin egoadmin     0 Aug 22 18:26 es-err.log.client.power9-1.bqdc.nanjing
-rw-r--r--. 1 egoadmin egoadmin     0 Aug 22 18:26 es-err.log.data.power9-1.bqdc.nanjing
-rw-r--r--. 1 egoadmin egoadmin     0 Aug 22 18:26 es-err.log.master.power9-1.bqdc.nanjing
-rw-r--r--. 1 egoadmin egoadmin 11016 Aug 23 17:52 es-out.log.client.power9-1.bqdc.nanjing
-rw-r--r--. 1 egoadmin egoadmin 11136 Aug 23 17:52 es-out.log.data.power9-1.bqdc.nanjing
-rw-r--r--. 1 egoadmin egoadmin 20610 Aug 23 17:52 es-out.log.master.power9-1.bqdc.nanjing
drwxr-x---. 2 root     root      4096 Aug 24 13:48 filebeat
-rw-r--r--. 1 egoadmin egoadmin   120 Aug 22 18:26 indexer-err.log.power9-1.bqdc.nanjing
-rw-r--r--. 1 egoadmin egoadmin  3512 Aug 23 17:52 indexer-out.log.power9-1.bqdc.nanjing
drwxr-----. 2 egoadmin egoadmin  4096 Aug 24 13:49 logstash
-rw-r--r--. 1 egoadmin egoadmin     0 Aug 22 18:25 manager-err.log.power9-1.bqdc.nanjing
-rw-r--r--. 1 egoadmin egoadmin  7987 Aug 24 08:00 manager-out.log.power9-1.bqdc.nanjing
-rw-r--r--. 1 root     root         0 Aug 22 18:26 shipper-err.log.power9-1.bqdc.nanjing
-rw-r--r--. 1 root     root       689 Aug 24 08:10 shipper-out.log.power9-1.bqdc.nanjing
[root@power9-1 log]# cd elasticsearch/
[root@power9-1 elasticsearch]# ll
total 1240
-rw-r--r--. 1 egoadmin egoadmin     348 Aug 23 18:19 elk-CWS221DLI110P9_deprecation.log.client_power9-1.bqdc.nanjing
-rw-r--r--. 1 egoadmin egoadmin       0 Aug 22 18:26 elk-CWS221DLI110P9_deprecation.log.data_power9-1.bqdc.nanjing
-rw-r--r--. 1 egoadmin egoadmin    7314 Aug 23 17:52 elk-CWS221DLI110P9_deprecation.log.master_power9-1.bqdc.nanjing
-rw-r--r--. 1 egoadmin egoadmin       0 Aug 22 18:26 elk-CWS221DLI110P9_index_indexing_slowlog.log.client_power9-1.bqdc.nanjing
-rw-r--r--. 1 egoadmin egoadmin       0 Aug 22 18:26 elk-CWS221DLI110P9_index_indexing_slowlog.log.data_power9-1.bqdc.nanjing
-rw-r--r--. 1 egoadmin egoadmin       0 Aug 22 18:26 elk-CWS221DLI110P9_index_indexing_slowlog.log.master_power9-1.bqdc.nanjing
-rw-r--r--. 1 egoadmin egoadmin       0 Aug 22 18:26 elk-CWS221DLI110P9_index_search_slowlog.log.client_power9-1.bqdc.nanjing
-rw-r--r--. 1 egoadmin egoadmin       0 Aug 22 18:26 elk-CWS221DLI110P9_index_search_slowlog.log.data_power9-1.bqdc.nanjing
-rw-r--r--. 1 egoadmin egoadmin       0 Aug 22 18:26 elk-CWS221DLI110P9_index_search_slowlog.log.master_power9-1.bqdc.nanjing
-rw-r--r--. 1 egoadmin egoadmin  121055 Aug 23 18:19 elk-CWS221DLI110P9.log.client_power9-1.bqdc.nanjing
-rw-r--r--. 1 egoadmin egoadmin  121259 Aug 23 18:19 elk-CWS221DLI110P9.log.data_power9-1.bqdc.nanjing
-rw-r--r--. 1 egoadmin egoadmin 1007448 Aug 23 18:19 elk-CWS221DLI110P9.log.master_power9-1.bqdc.nanjing
[root@power9-1 elasticsearch]# vi elk-CWS221DLI110P9
elk-CWS221DLI110P9_deprecation.log.client_power9-1.bqdc.nanjing             elk-CWS221DLI110P9_index_search_slowlog.log.client_power9-1.bqdc.nanjing
elk-CWS221DLI110P9_deprecation.log.data_power9-1.bqdc.nanjing               elk-CWS221DLI110P9_index_search_slowlog.log.data_power9-1.bqdc.nanjing
elk-CWS221DLI110P9_deprecation.log.master_power9-1.bqdc.nanjing             elk-CWS221DLI110P9_index_search_slowlog.log.master_power9-1.bqdc.nanjing
elk-CWS221DLI110P9_index_indexing_slowlog.log.client_power9-1.bqdc.nanjing  elk-CWS221DLI110P9.log.client_power9-1.bqdc.nanjing
elk-CWS221DLI110P9_index_indexing_slowlog.log.data_power9-1.bqdc.nanjing    elk-CWS221DLI110P9.log.data_power9-1.bqdc.nanjing
elk-CWS221DLI110P9_index_indexing_slowlog.log.master_power9-1.bqdc.nanjing  elk-CWS221DLI110P9.log.master_power9-1.bqdc.nanjing
[root@power9-1 elasticsearch]# vi elk-CWS221DLI110P9
elk-CWS221DLI110P9_deprecation.log.client_power9-1.bqdc.nanjing             elk-CWS221DLI110P9_index_search_slowlog.log.client_power9-1.bqdc.nanjing
elk-CWS221DLI110P9_deprecation.log.data_power9-1.bqdc.nanjing               elk-CWS221DLI110P9_index_search_slowlog.log.data_power9-1.bqdc.nanjing
elk-CWS221DLI110P9_deprecation.log.master_power9-1.bqdc.nanjing             elk-CWS221DLI110P9_index_search_slowlog.log.master_power9-1.bqdc.nanjing
elk-CWS221DLI110P9_index_indexing_slowlog.log.client_power9-1.bqdc.nanjing  elk-CWS221DLI110P9.log.client_power9-1.bqdc.nanjing
elk-CWS221DLI110P9_index_indexing_slowlog.log.data_power9-1.bqdc.nanjing    elk-CWS221DLI110P9.log.data_power9-1.bqdc.nanjing
elk-CWS221DLI110P9_index_indexing_slowlog.log.master_power9-1.bqdc.nanjing  elk-CWS221DLI110P9.log.master_power9-1.bqdc.nanjing
[root@power9-1 elasticsearch]# vi elk-CWS221DLI110P9
elk-CWS221DLI110P9_deprecation.log.client_power9-1.bqdc.nanjing             elk-CWS221DLI110P9_index_search_slowlog.log.client_power9-1.bqdc.nanjing
elk-CWS221DLI110P9_deprecation.log.data_power9-1.bqdc.nanjing               elk-CWS221DLI110P9_index_search_slowlog.log.data_power9-1.bqdc.nanjing
elk-CWS221DLI110P9_deprecation.log.master_power9-1.bqdc.nanjing             elk-CWS221DLI110P9_index_search_slowlog.log.master_power9-1.bqdc.nanjing
elk-CWS221DLI110P9_index_indexing_slowlog.log.client_power9-1.bqdc.nanjing  elk-CWS221DLI110P9.log.client_power9-1.bqdc.nanjing
elk-CWS221DLI110P9_index_indexing_slowlog.log.data_power9-1.bqdc.nanjing    elk-CWS221DLI110P9.log.data_power9-1.bqdc.nanjing
elk-CWS221DLI110P9_index_indexing_slowlog.log.master_power9-1.bqdc.nanjing  elk-CWS221DLI110P9.log.master_power9-1.bqdc.nanjing
[root@power9-1 elasticsearch]# vi elk-CWS221DLI110P9.log.master_power9-1.bqdc.nanjing 
[2018-08-22T18:26:06,904][INFO ][o.e.n.Node               ] [master_power9-1.bqdc.nanjing] initializing ...
[2018-08-22T18:26:07,005][INFO ][o.e.e.NodeEnvironment    ] [master_power9-1.bqdc.nanjing] using [1] data paths, mounts [[/ (/dev/mapper/VolGroup00-lv_root)]], net usable_space [1.1gb], net total_space [49gb], spins? [possibly], types [ext4]
[2018-08-22T18:26:07,005][INFO ][o.e.e.NodeEnvironment    ] [master_power9-1.bqdc.nanjing] heap size [2gb], compressed ordinary object pointers [unknown]
[2018-08-22T18:26:07,007][INFO ][o.e.n.Node               ] [master_power9-1.bqdc.nanjing] node name [master_power9-1.bqdc.nanjing], node ID [y5q4jo60RMyGa7pujuYZCA]
[2018-08-22T18:26:07,007][INFO ][o.e.n.Node               ] [master_power9-1.bqdc.nanjing] version[5.4.2], pid[72243], build[929b078/2017-06-15T02:29:28.122Z], OS[Linux/4.14.0-49.10.1.el7a.ppc64le/ppc64le], JVM[IBM Corporation/IBM J9 VM/1.8.0_171/2.9]
[2018-08-22T18:26:07,007][INFO ][o.e.n.Node               ] [master_power9-1.bqdc.nanjing] JVM arguments [-Xoptionsfile=/opt/cws221/jre/3.6/linux-ppc64le/lib/ppc64le/compressedrefs/options.default, -Xlockword:mode=default,noLockword=java/lang/String,noLockword=java/util/MapEntry,noLockword=java/util/HashMap$Entry,noLockword=org/apache/harmony/luni/util/ModifiedMap$Entry,noLockword=java/util/Hashtable$Entry,noLockword=java/lang/invoke/MethodType,noLockword=java/lang/invoke/MethodHandle,noLockword=java/lang/invoke/CollectHandle,noLockword=java/lang/invoke/ConstructorHandle,noLockword=java/lang/invoke/ConvertHandle,noLockword=java/lang/invoke/ArgumentConversionHandle,noLockword=java/lang/invoke/AsTypeHandle,noLockword=java/lang/invoke/ExplicitCastHandle,noLockword=java/lang/invoke/FilterReturnHandle,noLockword=java/lang/invoke/DirectHandle,noLockword=java/lang/invoke/ReceiverBoundHandle,noLockword=java/lang/invoke/DynamicInvokerHandle,noLockword=java/lang/invoke/FieldHandle,noLockword=java/lang/invoke/FieldGetterHandle,noLockword=java/lang/invoke/FieldSetterHandle,noLockword=java/lang/invoke/StaticFieldGetterHandle,noLockword=java/lang/invoke/StaticFieldSetterHandle,noLockword=java/lang/invoke/IndirectHandle,noLockword=java/lang/invoke/InterfaceHandle,noLockword=java/lang/invoke/VirtualHandle,noLockword=java/lang/invoke/PrimitiveHandle,noLockword=java/lang/invoke/InvokeExactHandle,noLockword=java/lang/invoke/InvokeGenericHandle,noLockword=java/lang/invoke/VarargsCollectorHandle,noLockword=java/lang/invoke/ThunkTuple, -Xjcl:jclse7b_29, -Dcom.ibm.oti.vm.bootstrap.library.path=/opt/cws221/jre/3.6/linux-ppc64le/lib/ppc64le/compressedrefs:/opt/cws221/jre/3.6/linux-ppc64le/lib/ppc64le, -Dsun.boot.library.path=/opt/cws221/jre/3.6/linux-ppc64le/lib/ppc64le/compressedrefs:/opt/cws221/jre/3.6/linux-ppc64le/lib/ppc64le, -Djava.library.path=/opt/cws221/jre/3.6/linux-ppc64le/lib/ppc64le/compressedrefs:/opt/cws221/jre/3.6/linux-ppc64le/lib/ppc64le:/opt/cws221/3.6/linux3.10-glibc2.17-ppc64le/lib:/opt/cws221/3.6/linux3.10-glibc2.17-ppc64le/lib/jni:/usr/lib64:/usr/lib, -Djava.home=/opt/cws221/jre/3.6/linux-ppc64le, -Djava.ext.dirs=/opt/cws221/jre/3.6/linux-ppc64le/lib/ext, -Duser.dir=/opt/cws221/integration/elk/1.4/elasticsearch-5.4.2/bin, -Djava.runtime.version=pxl6480sr5fp16-20180524_01 (SR5 FP16), -Djava.class.path=., -Xms2g, -Xmx2g, -Dlog4j2.disable.jmx=true, -Djava.security.policy=/opt/cws221/integration/elk/1.4/elasticsearch-5.4.2/plugins/search-guard-5/plugin-security.policy, -XX:-HeapDumpOnOutOfMemoryError, -Des.path.home=/opt/cws221/integration/elk/1.4/elasticsearch-5.4.2, -Djava.class.path=/opt/cws221/integration/elk/1.4/elasticsearch-5.4.2/lib/lucene-backward-codecs-6.5.1.jar:/opt/cws221/integration/elk/1.4/elasticsearch-5.4.2/lib/t-digest-3.0.jar:/opt/cws221/integration/elk/1.4/elasticsearch-5.4.2/lib/lucene-analyzers-common-6.5.1.jar:/opt/cws221/integration/elk/1.4/elasticsearch-5.4.2/lib/lucene-queryparser-6.5.1.jar:/opt/cws221/integration/elk/1.4/elasticsearch-5.4.2/lib/joda-time-2.9.5.jar:/opt/cws221/integration/elk/1.4/elasticsearch-5.4.2/lib/log4j-core-2.8.2.jar:/opt/cws221/integration/elk/1.4/elasticsearch-5.4.2/lib/jackson-dataformat-yaml-2.8.6.jar:/opt/cws221/integration/elk/1.4/elasticsearch-5.4.2/lib/jackson-dataformat-smile-2.8.6.jar:/opt/cws221/integration/elk/1.4/elasticsearch-5.4.2/lib/lucene-misc-6.5.1.jar:/opt/cws221/integration/elk/1.4/elasticsearch-5.4.2/lib/lucene-queries-6.5.1.jar:/opt/cws221/integration/elk/1.4/elasticsearch-5.4.2/lib/lucene-suggest-6.5.1.jar:/opt/cws221/integration/elk/1.4/elasticsearch-5.4.2/lib/log4j-1.2-api-2.8.2.jar:/opt/cws221/integration/elk/1.4/elasticsearch-5.4.2/lib/java-version-checker-5.4.2.jar:/opt/cws221/integration/elk/1.4/elasticsearch-5.4.2/lib/lucene-memory-6.5.1.jar:/opt/cws221/integration/elk/1.4/elasticsearch-5.4.2/lib/lucene-spatial-extras-6.5.1.jar:/opt/cws221/integration/elk/1.4/elasticsearch-5.4.2/lib/lucene-core-6.5.1.jar:/opt/cws221/integration/elk/1.4/elasticsearch-5.4.2/lib/spatial4j-0.6.jar:/opt/cws221/integration/elk/1.4/elasticsearch-5.4.2/lib/jackson-dataformat-cbor-2.8.6.jar:/opt/cws221/integration/elk/1.4/elasticsearch-5.4.2/lib/hppc-0.7.1.jar:/opt/cws221/integration/elk/1.4/elasticsearch-5.4.2/lib/lucene-grouping-6.5.1.jar:/opt/cws221/integration/elk/1.4/elasticsearch-5.4.2/lib/log4j-api-2.8.2.jar:/opt/cws221/integration/elk/1.4/elasticsearch-5.4.2/lib/HdrHistogram-2.1.9.jar:/opt/cws221/integration/elk/1.4/elasticsearch-5.4.2/lib/jackson-core-2.8.6.jar:/opt/cws221/integration/elk/1.4/elasticsearch-5.4.2/lib/elasticsearch-5.4.2.jar:/opt/cws221/integration/elk/1.4/elasticsearch-5.4.2/lib/jopt-simple-5.0.2.jar:/opt/cws221/integration/elk/1.4/elasticsearch-5.4.2/lib/lucene-highlighter-6.5.1.jar:/opt/cws221/integration/elk/1.4/elasticsearch-5.4.2/lib/lucene-sandbox-6.5.1.jar:/opt/cws221/integration/elk/1.4/elasticsearch-5.4.2/lib/lucene-spatial3d-6.5.1.jar:/opt/cws221/integration/elk/1.4/elasticsearch-5.4.2/lib/lucene-spatial-6.5.1.jar:/opt/cws221/integration/elk/1.4/elasticsearch-5.4.2/lib/jna-4.4.0.jar:/opt/cws221/integration/elk/1.4/elasticsearch-5.4.2/lib/snakeyaml-1.15.jar:/opt/cws221/integration/elk/1.4/elasticsearch-5.4.2/lib/securesm-1.1.jar:/opt/cws221/integration/elk/1.4/elasticsearch-5.4.2/lib/lucene-join-6.5.1.jar, -Dsun.java.command=org.elasticsearch.bootstrap.Elasticsearch -d -Epath.conf=/opt/cws221/kernel/conf/../../integration/elk/conf/elasticsearch -Epath.logs=/opt/cws221/integration/elk/log/elasticsearch -Enode.master=true -Enode.data=false -Epath.data=/opt/cws221/kernel/conf/../../integration/elk/hosts/es.master -Ecluster.name=elk-CWS221DLI110P9 -Ehttp.port=9201 -Etransport.tcp.port=9301 -Etransport.host=power9-1.bqdc.nanjing -Enode.name=master_power9-1.bqdc.nanjing -Ediscovery.zen.ping.unicast.hosts=power9-1.bqdc.nanjing:9301 -Ediscovery.zen.minimum_master_nodes=1 -Ediscovery.zen.no_master_block=all -Enetwork.bind_host=power9-1.bqdc.nanjing -Ebootstrap.system_call_filter=false, -Dsun.java.launcher=SUN_STANDARD, -Dsun.java.launcher.pid=72243]
[2018-08-22T18:26:08,359][INFO ][c.f.s.SearchGuardPlugin  ] Clustername: elk-CWS221DLI110P9
[2018-08-22T18:26:08,382][INFO ][c.f.s.SearchGuardPlugin  ] Node [master_power9-1.bqdc.nanjing] is a transportClient: false/tribeNode: false/tribeNodeClient: false
[2018-08-22T18:26:09,144][INFO ][c.f.s.s.DefaultSearchGuardKeyStore] Open SSL not available (this is not an error, we simply fallback to built-in JDK SSL) because of java.lang.ClassNotFoundException: io.netty.internal.tcnative.SSL
[2018-08-22T18:26:09,145][INFO ][c.f.s.s.DefaultSearchGuardKeyStore] java.version: 1.8.0_171
[2018-08-22T18:26:09,145][INFO ][c.f.s.s.DefaultSearchGuardKeyStore] java.vendor: IBM Corporation
[2018-08-22T18:26:09,145][INFO ][c.f.s.s.DefaultSearchGuardKeyStore] java.vm.specification.version: 1.8
[2018-08-22T18:26:09,145][INFO ][c.f.s.s.DefaultSearchGuardKeyStore] java.vm.specification.vendor: Oracle Corporation
[2018-08-22T18:26:09,146][INFO ][c.f.s.s.DefaultSearchGuardKeyStore] java.vm.specification.name: Java Virtual Machine Specification
[2018-08-22T18:26:09,146][INFO ][c.f.s.s.DefaultSearchGuardKeyStore] java.vm.name: IBM J9 VM
[2018-08-22T18:26:09,146][INFO ][c.f.s.s.DefaultSearchGuardKeyStore] java.vm.vendor: IBM Corporation
[2018-08-22T18:26:09,146][INFO ][c.f.s.s.DefaultSearchGuardKeyStore] java.specification.version: 1.8
[2018-08-22T18:26:09,146][INFO ][c.f.s.s.DefaultSearchGuardKeyStore] java.specification.vendor: Oracle Corporation
[2018-08-22T18:26:09,146][INFO ][c.f.s.s.DefaultSearchGuardKeyStore] java.specification.name: Java Platform API Specification
[2018-08-22T18:26:09,146][INFO ][c.f.s.s.DefaultSearchGuardKeyStore] os.name: Linux
[2018-08-22T18:26:09,146][INFO ][c.f.s.s.DefaultSearchGuardKeyStore] os.arch: ppc64le
[2018-08-22T18:26:09,147][INFO ][c.f.s.s.DefaultSearchGuardKeyStore] os.version: 4.14.0-49.10.1.el7a.ppc64le
[2018-08-22T18:26:09,260][INFO ][c.f.s.s.DefaultSearchGuardKeyStore] JVM supports the following 66 ciphers for https [TLS_EMPTY_RENEGOTIATION_INFO_SCSV, SSL_ECDHE_ECDSA_WITH_AES_256_CBC_SHA384, SSL_ECDHE_RSA_WITH_AES_256_CBC_SHA384, SSL_RSA_WITH_AES_256_CBC_SHA256, SSL_ECDH_ECDSA_WITH_AES_256_CBC_SHA384, SSL_ECDH_RSA_WITH_AES_256_CBC_SHA384, SSL_DHE_RSA_WITH_AES_256_CBC_SHA256, SSL_DHE_DSS_WITH_AES_256_CBC_SHA256, SSL_ECDHE_ECDSA_WITH_AES_256_CBC_SHA, SSL_ECDHE_RSA_WITH_AES_256_CBC_SHA, SSL_RSA_WITH_AES_256_CBC_SHA, SSL_ECDH_ECDSA_WITH_AES_256_CBC_SHA, SSL_ECDH_RSA_WITH_AES_256_CBC_SHA, SSL_DHE_RSA_WITH_AES_256_CBC_SHA, SSL_DHE_DSS_WITH_AES_256_CBC_SHA, SSL_ECDHE_ECDSA_WITH_AES_128_CBC_SHA256, SSL_ECDHE_RSA_WITH_AES_128_CBC_SHA256, SSL_RSA_WITH_AES_128_CBC_SHA256, SSL_ECDH_ECDSA_WITH_AES_128_CBC_SHA256, SSL_ECDH_RSA_WITH_AES_128_CBC_SHA256, SSL_DHE_RSA_WITH_AES_128_CBC_SHA256, SSL_DHE_DSS_WITH_AES_128_CBC_SHA256, SSL_ECDHE_ECDSA_WITH_AES_128_CBC_SHA, SSL_ECDHE_RSA_WITH_AES_128_CBC_SHA, SSL_RSA_WITH_AES_128_CBC_SHA, SSL_ECDH_ECDSA_WITH_AES_128_CBC_SHA, SSL_ECDH_RSA_WITH_AES_128_CBC_SHA, SSL_DHE_RSA_WITH_AES_128_CBC_SHA, SSL_DHE_DSS_WITH_AES_128_CBC_SHA, SSL_ECDHE_ECDSA_WITH_AES_256_GCM_SHA384, SSL_ECDHE_ECDSA_WITH_AES_128_GCM_SHA256, SSL_ECDHE_RSA_WITH_AES_256_GCM_SHA384, SSL_RSA_WITH_AES_256_GCM_SHA384, SSL_ECDH_ECDSA_WITH_AES_256_GCM_SHA384, SSL_ECDH_RSA_WITH_AES_256_GCM_SHA384, SSL_DHE_DSS_WITH_AES_256_GCM_SHA384, SSL_DHE_RSA_WITH_AES_256_GCM_SHA384, SSL_ECDHE_RSA_WITH_AES_128_GCM_SHA256, SSL_RSA_WITH_AES_128_GCM_SHA256, SSL_ECDH_ECDSA_WITH_AES_128_GCM_SHA256, SSL_ECDH_RSA_WITH_AES_128_GCM_SHA256, SSL_DHE_RSA_WITH_AES_128_GCM_SHA256, SSL_DHE_DSS_WITH_AES_128_GCM_SHA256, SSL_DH_anon_WITH_AES_256_GCM_SHA384, SSL_DH_anon_WITH_AES_128_GCM_SHA256, SSL_DH_anon_WITH_AES_256_CBC_SHA256, SSL_ECDH_anon_WITH_AES_256_CBC_SHA, SSL_DH_anon_WITH_AES_256_CBC_SHA, SSL_DH_anon_WITH_AES_128_CBC_SHA256, SSL_ECDH_anon_WITH_AES_128_CBC_SHA, SSL_DH_anon_WITH_AES_128_CBC_SHA, SSL_RSA_WITH_DES_CBC_SHA, SSL_DHE_RSA_WITH_DES_CBC_SHA, SSL_DHE_DSS_WITH_DES_CBC_SHA, SSL_DH_anon_WITH_DES_CBC_SHA, SSL_RSA_FIPS_WITH_DES_CBC_SHA, SSL_RSA_WITH_NULL_SHA256, SSL_ECDHE_ECDSA_WITH_NULL_SHA, SSL_ECDHE_RSA_WITH_NULL_SHA, SSL_RSA_WITH_NULL_SHA, SSL_ECDH_ECDSA_WITH_NULL_SHA, SSL_ECDH_RSA_WITH_NULL_SHA, SSL_ECDH_anon_WITH_NULL_SHA, SSL_RSA_WITH_NULL_MD5, SSL_KRB5_WITH_DES_CBC_SHA, SSL_KRB5_WITH_DES_CBC_MD5]
@
@
@
:$
[2018-08-23T17:52:19,756][INFO ][o.e.p.PluginsService     ] [master_power9-1.bqdc.nanjing] loaded module [lang-expression]
[2018-08-23T17:52:19,756][INFO ][o.e.p.PluginsService     ] [master_power9-1.bqdc.nanjing] loaded module [lang-groovy]
[2018-08-23T17:52:19,756][INFO ][o.e.p.PluginsService     ] [master_power9-1.bqdc.nanjing] loaded module [lang-mustache]
[2018-08-23T17:52:19,756][INFO ][o.e.p.PluginsService     ] [master_power9-1.bqdc.nanjing] loaded module [lang-painless]
[2018-08-23T17:52:19,756][INFO ][o.e.p.PluginsService     ] [master_power9-1.bqdc.nanjing] loaded module [percolator]
[2018-08-23T17:52:19,756][INFO ][o.e.p.PluginsService     ] [master_power9-1.bqdc.nanjing] loaded module [reindex]
[2018-08-23T17:52:19,756][INFO ][o.e.p.PluginsService     ] [master_power9-1.bqdc.nanjing] loaded module [transport-netty3]
[2018-08-23T17:52:19,757][INFO ][o.e.p.PluginsService     ] [master_power9-1.bqdc.nanjing] loaded module [transport-netty4]
[2018-08-23T17:52:19,757][INFO ][o.e.p.PluginsService     ] [master_power9-1.bqdc.nanjing] loaded plugin [search-guard-5]
[2018-08-23T17:52:20,876][DEBUG][o.e.a.ActionModule       ] Using REST wrapper from plugin com.floragunn.searchguard.SearchGuardPlugin
[2018-08-23T17:52:20,913][INFO ][c.f.s.a.BackendRegistry  ] Register EgoAuthenticationBackend()
[2018-08-23T17:52:20,966][INFO ][o.e.d.DiscoveryModule    ] [master_power9-1.bqdc.nanjing] using discovery type [zen]
[2018-08-23T17:52:21,458][INFO ][o.e.n.Node               ] [master_power9-1.bqdc.nanjing] initialized
[2018-08-23T17:52:21,458][INFO ][o.e.n.Node               ] [master_power9-1.bqdc.nanjing] starting ...
[2018-08-23T17:52:21,759][INFO ][o.e.t.TransportService   ] [master_power9-1.bqdc.nanjing] publish_address {192.168.0.132:9301}, bound_addresses {[fe80::72e2:84ff:fe14:6721]:9301}, {192.168.0.132:9301}
[2018-08-23T17:52:21,766][INFO ][o.e.b.BootstrapChecks    ] [master_power9-1.bqdc.nanjing] bound or publishing to a non-loopback or non-link-local address, enforcing bootstrap checks
[2018-08-23T17:52:24,799][INFO ][o.e.c.s.ClusterService   ] [master_power9-1.bqdc.nanjing] new_master {master_power9-1.bqdc.nanjing}{y5q4jo60RMyGa7pujuYZCA}{4ZqiVLvAT7STBCgu4bIRnw}{power9-1.bqdc.nanjing}{192.168.0.132:9301}, reason: zen-disco-elected-as-master ([0] nodes joined)
[2018-08-23T17:52:24,825][INFO ][c.f.s.h.SearchGuardHttpServerTransport] [master_power9-1.bqdc.nanjing] publish_address {127.0.0.1:9201}, bound_addresses {[fe80::72e2:84ff:fe14:6721]:9201}, {192.168.0.132:9201}
[2018-08-23T17:52:24,827][INFO ][o.e.n.Node               ] [master_power9-1.bqdc.nanjing] started
[2018-08-23T17:52:25,250][INFO ][o.e.g.GatewayService     ] [master_power9-1.bqdc.nanjing] recovered [3] indices into cluster_state
[2018-08-23T17:52:29,447][INFO ][o.e.c.s.ClusterService   ] [master_power9-1.bqdc.nanjing] added {{client_power9-1.bqdc.nanjing}{nioGmAbFTeOiEAVDHxLlHw}{tVSCvKTWSEyhwQweccYH_g}{power9-1.bqdc.nanjing}{192.168.0.132:9300},}, reason: zen-disco-node-join[{client_power9-1.bqdc.nanjing}{nioGmAbFTeOiEAVDHxLlHw}{tVSCvKTWSEyhwQweccYH_g}{power9-1.bqdc.nanjing}{192.168.0.132:9300}]
[2018-08-23T17:52:29,538][INFO ][o.e.c.s.ClusterService   ] [master_power9-1.bqdc.nanjing] added {{data_power9-1.bqdc.nanjing}{fSL3zTIyR-6O3BJWd-y9hg}{hsQmdyjnRTimx-Uc_c5nkg}{power9-1.bqdc.nanjing}{192.168.0.132:9302},}, reason: zen-disco-node-join[{data_power9-1.bqdc.nanjing}{fSL3zTIyR-6O3BJWd-y9hg}{hsQmdyjnRTimx-Uc_c5nkg}{power9-1.bqdc.nanjing}{192.168.0.132:9302}]
[2018-08-23T17:52:31,446][INFO ][o.e.c.r.a.AllocationService] [master_power9-1.bqdc.nanjing] Cluster health status changed from [RED] to [YELLOW] (reason: [shards started [[ibm-cws-ego-activity-c6e868cd-b26f-49e7-91bf-14ac30afb2c8-2018.08.22][1]] ...]).
[2018-08-23T17:52:54,867][INFO ][o.e.c.r.a.DiskThresholdMonitor] [master_power9-1.bqdc.nanjing] low disk watermark [85%] exceeded on [fSL3zTIyR-6O3BJWd-y9hg][data_power9-1.bqdc.nanjing][/opt/cws221/integration/elk/hosts/power9-1.bqdc.nanjing/es.data/nodes/0] free: 5.4gb[11%], replicas will not be assigned to this node
[2018-08-23T17:53:24,892][INFO ][o.e.c.r.a.DiskThresholdMonitor] [master_power9-1.bqdc.nanjing] low disk watermark [85%] exceeded on [fSL3zTIyR-6O3BJWd-y9hg][data_power9-1.bqdc.nanjing][/opt/cws221/integration/elk/hosts/power9-1.bqdc.nanjing/es.data/nodes/0] free: 5.4gb[11%], replicas will not be assigned to this node
[2018-08-23T17:53:54,915][INFO ][o.e.c.r.a.DiskThresholdMonitor] [master_power9-1.bqdc.nanjing] low disk watermark [85%] exceeded on [fSL3zTIyR-6O3BJWd-y9hg][data_power9-1.bqdc.nanjing][/opt/cws221/integration/elk/hosts/power9-1.bqdc.nanjing/es.data/nodes/0] free: 5.4gb[11%], replicas will not be assigned to this node
[2018-08-23T17:54:24,936][INFO ][o.e.c.r.a.DiskThresholdMonitor] [master_power9-1.bqdc.nanjing] low disk watermark [85%] exceeded on [fSL3zTIyR-6O3BJWd-y9hg][data_power9-1.bqdc.nanjing][/opt/cws221/integration/elk/hosts/power9-1.bqdc.nanjing/es.data/nodes/0] free: 5.4gb[11%], replicas will not be assigned to this node
[2018-08-23T17:54:54,954][INFO ][o.e.c.r.a.DiskThresholdMonitor] [master_power9-1.bqdc.nanjing] low disk watermark [85%] exceeded on [fSL3zTIyR-6O3BJWd-y9hg][data_power9-1.bqdc.nanjing][/opt/cws221/integration/elk/hosts/power9-1.bqdc.nanjing/es.data/nodes/0] free: 5.4gb[11%], replicas will not be assigned to this node
[2018-08-23T17:55:24,978][INFO ][o.e.c.r.a.DiskThresholdMonitor] [master_power9-1.bqdc.nanjing] low disk watermark [85%] exceeded on [fSL3zTIyR-6O3BJWd-y9hg][data_power9-1.bqdc.nanjing][/opt/cws221/integration/elk/hosts/power9-1.bqdc.nanjing/es.data/nodes/0] free: 5.4gb[11%], replicas will not be assigned to this node
[2018-08-23T17:55:54,998][INFO ][o.e.c.r.a.DiskThresholdMonitor] [master_power9-1.bqdc.nanjing] low disk watermark [85%] exceeded on [fSL3zTIyR-6O3BJWd-y9hg][data_power9-1.bqdc.nanjing][/opt/cws221/integration/elk/hosts/power9-1.bqdc.nanjing/es.data/nodes/0] free: 5.4gb[11%], replicas will not be assigned to this node
[2018-08-23T17:56:25,021][INFO ][o.e.c.r.a.DiskThresholdMonitor] [master_power9-1.bqdc.nanjing] low disk watermark [85%] exceeded on [fSL3zTIyR-6O3BJWd-y9hg][data_power9-1.bqdc.nanjing][/opt/cws221/integration/elk/hosts/power9-1.bqdc.nanjing/es.data/nodes/0] free: 5.4gb[11%], replicas will not be assigned to this node
[2018-08-23T17:56:55,046][INFO ][o.e.c.r.a.DiskThresholdMonitor] [master_power9-1.bqdc.nanjing] low disk watermark [85%] exceeded on [fSL3zTIyR-6O3BJWd-y9hg][data_power9-1.bqdc.nanjing][/opt/cws221/integration/elk/hosts/power9-1.bqdc.nanjing/es.data/nodes/0] free: 5.4gb[11%], replicas will not be assigned to this node
[2018-08-23T17:57:25,070][INFO ][o.e.c.r.a.DiskThresholdMonitor] [master_power9-1.bqdc.nanjing] low disk watermark [85%] exceeded on [fSL3zTIyR-6O3BJWd-y9hg][data_power9-1.bqdc.nanjing][/opt/cws221/integration/elk/hosts/power9-1.bqdc.nanjing/es.data/nodes/0] free: 5.4gb[11%], replicas will not be assigned to this node
[2018-08-23T17:57:55,089][INFO ][o.e.c.r.a.DiskThresholdMonitor] [master_power9-1.bqdc.nanjing] low disk watermark [85%] exceeded on [fSL3zTIyR-6O3BJWd-y9hg][data_power9-1.bqdc.nanjing][/opt/cws221/integration/elk/hosts/power9-1.bqdc.nanjing/es.data/nodes/0] free: 5.4gb[11%], replicas will not be assigned to this node
[2018-08-23T17:58:25,110][INFO ][o.e.c.r.a.DiskThresholdMonitor] [master_power9-1.bqdc.nanjing] low disk watermark [85%] exceeded on [fSL3zTIyR-6O3BJWd-y9hg][data_power9-1.bqdc.nanjing][/opt/cws221/integration/elk/hosts/power9-1.bqdc.nanjing/es.data/nodes/0] free: 5.4gb[11%], replicas will not be assigned to this node
[2018-08-23T17:58:55,131][INFO ][o.e.c.r.a.DiskThresholdMonitor] [master_power9-1.bqdc.nanjing] low disk watermark [85%] exceeded on [fSL3zTIyR-6O3BJWd-y9hg][data_power9-1.bqdc.nanjing][/opt/cws221/integration/elk/hosts/power9-1.bqdc.nanjing/es.data/nodes/0] free: 5.4gb[11%], replicas will not be assigned to this node
[2018-08-23T17:59:25,152][INFO ][o.e.c.r.a.DiskThresholdMonitor] [master_power9-1.bqdc.nanjing] low disk watermark [85%] exceeded on [fSL3zTIyR-6O3BJWd-y9hg][data_power9-1.bqdc.nanjing][/opt/cws221/integration/elk/hosts/power9-1.bqdc.nanjing/es.data/nodes/0] free: 5.4gb[11%], replicas will not be assigned to this node
[2018-08-23T17:59:55,171][INFO ][o.e.c.r.a.DiskThresholdMonitor] [master_power9-1.bqdc.nanjing] low disk watermark [85%] exceeded on [fSL3zTIyR-6O3BJWd-y9hg][data_power9-1.bqdc.nanjing][/opt/cws221/integration/elk/hosts/power9-1.bqdc.nanjing/es.data/nodes/0] free: 5.4gb[11%], replicas will not be assigned to this node
[2018-08-23T18:00:25,192][INFO ][o.e.c.r.a.DiskThresholdMonitor] [master_power9-1.bqdc.nanjing] low disk watermark [85%] exceeded on [fSL3zTIyR-6O3BJWd-y9hg][data_power9-1.bqdc.nanjing][/opt/cws221/integration/elk/hosts/power9-1.bqdc.nanjing/es.data/nodes/0] free: 5.4gb[11%], replicas will not be assigned to this node
[2018-08-23T18:00:55,208][INFO ][o.e.c.r.a.DiskThresholdMonitor] [master_power9-1.bqdc.nanjing] low disk watermark [85%] exceeded on [fSL3zTIyR-6O3BJWd-y9hg][data_power9-1.bqdc.nanjing][/opt/cws221/integration/elk/hosts/power9-1.bqdc.nanjing/es.data/nodes/0] free: 5.4gb[11%], replicas will not be assigned to this node
[2018-08-23T18:01:25,231][INFO ][o.e.c.r.a.DiskThresholdMonitor] [master_power9-1.bqdc.nanjing] low disk watermark [85%] exceeded on [fSL3zTIyR-6O3BJWd-y9hg][data_power9-1.bqdc.nanjing][/opt/cws221/integration/elk/hosts/power9-1.bqdc.nanjing/es.data/nodes/0] free: 5.4gb[11%], replicas will not be assigned to this node
[2018-08-23T18:01:42,797][INFO ][o.e.c.s.ClusterSettings  ] [master_power9-1.bqdc.nanjing] updating [cluster.routing.allocation.disk.watermark.low] from [85%] to [95%]
[2018-08-23T18:01:42,797][INFO ][o.e.c.s.ClusterSettings  ] [master_power9-1.bqdc.nanjing] updating [cluster.routing.allocation.disk.watermark.low] from [85%] to [95%]
[2018-08-23T18:01:55,246][INFO ][o.e.c.r.a.DiskThresholdMonitor] [master_power9-1.bqdc.nanjing] rerouting shards: [one or more nodes has gone under the high or low watermark]
[2018-08-23T18:19:42,534][INFO ][o.e.c.s.ClusterSettings  ] [master_power9-1.bqdc.nanjing] updating [cluster.routing.allocation.disk.watermark.low] from [95%] to [99%]
[2018-08-23T18:19:42,534][INFO ][o.e.c.s.ClusterSettings  ] [master_power9-1.bqdc.nanjing] updating [cluster.routing.allocation.disk.watermark.low] from [95%] to [99%]
[root@power9-1 elasticsearch]# cd ../../
[root@power9-1 elk]# ll
total 152
drwxrwxr-x. 8 egoadmin egoadmin   4096 Aug 22 17:20 1.4
drwxr-xr-x. 4 egoadmin egoadmin   4096 Aug 22 17:20 activation
drwxr-sr-x. 9 egoadmin egoadmin   4096 Aug 23 17:55 conf
-rw-rw-r--. 1 egoadmin egoadmin 128966 Aug 23 16:09 elk-log.tar.gz
drwxr-xr-x. 4 egoadmin egoadmin   4096 Aug 22 18:26 hosts
drwxr-sr-x. 3 egoadmin egoadmin   4096 Aug 22 17:20 init
drwxr-xr-x. 5 egoadmin egoadmin   4096 Aug 24 13:46 log
[root@power9-1 elk]# cd conf/shipper/
[root@power9-1 shipper]# ll
total 8
-rw-r--r--. 1 egoadmin egoadmin 1607 Dec  1  2017 conductor.yml
-rw-r--r--. 1 egoadmin egoadmin  399 Aug 23 11:04 dlmao_shipper.yml
[root@power9-1 shipper]# vi dlmao_shipper.yml 
filebeat:
  prospectors:
    -
      paths:
        - "@ELK_HARVEST_LOCATION@/*.*.*/app-*/*/stderr*"
        - "@ELASTIC_HARVEST_LOCATION@/*.*/app-*/*.@EGOSC_INSTANCE_HOST@/stderr*"
      document_type: spark_executor_work
      multiline:
          pattern: '(.*Train net output.*)|(.*Test net output.*)'
          negate: false
          match: after
          timeout: 60s
output:

~
~
~
~
~
~
~
~
~
~
~
~
~
~
~
~
~
~
~
~
~
~
~
~
~
~
~
~
~
~
~
~
~
~
~
~
~
~
~
~
~
~
~
~
~
~
~
~
~
~
~
~
~
~
[root@power9-1 shipper]# ll
total 8
-rw-r--r--. 1 egoadmin egoadmin 1607 Dec  1  2017 conductor.yml
-rw-r--r--. 1 egoadmin egoadmin  399 Aug 23 11:04 dlmao_shipper.yml
[root@power9-1 shipper]# vi conductor.yml 
filebeat:
  prospectors:
    -
      paths:
        - "@ELK_HARVEST_LOCATION@/cws_ego.*"
        - "@ELK_HARVEST_LOCATION@/*/cws_ego.*"
        - "@ELASTIC_HARVEST_LOCATION@/*/cws_ego.*.@EGOSC_INSTANCE_HOST@.*"
      document_type: cws-ego-log
      ignore_older: 72h
      clean_inactive: 73h
    -
      paths:
        - "@ELK_HARVEST_LOCATION@/conductor.*"
        - "@ELK_HARVEST_LOCATION@/*/conductor.*"
        - "@ELASTIC_HARVEST_LOCATION@/*/conductor.*.@EGOSC_INSTANCE_HOST@.*"
      document_type: spark-essential-log
      include_lines: ['^\x5Bapp\x5D (.*) slots:']
      ignore_older: 72h
      clean_inactive: 73h
    -
      paths:
        - "@ELK_HARVEST_LOCATION@/*.*.*/app-*/*/stderr*"
        - "@ELASTIC_HARVEST_LOCATION@/*.*/app-*/*.@EGOSC_INSTANCE_HOST@/stderr*"
      document_type: spark-executor-log
      include_lines: ['type=GAUGE, name=(.*)\x2eexecutor\x2ethreadpool\x2e(completeTasks|activeTasks), value=', 'Executor: \x5Btask\x5D \x5B(finished|failed|killed)\x5D', '(WARN|ERROR)', '^(SLF4J|org\x2eapache\x2espark\x2eSparkException):']
      fields:
          timezone: "@TIMEZONE@"
      ignore_older: 72h
      clean_inactive: 73h
    -
      paths:
        - "@ELK_HARVEST_LOCATION@/*.*.*/driver-*/stderr*"
        - "@ELASTIC_HARVEST_LOCATION@/*.*/driver-*.@EGOSC_INSTANCE_HOST@/stderr*"
      document_type: spark-driver-log
      include_lines: ['TaskSetManager: \x5Btask\x5D \x5Bfailed\x5D', '(WARN|ERROR)', '^(SLF4J|org\x2eapache\x2espark\x2eSparkException):']
      fields:
          timezone: "@TIMEZONE@"
      ignore_older: 72h
      clean_inactive: 73h

output:

~
~
~
~
~
~
~
~
~
~
~
~
~
~
~
~
~
~
~
~
~
~
~
~
~
"conductor.yml" 42L, 1608C written
[root@power9-1 shipper]# egosh service stop elk-shipper
Service <elk-shipper> has been stopped successfully
[root@power9-1 shipper]# cd ../../log/filebeat/
[root@power9-1 filebeat]# cd ..
[root@power9-1 log]# ll
total 84
drwxr-xr-x. 2 egoadmin egoadmin  4096 Aug 24 13:50 elasticsearch
-rw-r--r--. 1 egoadmin egoadmin     0 Aug 22 18:26 es-err.log.client.power9-1.bqdc.nanjing
-rw-r--r--. 1 egoadmin egoadmin     0 Aug 22 18:26 es-err.log.data.power9-1.bqdc.nanjing
-rw-r--r--. 1 egoadmin egoadmin     0 Aug 22 18:26 es-err.log.master.power9-1.bqdc.nanjing
-rw-r--r--. 1 egoadmin egoadmin 11016 Aug 23 17:52 es-out.log.client.power9-1.bqdc.nanjing
-rw-r--r--. 1 egoadmin egoadmin 11136 Aug 23 17:52 es-out.log.data.power9-1.bqdc.nanjing
-rw-r--r--. 1 egoadmin egoadmin 20610 Aug 23 17:52 es-out.log.master.power9-1.bqdc.nanjing
drwxr-x---. 2 root     root      4096 Aug 24 13:48 filebeat
-rw-r--r--. 1 egoadmin egoadmin   120 Aug 22 18:26 indexer-err.log.power9-1.bqdc.nanjing
-rw-r--r--. 1 egoadmin egoadmin  3512 Aug 23 17:52 indexer-out.log.power9-1.bqdc.nanjing
drwxr-----. 2 egoadmin egoadmin  4096 Aug 24 13:49 logstash
-rw-r--r--. 1 egoadmin egoadmin     0 Aug 22 18:25 manager-err.log.power9-1.bqdc.nanjing
-rw-r--r--. 1 egoadmin egoadmin  7987 Aug 24 08:00 manager-out.log.power9-1.bqdc.nanjing
-rw-r--r--. 1 root     root         0 Aug 22 18:26 shipper-err.log.power9-1.bqdc.nanjing
-rw-r--r--. 1 root     root       742 Aug 24 13:53 shipper-out.log.power9-1.bqdc.nanjing
[root@power9-1 log]# mv filebeat filebeat.bak
[root@power9-1 log]# egosh service start elk-shipepr
Cannot start service <elk-shipepr>. Service does not exist.
[root@power9-1 log]# egosh service start elk-shipper
Starting service <elk-shipper>. Run <service view> to ensure startup
[root@power9-1 log]# ll
total 84
drwxr-xr-x. 2 egoadmin egoadmin  4096 Aug 24 13:50 elasticsearch
-rw-r--r--. 1 egoadmin egoadmin     0 Aug 22 18:26 es-err.log.client.power9-1.bqdc.nanjing
-rw-r--r--. 1 egoadmin egoadmin     0 Aug 22 18:26 es-err.log.data.power9-1.bqdc.nanjing
-rw-r--r--. 1 egoadmin egoadmin     0 Aug 22 18:26 es-err.log.master.power9-1.bqdc.nanjing
-rw-r--r--. 1 egoadmin egoadmin 11016 Aug 23 17:52 es-out.log.client.power9-1.bqdc.nanjing
-rw-r--r--. 1 egoadmin egoadmin 11136 Aug 23 17:52 es-out.log.data.power9-1.bqdc.nanjing
-rw-r--r--. 1 egoadmin egoadmin 20610 Aug 23 17:52 es-out.log.master.power9-1.bqdc.nanjing
drwxr-x---. 2 root     root      4096 Aug 24 13:48 filebeat.bak
-rw-r--r--. 1 egoadmin egoadmin   120 Aug 22 18:26 indexer-err.log.power9-1.bqdc.nanjing
-rw-r--r--. 1 egoadmin egoadmin  3512 Aug 23 17:52 indexer-out.log.power9-1.bqdc.nanjing
drwxr-----. 2 egoadmin egoadmin  4096 Aug 24 13:49 logstash
-rw-r--r--. 1 egoadmin egoadmin     0 Aug 22 18:25 manager-err.log.power9-1.bqdc.nanjing
-rw-r--r--. 1 egoadmin egoadmin  7987 Aug 24 08:00 manager-out.log.power9-1.bqdc.nanjing
-rw-r--r--. 1 root     root         0 Aug 22 18:26 shipper-err.log.power9-1.bqdc.nanjing
-rw-r--r--. 1 root     root       742 Aug 24 13:53 shipper-out.log.power9-1.bqdc.nanjing
[root@power9-1 log]# ll
total 88
drwxr-xr-x. 2 egoadmin egoadmin  4096 Aug 24 13:50 elasticsearch
-rw-r--r--. 1 egoadmin egoadmin     0 Aug 22 18:26 es-err.log.client.power9-1.bqdc.nanjing
-rw-r--r--. 1 egoadmin egoadmin     0 Aug 22 18:26 es-err.log.data.power9-1.bqdc.nanjing
-rw-r--r--. 1 egoadmin egoadmin     0 Aug 22 18:26 es-err.log.master.power9-1.bqdc.nanjing
-rw-r--r--. 1 egoadmin egoadmin 11016 Aug 23 17:52 es-out.log.client.power9-1.bqdc.nanjing
-rw-r--r--. 1 egoadmin egoadmin 11136 Aug 23 17:52 es-out.log.data.power9-1.bqdc.nanjing
-rw-r--r--. 1 egoadmin egoadmin 20610 Aug 23 17:52 es-out.log.master.power9-1.bqdc.nanjing
drwxr-x---. 2 root     root      4096 Aug 24 13:54 filebeat
drwxr-x---. 2 root     root      4096 Aug 24 13:48 filebeat.bak
-rw-r--r--. 1 egoadmin egoadmin   120 Aug 22 18:26 indexer-err.log.power9-1.bqdc.nanjing
-rw-r--r--. 1 egoadmin egoadmin  3512 Aug 23 17:52 indexer-out.log.power9-1.bqdc.nanjing
drwxr-----. 2 egoadmin egoadmin  4096 Aug 24 13:49 logstash
-rw-r--r--. 1 egoadmin egoadmin     0 Aug 22 18:25 manager-err.log.power9-1.bqdc.nanjing
-rw-r--r--. 1 egoadmin egoadmin  7987 Aug 24 08:00 manager-out.log.power9-1.bqdc.nanjing
-rw-r--r--. 1 root     root         0 Aug 22 18:26 shipper-err.log.power9-1.bqdc.nanjing
-rw-r--r--. 1 root     root       795 Aug 24 13:54 shipper-out.log.power9-1.bqdc.nanjing
[root@power9-1 log]# cd filebeat
[root@power9-1 filebeat]# ll
total 16
-rw-------. 1 root root 12325 Aug 24 13:55 filebeat.log.power9-1.bqdc.nanjing
[root@power9-1 filebeat]# tail -f filebeat.log.power9-1.bqdc.nanjing 
2018-08-24T13:54:59+08:00 INFO Harvester started for file: /opt/cws221/elastic_logs/c6e868cd-b26f-49e7-91bf-14ac30afb2c8.SIG161/driver-20180823134150-0004-2a393a50-d27d-448e-8e91-97720071b0de.power9-1.bqdc.nanjing/stderr
2018-08-24T13:54:59+08:00 WARN SSL/TLS verifications disabled.
2018-08-24T13:54:59+08:00 WARN DNS lookup failure "power9-1.bqdc.nanjing": lookup power9-1.bqdc.nanjing on 192.168.0.1:53: no such host
2018-08-24T13:54:59+08:00 ERR Connecting error publishing events (retrying): lookup power9-1.bqdc.nanjing on 192.168.0.1:53: no such host
2018-08-24T13:55:01+08:00 WARN DNS lookup failure "power9-1.bqdc.nanjing": lookup power9-1.bqdc.nanjing on 192.168.0.1:53: no such host
2018-08-24T13:55:01+08:00 ERR Connecting error publishing events (retrying): lookup power9-1.bqdc.nanjing on 192.168.0.1:53: no such host
2018-08-24T13:55:03+08:00 WARN DNS lookup failure "power9-1.bqdc.nanjing": lookup power9-1.bqdc.nanjing on 192.168.0.1:53: no such host
2018-08-24T13:55:03+08:00 ERR Connecting error publishing events (retrying): lookup power9-1.bqdc.nanjing on 192.168.0.1:53: no such host
2018-08-24T13:55:12+08:00 WARN DNS lookup failure "power9-1.bqdc.nanjing": lookup power9-1.bqdc.nanjing on 192.168.0.1:53: no such host
2018-08-24T13:55:12+08:00 ERR Connecting error publishing events (retrying): lookup power9-1.bqdc.nanjing on 192.168.0.1:53: no such host
2018-08-24T13:55:20+08:00 WARN DNS lookup failure "power9-1.bqdc.nanjing": lookup power9-1.bqdc.nanjing on 192.168.0.1:53: no such host
2018-08-24T13:55:20+08:00 ERR Connecting error publishing events (retrying): lookup power9-1.bqdc.nanjing on 192.168.0.1:53: no such host
2018-08-24T13:55:29+08:00 INFO Non-zero metrics in the last 30s: filebeat.harvester.open_files=37 filebeat.harvester.running=37 filebeat.harvester.started=37 libbeat.publisher.published_events=669
2018-08-24T13:55:36+08:00 WARN DNS lookup failure "power9-1.bqdc.nanjing": lookup power9-1.bqdc.nanjing on 192.168.0.1:53: no such host
2018-08-24T13:55:36+08:00 ERR Connecting error publishing events (retrying): lookup power9-1.bqdc.nanjing on 192.168.0.1:53: no such host
2018-08-24T13:55:59+08:00 INFO No non-zero metrics in the last 30s
2018-08-24T13:56:08+08:00 WARN DNS lookup failure "power9-1.bqdc.nanjing": lookup power9-1.bqdc.nanjing on 192.168.0.1:53: no such host
2018-08-24T13:56:08+08:00 ERR Connecting error publishing events (retrying): lookup power9-1.bqdc.nanjing on 192.168.0.1:53: no such host
^C
[root@power9-1 filebeat]# ping power901.bqdc.nanjing

























^C
[root@power9-1 filebeat]# ping power9-1.bqdc.nanjing
PING power9-1.bqdc.nanjing (192.168.0.132) 56(84) bytes of data.
64 bytes from power9-1.bqdc.nanjing (192.168.0.132): icmp_seq=1 ttl=64 time=0.031 ms

64 bytes from power9-1.bqdc.nanjing (192.168.0.132): icmp_seq=2 ttl=64 time=0.013 ms
64 bytes from power9-1.bqdc.nanjing (192.168.0.132): icmp_seq=3 ttl=64 time=0.007 ms



64 bytes from power9-1.bqdc.nanjing (192.168.0.132): icmp_seq=4 ttl=64 time=0.014 ms



64 bytes from power9-1.bqdc.nanjing (192.168.0.132): icmp_seq=5 ttl=64 time=0.025 ms
64 bytes from power9-1.bqdc.nanjing (192.168.0.132): icmp_seq=6 ttl=64 time=0.027 ms
64 bytes from power9-1.bqdc.nanjing (192.168.0.132): icmp_seq=7 ttl=64 time=0.022 ms
64 bytes from power9-1.bqdc.nanjing (192.168.0.132): icmp_seq=8 ttl=64 time=0.034 ms
64 bytes from power9-1.bqdc.nanjing (192.168.0.132): icmp_seq=9 ttl=64 time=0.023 ms
64 bytes from power9-1.bqdc.nanjing (192.168.0.132): icmp_seq=10 ttl=64 time=0.014 ms
64 bytes from power9-1.bqdc.nanjing (192.168.0.132): icmp_seq=11 ttl=64 time=0.015 ms
64 bytes from power9-1.bqdc.nanjing (192.168.0.132): icmp_seq=12 ttl=64 time=0.024 ms
64 bytes from power9-1.bqdc.nanjing (192.168.0.132): icmp_seq=13 ttl=64 time=0.024 ms
64 bytes from power9-1.bqdc.nanjing (192.168.0.132): icmp_seq=14 ttl=64 time=0.014 ms
64 bytes from power9-1.bqdc.nanjing (192.168.0.132): icmp_seq=15 ttl=64 time=0.021 ms


64 bytes from power9-1.bqdc.nanjing (192.168.0.132): icmp_seq=16 ttl=64 time=0.021 ms




64 bytes from power9-1.bqdc.nanjing (192.168.0.132): icmp_seq=17 ttl=64 time=0.023 ms



64 bytes from power9-1.bqdc.nanjing (192.168.0.132): icmp_seq=18 ttl=64 time=0.024 ms



64 bytes from power9-1.bqdc.nanjing (192.168.0.132): icmp_seq=19 ttl=64 time=0.019 ms



64 bytes from power9-1.bqdc.nanjing (192.168.0.132): icmp_seq=20 ttl=64 time=0.029 ms
64 bytes from power9-1.bqdc.nanjing (192.168.0.132): icmp_seq=21 ttl=64 time=0.034 ms
64 bytes from power9-1.bqdc.nanjing (192.168.0.132): icmp_seq=22 ttl=64 time=0.015 ms
64 bytes from power9-1.bqdc.nanjing (192.168.0.132): icmp_seq=23 ttl=64 time=0.011 ms
64 bytes from power9-1.bqdc.nanjing (192.168.0.132): icmp_seq=24 ttl=64 time=0.033 ms
64 bytes from power9-1.bqdc.nanjing (192.168.0.132): icmp_seq=25 ttl=64 time=0.024 ms
64 bytes from power9-1.bqdc.nanjing (192.168.0.132): icmp_seq=26 ttl=64 time=0.010 ms
64 bytes from power9-1.bqdc.nanjing (192.168.0.132): icmp_seq=27 ttl=64 time=0.017 ms
64 bytes from power9-1.bqdc.nanjing (192.168.0.132): icmp_seq=28 ttl=64 time=0.019 ms
64 bytes from power9-1.bqdc.nanjing (192.168.0.132): icmp_seq=29 ttl=64 time=0.030 ms
64 bytes from power9-1.bqdc.nanjing (192.168.0.132): icmp_seq=30 ttl=64 time=0.021 ms
64 bytes from power9-1.bqdc.nanjing (192.168.0.132): icmp_seq=31 ttl=64 time=0.012 ms
64 bytes from power9-1.bqdc.nanjing (192.168.0.132): icmp_seq=32 ttl=64 time=0.010 ms
64 bytes from power9-1.bqdc.nanjing (192.168.0.132): icmp_seq=33 ttl=64 time=0.009 ms
64 bytes from power9-1.bqdc.nanjing (192.168.0.132): icmp_seq=34 ttl=64 time=0.009 ms
64 bytes from power9-1.bqdc.nanjing (192.168.0.132): icmp_seq=35 ttl=64 time=0.024 ms
64 bytes from power9-1.bqdc.nanjing (192.168.0.132): icmp_seq=36 ttl=64 time=0.023 ms
64 bytes from power9-1.bqdc.nanjing (192.168.0.132): icmp_seq=37 ttl=64 time=0.043 ms
64 bytes from power9-1.bqdc.nanjing (192.168.0.132): icmp_seq=38 ttl=64 time=0.014 ms
^C
--- power9-1.bqdc.nanjing ping statistics ---
38 packets transmitted, 38 received, 0% packet loss, time 38418ms
rtt min/avg/max/mdev = 0.007/0.020/0.043/0.009 ms
[root@power9-1 filebeat]# vi filebeat.log.power9-1.bqdc.nanjing filebeat.log.power9-1.bqdc.nanjing filebeat.log.power9-1.bqdc.nanjing filebeat.log.power9-1.bqdc.nanjing filebeat.log.power9-1.bqdc.nanjing filebeat.log.power9-1.bqdc.nanjing 
6 files to edit
2018-08-24T13:54:59+08:00 INFO Metrics logging every 30s
2018-08-24T13:54:59+08:00 INFO Home path: [/opt/cws221/integration/elk/1.4/filebeat-5.4.2-linux-ppc64le] Config path: [/opt/cws221/integration/elk/hosts/power9-1.bqdc.nanjing/shipper] Data path: [/opt/cws221/integration/elk/hosts/power9-1.bqdc.nanjing/shipper/data] Logs path: [/opt/cws221/integration/elk/log/filebeat]
2018-08-24T13:54:59+08:00 INFO Setup Beat: filebeat; Version: 5.4.2
2018-08-24T13:54:59+08:00 INFO Max Retries set to: 3
2018-08-24T13:54:59+08:00 INFO Activated logstash as output plugin.
2018-08-24T13:54:59+08:00 INFO Publisher name: power9-1.bqdc.nanjing
2018-08-24T13:54:59+08:00 INFO Flush Interval set to: 1s
2018-08-24T13:54:59+08:00 INFO Max Bulk Size set to: 2048
2018-08-24T13:54:59+08:00 INFO Additional config files are fetched from: /opt/cws221/integration/elk/hosts/power9-1.bqdc.nanjing/shipper/conf
2018-08-24T13:54:59+08:00 INFO Additional configs loaded from: /opt/cws221/integration/elk/hosts/power9-1.bqdc.nanjing/shipper/conf/conductor.yml
2018-08-24T13:54:59+08:00 INFO Additional configs loaded from: /opt/cws221/integration/elk/hosts/power9-1.bqdc.nanjing/shipper/conf/dlmao_shipper.yml
2018-08-24T13:54:59+08:00 INFO filebeat start running.
2018-08-24T13:54:59+08:00 INFO Registry file set to: /opt/cws221/integration/elk/hosts/power9-1.bqdc.nanjing/shipper/data/registry
2018-08-24T13:54:59+08:00 INFO Loading registrar data from /opt/cws221/integration/elk/hosts/power9-1.bqdc.nanjing/shipper/data/registry
2018-08-24T13:54:59+08:00 INFO States Loaded from registrar: 3
2018-08-24T13:54:59+08:00 INFO Loading Prospectors: 5
2018-08-24T13:54:59+08:00 INFO Starting Registrar
2018-08-24T13:54:59+08:00 INFO Start sending events to output
2018-08-24T13:54:59+08:00 INFO Prospector with previous states loaded: 3
2018-08-24T13:54:59+08:00 INFO Starting spooler: spool_size: 2048; idle_timeout: 5s
2018-08-24T13:54:59+08:00 INFO Starting prospector of type: log; id: 6808117022014816329
2018-08-24T13:54:59+08:00 INFO Prospector with previous states loaded: 0
2018-08-24T13:54:59+08:00 INFO Starting prospector of type: log; id: 1871423471722972230
2018-08-24T13:54:59+08:00 INFO Prospector with previous states loaded: 0
2018-08-24T13:54:59+08:00 INFO Starting prospector of type: log; id: 16279603181170572078
2018-08-24T13:54:59+08:00 INFO Prospector with previous states loaded: 0
2018-08-24T13:54:59+08:00 INFO Starting prospector of type: log; id: 2716880446245317665
2018-08-24T13:54:59+08:00 INFO Harvester started for file: /opt/cws221/elastic_logs/c6e868cd-b26f-49e7-91bf-14ac30afb2c8.SIG161/cws_ego.SIG161-sparkms-batch.3.power9-1.bqdc.nanjing.20180823
2018-08-24T13:54:59+08:00 INFO Prospector with previous states loaded: 0
2018-08-24T13:54:59+08:00 INFO Harvester started for file: /opt/cws221/elastic_logs/c6e868cd-b26f-49e7-91bf-14ac30afb2c8.SIG161/cws_ego.SIG161-sparkms-batch.1.power9-1.bqdc.nanjing.20180822
2018-08-24T13:54:59+08:00 INFO Harvester started for file: /opt/cws221/elastic_logs/c6e868cd-b26f-49e7-91bf-14ac30afb2c8.SIG161/cws_ego.SIG161-sparkms-batch.1.power9-1.bqdc.nanjing.20180823
2018-08-24T13:54:59+08:00 INFO Starting prospector of type: log; id: 10089714921555208633
2018-08-24T13:54:59+08:00 INFO Loading and starting Prospectors completed. Enabled prospectors: 5
2018-08-24T13:54:59+08:00 INFO Harvester started for file: /opt/cws221/elastic_logs/c6e868cd-b26f-49e7-91bf-14ac30afb2c8.SIG161/cws_ego.SIG161-sparkms-batch.2.power9-1.bqdc.nanjing.20180823
2018-08-24T13:54:59+08:00 INFO Harvester started for file: /opt/cws221/elastic_logs/c6e868cd-b26f-49e7-91bf-14ac30afb2c8.SIG161/app-20180822201654-0001-5d30008e-a357-4986-9b0f-8b1238e1bf41/0-882e91e5-da73-49a9-8f32-cb41a6035ff1.power9-1.bqdc.nanjing/stderr
2018-08-24T13:54:59+08:00 INFO Harvester started for file: /opt/cws221/elastic_logs/c6e868cd-b26f-49e7-91bf-14ac30afb2c8.SIG161/app-20180823120624-0001-076ef82e-bfed-48f3-a949-e1d51ad1c2f5/0-7ba0c877-0612-40ea-a941-267026d14a94.power9-1.bqdc.nanjing/stderr
2018-08-24T13:54:59+08:00 INFO Harvester started for file: /opt/cws221/elastic_logs/c6e868cd-b26f-49e7-91bf-14ac30afb2c8.SIG161/app-20180823182138-0000-56f0b09a-c06e-4c92-aa9c-d8b146009ff1/0-0f8d8829-9131-4552-9ebf-8a8112727c97.power9-1.bqdc.nanjing/stderr
2018-08-24T13:54:59+08:00 INFO Harvester started for file: /opt/cws221/elastic_logs/c6e868cd-b26f-49e7-91bf-14ac30afb2c8.SIG161/driver-20180823120053-0000-ea96a70b-2a29-4a39-9002-5b95e6dd139a.power9-1.bqdc.nanjing/stderr
2018-08-24T13:54:59+08:00 INFO Harvester started for file: /opt/cws221/elastic_logs/c6e868cd-b26f-49e7-91bf-14ac30afb2c8.SIG161/app-20180822200852-0000-d304607a-7dab-4609-b80f-5d283d76ec13/0-626d2191-a97f-41c1-969e-8c12c1f87d16.power9-1.bqdc.nanjing/stderr
2018-08-24T13:54:59+08:00 INFO Harvester started for file: /opt/cws221/elastic_logs/c6e868cd-b26f-49e7-91bf-14ac30afb2c8.SIG161/app-20180823134200-0004-7ed8ed0a-7082-4d77-bc04-9a29fe749e59/0-2623d7f8-69d8-4a7c-a551-82dba3bec6cf.power9-1.bqdc.nanjing/stderr
2018-08-24T13:54:59+08:00 INFO Harvester started for file: /opt/cws221/elastic_logs/c6e868cd-b26f-49e7-91bf-14ac30afb2c8.SIG161/driver-20180823133721-0002-dd310733-6058-45a0-a77f-c7e2732714d5.power9-1.bqdc.nanjing/stderr
2018-08-24T13:54:59+08:00 INFO Harvester started for file: /opt/cws221/elastic_logs/c6e868cd-b26f-49e7-91bf-14ac30afb2c8.SIG161/app-20180823134200-0004-7ed8ed0a-7082-4d77-bc04-9a29fe749e59/0-2623d7f8-69d8-4a7c-a551-82dba3bec6cf.power9-1.bqdc.nanjing/stderr
2018-08-24T13:54:59+08:00 INFO Harvester started for file: /opt/cws221/elastic_logs/c6e868cd-b26f-49e7-91bf-14ac30afb2c8.SIG161/app-20180823135534-0007-3b48b91f-86d1-4217-9f1b-a955c9c16033/0-6ddfda91-bdb9-4ad9-bf95-e5ecd11d39b2.power9-1.bqdc.nanjing/stderr
2018-08-24T13:54:59+08:00 INFO Harvester started for file: /opt/cws221/elastic_logs/c6e868cd-b26f-49e7-91bf-14ac30afb2c8.SIG161/driver-20180823133721-0003-aedb9667-c801-4940-b9d0-37f1e511dabe.power9-1.bqdc.nanjing/stderr
2018-08-24T13:54:59+08:00 INFO Harvester started for file: /opt/cws221/elastic_logs/c6e868cd-b26f-49e7-91bf-14ac30afb2c8.SIG161/driver-20180823135353-0006-c1b2390d-673c-45a4-9c5d-bb608ec8e412.power9-1.bqdc.nanjing/stderr
2018-08-24T13:54:59+08:00 INFO Harvester started for file: /opt/cws221/elastic_logs/c6e868cd-b26f-49e7-91bf-14ac30afb2c8.SIG161/app-20180823135534-0007-3b48b91f-86d1-4217-9f1b-a955c9c16033/0-6ddfda91-bdb9-4ad9-bf95-e5ecd11d39b2.power9-1.bqdc.nanjing/stderr
2018-08-24T13:54:59+08:00 INFO Harvester started for file: /opt/cws221/elastic_logs/c6e868cd-b26f-49e7-91bf-14ac30afb2c8.SIG161/app-20180823142033-0010-a0a354d9-ab60-41fe-9bd4-6564bd563624/0-965f6756-d1d4-4c7a-94c9-02a16812b41c.power9-1.bqdc.nanjing/stderr
2018-08-24T13:54:59+08:00 INFO Harvester started for file: /opt/cws221/elastic_logs/c6e868cd-b26f-49e7-91bf-14ac30afb2c8.SIG161/driver-20180823142023-0010-461cff42-2848-4571-a20f-a868456cda15.power9-1.bqdc.nanjing/stderr
2018-08-24T13:54:59+08:00 INFO Harvester started for file: /opt/cws221/elastic_logs/c6e868cd-b26f-49e7-91bf-14ac30afb2c8.SIG161/app-20180823180618-0000-469e9a39-dbc4-4025-a8eb-9d45d36c4332/0-a4db3fb2-a8b4-4170-83e0-8b1de999a09a.power9-1.bqdc.nanjing/stderr
2018-08-24T13:54:59+08:00 INFO Harvester started for file: /opt/cws221/elastic_logs/c6e868cd-b26f-49e7-91bf-14ac30afb2c8.SIG161/driver-20180823180607-0000-9f48a28d-6982-4a07-8924-b3ceabf99d98.power9-1.bqdc.nanjing/stderr
2018-08-24T13:54:59+08:00 INFO Harvester started for file: /opt/cws221/elastic_logs/c6e868cd-b26f-49e7-91bf-14ac30afb2c8.SIG161/app-20180823142033-0010-a0a354d9-ab60-41fe-9bd4-6564bd563624/0-965f6756-d1d4-4c7a-94c9-02a16812b41c.power9-1.bqdc.nanjing/stderr
2018-08-24T13:54:59+08:00 INFO Harvester started for file: /opt/cws221/elastic_logs/c6e868cd-b26f-49e7-91bf-14ac30afb2c8.SIG161/app-20180822201654-0001-5d30008e-a357-4986-9b0f-8b1238e1bf41/0-882e91e5-da73-49a9-8f32-cb41a6035ff1.power9-1.bqdc.nanjing/stderr
2018-08-24T13:54:59+08:00 INFO Harvester started for file: /opt/cws221/elastic_logs/c6e868cd-b26f-49e7-91bf-14ac30afb2c8.SIG161/app-20180823182138-0000-56f0b09a-c06e-4c92-aa9c-d8b146009ff1/0-0f8d8829-9131-4552-9ebf-8a8112727c97.power9-1.bqdc.nanjing/stderr
2018-08-24T13:54:59+08:00 INFO Harvester started for file: /opt/cws221/elastic_logs/c6e868cd-b26f-49e7-91bf-14ac30afb2c8.SIG161/driver-20180822201644-0001-4e4a4977-fd10-4d89-83e5-33c453641364.power9-1.bqdc.nanjing/stderr
2018-08-24T13:54:59+08:00 INFO Harvester started for file: /opt/cws221/elastic_logs/c6e868cd-b26f-49e7-91bf-14ac30afb2c8.SIG161/app-20180823120104-0000-53b59bf0-b459-4052-809d-c470b0619f5d/0-1e1181f7-9a25-4cd8-afda-b2cfb3389b9f.power9-1.bqdc.nanjing/stderr
2018-08-24T13:54:59+08:00 INFO Harvester started for file: /opt/cws221/elastic_logs/c6e868cd-b26f-49e7-91bf-14ac30afb2c8.SIG161/driver-20180823141918-0009-88237738-b8be-40e9-9bab-62b2f4f1d967.power9-1.bqdc.nanjing/stderr
2018-08-24T13:54:59+08:00 INFO Harvester started for file: /opt/cws221/elastic_logs/c6e868cd-b26f-49e7-91bf-14ac30afb2c8.SIG161/app-20180823120624-0001-076ef82e-bfed-48f3-a949-e1d51ad1c2f5/0-7ba0c877-0612-40ea-a941-267026d14a94.power9-1.bqdc.nanjing/stderr
2018-08-24T13:54:59+08:00 INFO Harvester started for file: /opt/cws221/elastic_logs/c6e868cd-b26f-49e7-91bf-14ac30afb2c8.SIG161/app-20180822200852-0000-d304607a-7dab-4609-b80f-5d283d76ec13/0-626d2191-a97f-41c1-969e-8c12c1f87d16.power9-1.bqdc.nanjing/stderr
2018-08-24T13:54:59+08:00 INFO Harvester started for file: /opt/cws221/elastic_logs/c6e868cd-b26f-49e7-91bf-14ac30afb2c8.SIG161/driver-20180822200841-0000-9b4c94d3-ac4b-40bd-baa6-63e61f4a5e11.power9-1.bqdc.nanjing/stderr
2018-08-24T13:54:59+08:00 INFO Harvester started for file: /opt/cws221/elastic_logs/c6e868cd-b26f-49e7-91bf-14ac30afb2c8.SIG161/driver-20180823141918-0008-b3d13f7b-e681-4a97-8a9b-c7aad554fbbf.power9-1.bqdc.nanjing/stderr
2018-08-24T13:54:59+08:00 INFO Harvester started for file: /opt/cws221/elastic_logs/c6e868cd-b26f-49e7-91bf-14ac30afb2c8.SIG161/driver-20180823182127-0000-7235809d-9953-4d67-90bb-afca84178fc9.power9-1.bqdc.nanjing/stderr
2018-08-24T13:54:59+08:00 INFO Harvester started for file: /opt/cws221/elastic_logs/c6e868cd-b26f-49e7-91bf-14ac30afb2c8.SIG161/app-20180823120104-0000-53b59bf0-b459-4052-809d-c470b0619f5d/0-1e1181f7-9a25-4cd8-afda-b2cfb3389b9f.power9-1.bqdc.nanjing/stderr
2018-08-24T13:54:59+08:00 INFO Harvester started for file: /opt/cws221/elastic_logs/c6e868cd-b26f-49e7-91bf-14ac30afb2c8.SIG161/driver-20180823120613-0001-5aa2cd3f-2d85-4767-8761-19812d587bd5.power9-1.bqdc.nanjing/stderr
2018-08-24T13:54:59+08:00 INFO Harvester started for file: /opt/cws221/elastic_logs/c6e868cd-b26f-49e7-91bf-14ac30afb2c8.SIG161/driver-20180823135337-0005-28bad204-7d40-4dd6-bf1c-f276aff5dcf2.power9-1.bqdc.nanjing/stderr
2018-08-24T13:54:59+08:00 INFO Harvester started for file: /opt/cws221/elastic_logs/c6e868cd-b26f-49e7-91bf-14ac30afb2c8.SIG161/app-20180823180618-0000-469e9a39-dbc4-4025-a8eb-9d45d36c4332/0-a4db3fb2-a8b4-4170-83e0-8b1de999a09a.power9-1.bqdc.nanjing/stderr
2018-08-24T13:54:59+08:00 INFO Harvester started for file: /opt/cws221/elastic_logs/c6e868cd-b26f-49e7-91bf-14ac30afb2c8.SIG161/driver-20180823135524-0007-c78a594d-c8c8-4fbd-a698-9d13d720d642.power9-1.bqdc.nanjing/stderr
2018-08-24T13:54:59+08:00 INFO Harvester started for file: /opt/cws221/elastic_logs/c6e868cd-b26f-49e7-91bf-14ac30afb2c8.SIG161/driver-20180823134150-0004-2a393a50-d27d-448e-8e91-97720071b0de.power9-1.bqdc.nanjing/stderr
2018-08-24T13:54:59+08:00 WARN SSL/TLS verifications disabled.
2018-08-24T13:54:59+08:00 WARN DNS lookup failure "power9-1.bqdc.nanjing": lookup power9-1.bqdc.nanjing on 192.168.0.1:53: no such host
2018-08-24T13:54:59+08:00 ERR Connecting error publishing events (retrying): lookup power9-1.bqdc.nanjing on 192.168.0.1:53: no such host
2018-08-24T13:55:01+08:00 WARN DNS lookup failure "power9-1.bqdc.nanjing": lookup power9-1.bqdc.nanjing on 192.168.0.1:53: no such host
2018-08-24T13:55:01+08:00 ERR Connecting error publishing events (retrying): lookup power9-1.bqdc.nanjing on 192.168.0.1:53: no such host
2018-08-24T13:55:03+08:00 WARN DNS lookup failure "power9-1.bqdc.nanjing": lookup power9-1.bqdc.nanjing on 192.168.0.1:53: no such host
2018-08-24T13:55:03+08:00 ERR Connecting error publishing events (retrying): lookup power9-1.bqdc.nanjing on 192.168.0.1:53: no such host
2018-08-24T13:55:12+08:00 WARN DNS lookup failure "power9-1.bqdc.nanjing": lookup power9-1.bqdc.nanjing on 192.168.0.1:53: no such host
2018-08-24T13:55:12+08:00 ERR Connecting error publishing events (retrying): lookup power9-1.bqdc.nanjing on 192.168.0.1:53: no such host
2018-08-24T13:55:20+08:00 WARN DNS lookup failure "power9-1.bqdc.nanjing": lookup power9-1.bqdc.nanjing on 192.168.0.1:53: no such host
2018-08-24T13:55:20+08:00 ERR Connecting error publishing events (retrying): lookup power9-1.bqdc.nanjing on 192.168.0.1:53: no such host
2018-08-24T13:55:29+08:00 INFO Non-zero metrics in the last 30s: filebeat.harvester.open_files=37 filebeat.harvester.running=37 filebeat.harvester.started=37 libbeat.publisher.published_events=669
2018-08-24T13:55:36+08:00 WARN DNS lookup failure "power9-1.bqdc.nanjing": lookup power9-1.bqdc.nanjing on 192.168.0.1:53: no such host
2018-08-24T13:55:36+08:00 ERR Connecting error publishing events (retrying): lookup power9-1.bqdc.nanjing on 192.168.0.1:53: no such host
2018-08-24T13:55:59+08:00 INFO No non-zero metrics in the last 30s
2018-08-24T13:56:08+08:00 WARN DNS lookup failure "power9-1.bqdc.nanjing": lookup power9-1.bqdc.nanjing on 192.168.0.1:53: no such host
2018-08-24T13:56:08+08:00 ERR Connecting error publishing events (retrying): lookup power9-1.bqdc.nanjing on 192.168.0.1:53: no such host
2018-08-24T13:56:29+08:00 INFO No non-zero metrics in the last 30s
2018-08-24T13:56:59+08:00 INFO No non-zero metrics in the last 30s
2018-08-24T13:57:08+08:00 WARN DNS lookup failure "power9-1.bqdc.nanjing": lookup power9-1.bqdc.nanjing on 192.168.0.1:53: no such host
2018-08-24T13:57:08+08:00 ERR Connecting error publishing events (retrying): lookup power9-1.bqdc.nanjing on 192.168.0.1:53: no such host
2018-08-24T13:57:29+08:00 INFO No non-zero metrics in the last 30s
2018-08-24T13:57:59+08:00 INFO No non-zero metrics in the last 30s
2018-08-24T13:58:08+08:00 WARN DNS lookup failure "power9-1.bqdc.nanjing": lookup power9-1.bqdc.nanjing on 192.168.0.1:53: no such host
2018-08-24T13:58:08+08:00 ERR Connecting error publishing events (retrying): lookup power9-1.bqdc.nanjing on 192.168.0.1:53: no such host
2018-08-24T13:58:29+08:00 INFO No non-zero metrics in the last 30s
wer9-1.bqdc.nanjing
~
[root@power9-1 filebeat]# ns
nsenter   nslookup  nstat     nsupdate  
[root@power9-1 filebeat]# ns
nsenter   nslookup  nstat     nsupdate  
[root@power9-1 filebeat]# nslookup power9-1.bqdc.nanjing
Server:         192.168.0.1
Address:        192.168.0.1#53

** server can't find power9-1.bqdc.nanjing: NXDOMAIN

[root@power9-1 filebeat]# vi /etc/hosts
127.0.0.1   localhost localhost.localdomain localhost4 localhost4.localdomain4
::1         localhost localhost.localdomain localhost6 localhost6.localdomain6
~
~
~
~
~
~
~
~
~
~
~
~
~
~
~
~
~
~
~
~
~
~
~
~
~
~
~
~
~
~
~
~
~
~
~
~
~
~
~
~
~
~
~
~
~
~
~
~
~
~
~
~
~
~
~
~
~
~
~
~
~
~
~
~
~
~
[root@power9-1 filebeat]# hostname -f
power9-1.bqdc.nanjing
[root@power9-1 filebeat]# power9-1.bqdc.nanjingpower9-1.bqdc.nanjing
-bash: power9-1.bqdc.nanjingpower9-1.bqdc.nanjing: command not found
[root@power9-1 filebeat]# 
[root@power9-1 filebeat]# 
[root@power9-1 filebeat]# 
[root@power9-1 filebeat]# 
[root@power9-1 filebeat]# 
[root@power9-1 filebeat]# 
[root@power9-1 filebeat]# 
[root@power9-1 filebeat]# 
[root@power9-1 filebeat]# 
[root@power9-1 filebeat]# 
[root@power9-1 filebeat]# 
[root@power9-1 filebeat]# 
[root@power9-1 filebeat]# ifconfig
enP5p1s0f0: flags=4163<UP,BROADCAST,RUNNING,MULTICAST>  mtu 1500
        inet 192.168.0.132  netmask 255.255.255.0  broadcast 192.168.0.255
        inet6 fe80::72e2:84ff:fe14:6721  prefixlen 64  scopeid 0x20<link>
        ether 70:e2:84:14:67:21  txqueuelen 1000  (Ethernet)
        RX packets 6631490  bytes 8378573224 (7.8 GiB)
        RX errors 0  dropped 0  overruns 0  frame 0
        TX packets 3120520  bytes 537030603 (512.1 MiB)
        TX errors 0  dropped 0 overruns 0  carrier 0  collisions 0
        device interrupt 80  

enP5p1s0f1: flags=4099<UP,BROADCAST,MULTICAST>  mtu 1500
        ether 70:e2:84:14:67:22  txqueuelen 1000  (Ethernet)
        RX packets 0  bytes 0 (0.0 B)
        RX errors 0  dropped 0  overruns 0  frame 0
        TX packets 0  bytes 0 (0.0 B)
        TX errors 0  dropped 0 overruns 0  carrier 0  collisions 0
        device interrupt 81  

lo: flags=73<UP,LOOPBACK,RUNNING>  mtu 65536
        inet 127.0.0.1  netmask 255.0.0.0
        inet6 ::1  prefixlen 128  scopeid 0x10<host>
        loop  txqueuelen 1000  (Local Loopback)
        RX packets 17540474  bytes 12400880849 (11.5 GiB)
        RX errors 0  dropped 0  overruns 0  frame 0
        TX packets 17540474  bytes 12400880849 (11.5 GiB)
        TX errors 0  dropped 0 overruns 0  carrier 0  collisions 0

[root@power9-1 filebeat]# vi /etc/hosts
127.0.0.1   localhost localhost.localdomain localhost4 localhost4.localdomain4
::1         localhost localhost.localdomain localhost6 localhost6.localdomain6
192.168.0.132 power9-1.qdbc.nanjing
~
~
~
~
~
~
~
~
~
~
~
~
~
~
~
~
~
~
~
~
~
~
~
~
~
~
~
~
~
~
~
~
~
~
~
~
~
~
~
~
~
~
~
~
~
~
~
~
~
~
~
~
~
~
~
~
~
~
~
~
~
~
~
~
~
"/etc/hosts" 3L, 194C written
[root@power9-1 filebeat]# ifconfig
enP5p1s0f0: flags=4163<UP,BROADCAST,RUNNING,MULTICAST>  mtu 1500
        inet 192.168.0.132  netmask 255.255.255.0  broadcast 192.168.0.255
        inet6 fe80::72e2:84ff:fe14:6721  prefixlen 64  scopeid 0x20<link>
        ether 70:e2:84:14:67:21  txqueuelen 1000  (Ethernet)
        RX packets 6632186  bytes 8378658203 (7.8 GiB)
        RX errors 0  dropped 0  overruns 0  frame 0
        TX packets 3121013  bytes 537089784 (512.2 MiB)
        TX errors 0  dropped 0 overruns 0  carrier 0  collisions 0
        device interrupt 80  

enP5p1s0f1: flags=4099<UP,BROADCAST,MULTICAST>  mtu 1500
        ether 70:e2:84:14:67:22  txqueuelen 1000  (Ethernet)
        RX packets 0  bytes 0 (0.0 B)
        RX errors 0  dropped 0  overruns 0  frame 0
        TX packets 0  bytes 0 (0.0 B)
        TX errors 0  dropped 0 overruns 0  carrier 0  collisions 0
        device interrupt 81  

lo: flags=73<UP,LOOPBACK,RUNNING>  mtu 65536
        inet 127.0.0.1  netmask 255.0.0.0
        inet6 ::1  prefixlen 128  scopeid 0x10<host>
        loop  txqueuelen 1000  (Local Loopback)
        RX packets 17547651  bytes 12406167364 (11.5 GiB)
        RX errors 0  dropped 0  overruns 0  frame 0
        TX packets 17547651  bytes 12406167364 (11.5 GiB)
        TX errors 0  dropped 0 overruns 0  carrier 0  collisions 0

[root@power9-1 filebeat]# hostname
power9-1.bqdc.nanjing
[root@power9-1 filebeat]# cat /etc/hosts
127.0.0.1   localhost localhost.localdomain localhost4 localhost4.localdomain4
::1         localhost localhost.localdomain localhost6 localhost6.localdomain6
192.168.0.132 power9-1.qdbc.nanjing
[root@power9-1 filebeat]# vi /etc/hosts
127.0.0.1   localhost localhost.localdomain localhost4 localhost4.localdomain4
::1         localhost localhost.localdomain localhost6 localhost6.localdomain6
192.168.0.132 power9-1.bqdc.nanjing
~
~
~
~
~
~
~
~
~
~
~
~
~
~
~
~
~
~
~
~
~
~
~
~
~
~
~
~
~
~
~
~
~
~
~
~
~
~
~
~
~
~
~
~
~
~
~
~
~
~
~
~
~
~
~
~
~
~
~
~
~
~
~
~
~
"/etc/hosts" 3L, 194C written
[root@power9-1 filebeat]# ping `hostname`
PING power9-1.bqdc.nanjing (192.168.0.132) 56(84) bytes of data.
64 bytes from power9-1.bqdc.nanjing (192.168.0.132): icmp_seq=1 ttl=64 time=0.029 ms
64 bytes from power9-1.bqdc.nanjing (192.168.0.132): icmp_seq=2 ttl=64 time=0.022 ms
64 bytes from power9-1.bqdc.nanjing (192.168.0.132): icmp_seq=3 ttl=64 time=0.045 ms
64 bytes from power9-1.bqdc.nanjing (192.168.0.132): icmp_seq=4 ttl=64 time=0.022 ms
^C
--- power9-1.bqdc.nanjing ping statistics ---
4 packets transmitted, 4 received, 0% packet loss, time 3131ms
rtt min/avg/max/mdev = 0.022/0.029/0.045/0.010 ms
[root@power9-1 filebeat]# ll
total 24
-rw-------. 1 root root 22362 Aug 24 14:04 filebeat.log.power9-1.bqdc.nanjing
[root@power9-1 filebeat]# cd ..
[root@power9-1 log]# cd ..
[root@power9-1 elk]# ll
total 152
drwxrwxr-x. 8 egoadmin egoadmin   4096 Aug 22 17:20 1.4
drwxr-xr-x. 4 egoadmin egoadmin   4096 Aug 22 17:20 activation
drwxr-sr-x. 9 egoadmin egoadmin   4096 Aug 23 17:55 conf
-rw-rw-r--. 1 egoadmin egoadmin 128966 Aug 23 16:09 elk-log.tar.gz
drwxr-xr-x. 4 egoadmin egoadmin   4096 Aug 22 18:26 hosts
drwxr-sr-x. 3 egoadmin egoadmin   4096 Aug 22 17:20 init
drwxr-xr-x. 6 egoadmin egoadmin   4096 Aug 24 13:54 log
[root@power9-1 elk]# cd conf/
[root@power9-1 conf]# cd ..
[root@power9-1 elk]# ll hosts/
es.master/             power9-1.bqdc.nanjing/ 
[root@power9-1 elk]# ll hosts/power9-1.bqdc.nanjing/
es.client/ es.data/   indexer/   shipper/   
[root@power9-1 elk]# ll hosts/power9-1.bqdc.nanjing/
es.client/ es.data/   indexer/   shipper/   
[root@power9-1 elk]# ll hosts/power9-1.bqdc.nanjing/
es.client/ es.data/   indexer/   shipper/   
[root@power9-1 elk]# ll hosts/power9-1.bqdc.nanjing/shipper/
conf/         data/         filebeat.yml  
[root@power9-1 elk]# ll hosts/power9-1.bqdc.nanjing/shipper/
conf/         data/         filebeat.yml  
[root@power9-1 elk]# ll hosts/power9-1.bqdc.nanjing/shipper//filebeat.yml 
-rwxr-xr-x. 1 root root 388 Aug 24 13:54 hosts/power9-1.bqdc.nanjing/shipper//filebeat.yml
[root@power9-1 elk]# cat hosts/power9-1.bqdc.nanjing/shipper//filebeat.yml 
filebeat:
  config_dir: "conf/"
  shutdown_timeout: 5s

output:
  logstash:
    hosts: [ "power9-1.bqdc.nanjing:28310" ]
    loadbalance: true
    ssl.certificate_authorities: ["${DEPLOY_HOME}/${ELK_VERSION}/scripts/lumberjack.crt"]
    ssl.verification_mode: none

logging.level: info
logging.files:
  name: filebeat.log.${EGOSC_INSTANCE_HOST}
  keepfiles: 5
  rotateeverybytes: 10485760[root@power9-1 elk]# :q
-bash: :q: command not found
[root@power9-1 elk]# ll
total 152
drwxrwxr-x. 8 egoadmin egoadmin   4096 Aug 22 17:20 1.4
drwxr-xr-x. 4 egoadmin egoadmin   4096 Aug 22 17:20 activation
drwxr-sr-x. 9 egoadmin egoadmin   4096 Aug 23 17:55 conf
-rw-rw-r--. 1 egoadmin egoadmin 128966 Aug 23 16:09 elk-log.tar.gz
drwxr-xr-x. 4 egoadmin egoadmin   4096 Aug 22 18:26 hosts
drwxr-sr-x. 3 egoadmin egoadmin   4096 Aug 22 17:20 init
drwxr-xr-x. 6 egoadmin egoadmin   4096 Aug 24 13:54 log
[root@power9-1 elk]# egosh service stop elk-shipper
Service <elk-shipper> has been stopped successfully
[root@power9-1 elk]# cd conf/
[root@power9-1 conf]# ll
total 52
-rwxr-xr-x. 1 egoadmin egoadmin  154 Aug 22 17:20 cshrc.elk
drwxr-xr-x. 3 egoadmin egoadmin 4096 Aug 23 17:50 elasticsearch
-rwxr-xr-x. 1 egoadmin egoadmin  430 Aug 22 17:20 elk.conf
-rw-------. 1 egoadmin egoadmin  173 Aug 23 17:52 elk_hosts.conf
-rwxr-xr-x. 1 egoadmin egoadmin  369 Dec  1  2017 filebeat.yml.template
drwxr-xr-x. 2 egoadmin egoadmin 4096 Aug 23 11:04 grok-pattern
drwxr-xr-x. 2 egoadmin egoadmin 4096 Aug 23 17:52 indexcleanup
drwxr-xr-x. 2 egoadmin egoadmin 4096 Aug 23 11:04 indexer
drwxr-xr-x. 2 egoadmin egoadmin 4096 Aug 24 14:06 logrotate.d
drwxr-xr-x. 2 egoadmin egoadmin 4096 Aug 22 17:20 logstash
-rwxr-xr-x. 1 egoadmin egoadmin  173 Aug 22 17:20 profile.elk
drwxr-xr-x. 2 egoadmin egoadmin 4096 Aug 24 13:53 shipper
-rwxr-xr-x. 1 egoadmin egoadmin  511 Dec  1  2017 topbeat.yml.template
-rw-r--r--. 1 egoadmin egoadmin    0 Aug 22 18:26 updatedfiles
[root@power9-1 conf]# vi filebeat.yml.template 
filebeat:
  config_dir: "conf/"
  shutdown_timeout: 5s

output:
  logstash:
    hosts: [ @INDEXERS@ ]
    loadbalance: true
    ssl.certificate_authorities: ["${DEPLOY_HOME}/${ELK_VERSION}/scripts/lumberjack.crt"]
    ssl.verification_mode: none

logging.level: info
logging.files:
  name: filebeat.log.${EGOSC_INSTANCE_HOST}
  keepfiles: 5
  rotateeverybytes: 10485760
~
~
~
~
~
~
~
~
~
~
~
~
~
~
~
~
~
~
~
~
~
~
~
~
~
~
~
~
~
~
~
~
~
~
~
~
~
~
~
~
~
~
~
~
~
~
~
~
~
~
~
~
[root@power9-1 conf]# ll
total 52
-rwxr-xr-x. 1 egoadmin egoadmin  154 Aug 22 17:20 cshrc.elk
drwxr-xr-x. 3 egoadmin egoadmin 4096 Aug 23 17:50 elasticsearch
-rwxr-xr-x. 1 egoadmin egoadmin  430 Aug 22 17:20 elk.conf
-rw-------. 1 egoadmin egoadmin  173 Aug 23 17:52 elk_hosts.conf
-rwxr-xr-x. 1 egoadmin egoadmin  369 Dec  1  2017 filebeat.yml.template
drwxr-xr-x. 2 egoadmin egoadmin 4096 Aug 23 11:04 grok-pattern
drwxr-xr-x. 2 egoadmin egoadmin 4096 Aug 23 17:52 indexcleanup
drwxr-xr-x. 2 egoadmin egoadmin 4096 Aug 23 11:04 indexer
drwxr-xr-x. 2 egoadmin egoadmin 4096 Aug 24 14:06 logrotate.d
drwxr-xr-x. 2 egoadmin egoadmin 4096 Aug 22 17:20 logstash
-rwxr-xr-x. 1 egoadmin egoadmin  173 Aug 22 17:20 profile.elk
drwxr-xr-x. 2 egoadmin egoadmin 4096 Aug 24 13:53 shipper
-rwxr-xr-x. 1 egoadmin egoadmin  511 Dec  1  2017 topbeat.yml.template
-rw-r--r--. 1 egoadmin egoadmin    0 Aug 22 18:26 updatedfiles
[root@power9-1 conf]# cp filebeat.yml.template filebeat.yml.template .bak
cp: target .bak is not a directory
[root@power9-1 conf]# ifconifg
-bash: ifconifg: command not found
[root@power9-1 conf]# cat elk.conf 
# ELK service port number
ELK_ESHTTP_PORT=28210
ELK_ESSYSCOMM_PORT=9300
ELK_ESHTTP_MASTER_PORT=9201
ELK_ESSYSCOMM_MASTER_PORT=9301
ELK_ESHTTP_DATA_PORT=9202
ELK_ESSYSCOMM_DATA_PORT=9302
ES_CLIENT_HEAP_SIZE=4g
ES_DATA_HEAP_SIZE=4g
ES_MASTER_HEAP_SIZE=2g
LS_HEAP_SIZE=4g
ES_BOOTSTRAP_SYSTEM_CALL_FILTER=false
ES_THREAD_POOL_BULK_QUEUE_SIZE=5000
LS_BATCH_SIZE=1000
CA_CERT_PATH=${EGO_TOP}/wlp/usr/shared/resources/security/cacert.pem[root@power9-1 conf]# cat elk_hosts.conf 
ELK_ES_MASTER_NODE=https://power9-1.bqdc.nanjing:9201
ELK_ES_CLIENT_NODES=power9-1.bqdc.nanjing,
ELK_ES_DATA_NODES=power9-1.bqdc.nanjing,
ELK_LS_NODES=power9-1.bqdc.nanjing
[root@power9-1 conf]# cd ../hosts/
es.master/             power9-1.bqdc.nanjing/ 
[root@power9-1 conf]# cd ../hosts/
es.master/             power9-1.bqdc.nanjing/ 
[root@power9-1 conf]# cd ../hosts/
es.master/             power9-1.bqdc.nanjing/ 
[root@power9-1 conf]# cd ../hosts/
es.master/             power9-1.bqdc.nanjing/ 
[root@power9-1 conf]# cd ../hosts/
es.master/             power9-1.bqdc.nanjing/ 
[root@power9-1 conf]# cd ../hosts/
es.master/             power9-1.bqdc.nanjing/ 
[root@power9-1 conf]# cd ../hosts/power9-1.bqdc.nanjing/
es.client/ es.data/   indexer/   shipper/   
[root@power9-1 conf]# cd ../hosts/power9-1.bqdc.nanjing/
es.client/ es.data/   indexer/   shipper/   
[root@power9-1 conf]# cd ../hosts/power9-1.bqdc.nanjing/shipper/
conf/ data/ 
[root@power9-1 conf]# cd ../hosts/power9-1.bqdc.nanjing/shipper/
conf/ data/ 
[root@power9-1 conf]# cd ../hosts/power9-1.bqdc.nanjing/shipper/
[root@power9-1 shipper]# ll
total 12
drwxr-xr-x. 2 root root 4096 Aug 24 13:54 conf
drwxr-x---. 2 root root 4096 Aug 24 14:06 data
-rwxr-xr-x. 1 root root  388 Aug 24 13:54 filebeat.yml
[root@power9-1 shipper]# cat filebeat.yml 
filebeat:
  config_dir: "conf/"
  shutdown_timeout: 5s

output:
  logstash:
    hosts: [ "power9-1.bqdc.nanjing:28310" ]
    loadbalance: true
    ssl.certificate_authorities: ["${DEPLOY_HOME}/${ELK_VERSION}/scripts/lumberjack.crt"]
    ssl.verification_mode: none

logging.level: info
logging.files:
  name: filebeat.log.${EGOSC_INSTANCE_HOST}
  keepfiles: 5
  rotateeverybytes: 10485760[root@power9-1 shipper]# cd -
/opt/cws221/integration/elk/conf
[root@power9-1 conf]# ll
total 52
-rwxr-xr-x. 1 egoadmin egoadmin  154 Aug 22 17:20 cshrc.elk
drwxr-xr-x. 3 egoadmin egoadmin 4096 Aug 23 17:50 elasticsearch
-rwxr-xr-x. 1 egoadmin egoadmin  430 Aug 22 17:20 elk.conf
-rw-------. 1 egoadmin egoadmin  173 Aug 23 17:52 elk_hosts.conf
-rwxr-xr-x. 1 egoadmin egoadmin  369 Dec  1  2017 filebeat.yml.template
drwxr-xr-x. 2 egoadmin egoadmin 4096 Aug 23 11:04 grok-pattern
drwxr-xr-x. 2 egoadmin egoadmin 4096 Aug 23 17:52 indexcleanup
drwxr-xr-x. 2 egoadmin egoadmin 4096 Aug 23 11:04 indexer
drwxr-xr-x. 2 egoadmin egoadmin 4096 Aug 24 14:08 logrotate.d
drwxr-xr-x. 2 egoadmin egoadmin 4096 Aug 22 17:20 logstash
-rwxr-xr-x. 1 egoadmin egoadmin  173 Aug 22 17:20 profile.elk
drwxr-xr-x. 2 egoadmin egoadmin 4096 Aug 24 13:53 shipper
-rwxr-xr-x. 1 egoadmin egoadmin  511 Dec  1  2017 topbeat.yml.template
-rw-r--r--. 1 egoadmin egoadmin    0 Aug 22 18:26 updatedfiles
[root@power9-1 conf]# vi filebeat.yml.template
filebeat:
  config_dir: "conf/"
  shutdown_timeout: 5s

output:
  logstash:
    hosts: [ "192.168.0.132:28310" ]
    #hosts: [ @INDEXERS@ ]
    loadbalance: true
    ssl.certificate_authorities: ["${DEPLOY_HOME}/${ELK_VERSION}/scripts/lumberjack.crt"]
    ssl.verification_mode: none

logging.level: info
logging.files:
  name: filebeat.log.${EGOSC_INSTANCE_HOST}
  keepfiles: 5
  rotateeverybytes: 10485760
~
~
~
~
~
~
~
~
~
~
~
~
~
~
~
~
~
~
~
~
~
~
~
~
~
~
~
~
~
~
~
~
~
~
~
~
~
~
~
~
~
~
~
~
~
~
~
~
~
~
~
"filebeat.yml.template" 17L, 408C written
[root@power9-1 conf]# cd ../log/filebeat
[root@power9-1 filebeat]# ll
total 32
-rw-------. 1 root root 29516 Aug 24 14:06 filebeat.log.power9-1.bqdc.nanjing
[root@power9-1 filebeat]# egosh service stop elk-shipper
Service <elk-shipper> has been stopped successfully
[root@power9-1 filebeat]# lll
-bash: lll: command not found
[root@power9-1 filebeat]# ll
total 32
-rw-------. 1 root root 29516 Aug 24 14:06 filebeat.log.power9-1.bqdc.nanjing
[root@power9-1 filebeat]# rm -f filebeat.log.power9-1.bqdc.nanjing 
[root@power9-1 filebeat]# egosh service start elk-shipper
Starting service <elk-shipper>. Run <service view> to ensure startup
[root@power9-1 filebeat]# ll
total 4
-rw-------. 1 root root 2421 Aug 24 14:11 filebeat.log.power9-1.bqdc.nanjing
[root@power9-1 filebeat]# tail -f filebeat.log.power9-1.bqdc.nanjing 
2018-08-24T14:11:35+08:00 INFO Starting prospector of type: log; id: 6808117022014816329 
2018-08-24T14:11:35+08:00 INFO Prospector with previous states loaded: 0
2018-08-24T14:11:35+08:00 INFO Starting prospector of type: log; id: 1871423471722972230 
2018-08-24T14:11:35+08:00 INFO Prospector with previous states loaded: 9
2018-08-24T14:11:35+08:00 INFO Starting prospector of type: log; id: 16279603181170572078 
2018-08-24T14:11:35+08:00 INFO Prospector with previous states loaded: 15
2018-08-24T14:11:35+08:00 INFO Starting prospector of type: log; id: 2716880446245317665 
2018-08-24T14:11:35+08:00 INFO Prospector with previous states loaded: 9
2018-08-24T14:11:35+08:00 INFO Starting prospector of type: log; id: 10089714921555208633 
2018-08-24T14:11:35+08:00 INFO Loading and starting Prospectors completed. Enabled prospectors: 5
2018-08-24T14:12:05+08:00 INFO Non-zero metrics in the last 30s: publish.events=39 registrar.states.current=30 registrar.states.update=39 registrar.writes=1
2018-08-24T14:12:35+08:00 INFO No non-zero metrics in the last 30s
^C
[root@power9-1 filebeat]# curl -k -u Admin:Admin https://``hostname`:28210/_cat/indices?v
> ^C
[root@power9-1 filebeat]# curl -k -u Admin:Admin https://`hostname`:28210/_cat/indices?v
health status index                                                                                                                           uuid                   pri rep docs.count docs.deleted store.size pri.store.size
yellow open   ibm-cws-ego-activity-c6e868cd-b26f-49e7-91bf-14ac30afb2c8-2018.08.22                                                            PYlewsM4T5WjUZzib7cDsQ   3   1          4            0       49kb           49kb
yellow open   ibm-dlmao-spark-executor-work-c6e868cd-b26f-49e7-91bf-14ac30afb2c8-app-20180823182138-0000-56f0b09a-c06e-4c92-aa9c-d8b146009ff1 7JhdDLAHSCSTS86QLvN3zA   5   1        736            0    849.9kb        849.9kb
yellow open   ibm-cws-spark-task-c6e868cd-b26f-49e7-91bf-14ac30afb2c8-2018.08.23                                                              b0xGeEXnSUa16S2-5UFDuw   3   1          7            0     19.8kb         19.8kb
yellow open   ibm-dlmao-spark-executor-work-c6e868cd-b26f-49e7-91bf-14ac30afb2c8-app-20180823134200-0004-7ed8ed0a-7082-4d77-bc04-9a29fe749e59 VTJnzZ0-QAq9N32D4X4-yw   5   1        784            0    795.3kb        795.3kb
yellow open   ibm-dlmao-spark-executor-work-c6e868cd-b26f-49e7-91bf-14ac30afb2c8-app-20180823180618-0000-469e9a39-dbc4-4025-a8eb-9d45d36c4332 SFe2_QEHRhWXOqTrL_jHXw   5   1        784            0    771.8kb        771.8kb
yellow open   ibm-cws-spark-log-c6e868cd-b26f-49e7-91bf-14ac30afb2c8-2018.08.22                                                               FTVVoqrbRwqUczE93co8Yg   3   1         10            0     41.5kb         41.5kb
yellow open   ibm-cws-ego-activity-c6e868cd-b26f-49e7-91bf-14ac30afb2c8-2018.08.23                                                            MDOUNQLOQQO1bzlol8TsNw   3   1         20            0    195.7kb        195.7kb
yellow open   ibm-dlmao-spark-executor-work-c6e868cd-b26f-49e7-91bf-14ac30afb2c8-app-20180823142033-0010-a0a354d9-ab60-41fe-9bd4-6564bd563624 5JfvOsmlRlKe8s7swHkPxA   5   1        784            0    845.9kb        845.9kb
yellow open   ibm-cws-spark-metric-c6e868cd-b26f-49e7-91bf-14ac30afb2c8-2018.08.24                                                            gTmt3lkhRc6a1vyFYdJIhg   3   1         86            0     59.8kb         59.8kb
yellow open   ibm-cws-spark-metric-c6e868cd-b26f-49e7-91bf-14ac30afb2c8-2018.08.23                                                            zfXlDQh7S0WodeWsE3fr-Q   3   1        688            0    106.7kb        106.7kb
yellow open   ibm-cws-spark-task-c6e868cd-b26f-49e7-91bf-14ac30afb2c8-2018.08.22                                                              Bn1wLY5gSlKvvlSgQqUOlQ   3   1          2            0       12kb           12kb
yellow open   ibm-cws-spark-metric-c6e868cd-b26f-49e7-91bf-14ac30afb2c8-2018.08.22                                                            O5w1CxjeSYOfoLYRDmvESQ   3   1          4            0     17.1kb         17.1kb
yellow open   ibm-cws-spark-log-c6e868cd-b26f-49e7-91bf-14ac30afb2c8-2018.08.23                                                               BIUIpxTqSRmTe7D2dVEhvg   3   1         54            0     62.6kb         62.6kb
[root@power9-1 filebeat]# 